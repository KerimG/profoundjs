var o=[];window.pui={};var y=navigator.userAgent.toLowerCase();pui.is_ie=false;pui.is_opera=y.indexOf("opera")!=-1||y.indexOf("opr/")!=-1;pui.is_chrome=y.indexOf("chrome")!=-1;pui.is_safari=!pui.is_chrome&&y.indexOf("safari")!=-1;pui.is_firefox=y.indexOf("firefox")!=-1;pui.is_android=y.indexOf("android")!=-1;pui.is_quirksmode=document.compatMode=="BackCompat";var aa,B,ca,J;aa=/trident\/([0-9]{1,}[.0-9]{0,})/;J=aa.exec(y);if(J!=null)B=parseFloat(J[1]);
if(!pui.is_opera){aa=/msie ([0-9]{1,}[.0-9]{0,})/;J=aa.exec(y);if(J!=null)ca=parseFloat(J[1])}if(B||ca){pui.is_ie=true;pui.ie_mode=ca||B+4;if(pui.ie_mode<11)pui.is_old_ie=true;pui.ie_version=B?B+4:ca}pui.secLevel=0;pui.C=null;pui.Yg=null;pui.Zg=null;pui.defaultDateFormat="MM/DD/YY";pui.is_touch="ontouchstart"in window;pui.touchDevice=pui.is_touch;pui.is_mouse_capable=false;pui.designer={};pui.designer["initial keywords"]=[];pui.designer.hg={};pui.ide={};pui.cnv={};pui.cnv.Gg={};pui.toolbox={};
pui.toolbox.add=function(){};pui["field exit key"]=107;pui["no connection status"]=false;pui["client side timeout"]=true;pui.vc={"*ISO":1,"*USA":2,"*EUR":3,"*JIS":4,"*MDY":5,"*DMY":6,"*YMD":7,"*JUL":8,"*JOB":10};pui.wc={"/":1,"-":2,".":3,",":4," ":5,"*BLANK":5,"*JOB":7};pui.xc={"*ISO":1,"*USA":2,"*EUR":3,"*JIS":4,"*HMS":9};pui.yc={".":3,",":4," ":5,"*BLANK":5,":":6,"*JOB":7};pui.Rf=false;pui.tg=null;pui["function key pattern"]="^(F|CA|CF|CK|CMD)([0-9]{1,2})([=:-])(.*)$";
pui["special key pattern"]="^(Enter|PageUp|PageDown|Rollup|RollDown|RollDn|PgUp|PgDn|Help|Print)([=-])(.*)$";pui.ph=0;pui["session timeout retries"]=0;pui.lg=0;pui.bh=false;pui.gc="application/vnd.openxmlformats";pui.va=pui.gc+"-officedocument.spreadsheetml";pui.S='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';pui.Aa="http://schemas.openxmlformats.org";pui.tb=pui.Aa+"/spreadsheetml/2006/main";pui.sb=pui.Aa+"/package/2006/relationships";pui.R=pui.Aa+"/officeDocument/2006/relationships";function M(a){var b;if(!a)a=window.event;if(a.touches!=null&&a.touches.length==1)return a.touches[0].target;if(a.target)b=a.target;else if(a.srcElement)b=a.srcElement;if(b.nodeType==3)b=b.parentNode;return b}function N(a){if(!a)a=window.event;if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}if(a.preventDefault){a.cancelBubble=true;a.preventDefault()}}
function da(a){var b;if(typeof a=="string")a=Q(a);if(a==null)return-1;if(a.tagName!="INPUT"||!pui.qd(a))return-1;if(document.selection!=null){if(a==null)a=document.activeElement;b=document.selection.createRange()}var c=0;if(a!=null&&b!=null&&a.createTextRange!=null)try{var d=a.createTextRange();if(d){for(;b.compareEndPoints("StartToStart",d)>0;){d.moveStart("character",1);c++}return c}}catch(e){return-1}else if(a!=null)try{if(a.selectionStart!=null)return a.selectionStart}catch(f){}return-1}
function ea(){if(toolbar==null)return false;if(toolbar.designer==null)return false;return true}pui.Cg=function(a,b){var c=a[b];if(c==null){var d=b.split(" "),e=Number(d[d.length-1]);if(!isNaN(e)&&e>0){d.pop();d=a[d.join(" ")];if(d!=null){c={};for(var f in d){e=d[f];if(f=="name")c.name=b;else if(typeof e=="object"&&e.length!=null){c[f]=[];for(var g=0;g<e.length;g++)c[f].push(e[g])}else c[f]=d[f]}}}}return c};pui.Ca=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return c;return-1};
pui.$f=function(a,b){for(var c=0;c<a.length;c++)b(a[c])};pui.nh=function(a,b){if(b==null)b=0;var c=parseInt(a,10);if(isNaN(c))c=b;return c};
pui.Tg=function(){var a={9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"Caps Lock",27:"Esc",33:"Page Up",34:"Page Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",3:"Enter",63234:"Left",63235:"Right",63232:"Up",63233:"Down",63276:"Page Up",63277:"Page Down",63272:"Delete",63273:"Home",63275:"End"},b={8:"Backspace",9:"Tab",13:"Enter",27:"Esc",33:"Page Up",34:"Page Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",46:"Delete"},c=!/webkit/.test(navigator.userAgent.toLowerCase())&&
/gecko/.test(navigator.userAgent.toLowerCase());if(pui.is_ie)c=false;return function(d,e){var f=String.fromCharCode(d.charCode||d.keyCode);d.ctrlKey||c&&b[d.keyCode]||!c&&a[d.keyCode]&&!f||e.test(f)||N(d)}}();
pui.Hc=function(a){if(!(pui.is_touch&&!pui.is_mouse_capable||pui.Jg))if(pui.nf==null)if(pui.confirmOnClose&&!pui.skipConfirm){for(var b=window;b!=null&&b!=b.parent;){b=b.parent;if(pui.Ua(b))return;try{if(typeof b.pui!="undefined")return}catch(c){}}if(!ea()||recordFormats.Mg()){b=pui.me?pui.closeMessage:pui.getLanguageText("runtimeMsg","closeMessage");return a.returnValue=b}}};
pui.unload=function(){if(pui.shutdownOnClose&&pui.nf==null){pui.halted=true;window.puihalted=true;pui.jf();var a;a=pui.Ce==null?R("PUI0001200.pgm"):R("PUI0002110.pgm");if(pui.psid!=null&&pui.psid!="")a+="/"+pui.psid;if(pui.overrideSubmitUrl!=null&&typeof pui.overrideSubmitUrl=="function")try{a=pui.overrideSubmitUrl(a)}catch(b){}navigator!=null&&typeof navigator.sendBeacon=="function"?navigator.sendBeacon(a,"shutdown=1"):ha({url:a,method:"post",Lf:true,gh:{shutdown:"1"}});pui.shutdownOnClose=false}};
pui.ag=function(){if(window.attachEvent){window.attachEvent("onbeforeunload",pui.Hc);window.attachEvent("onunload",pui.unload)}else if(window.addEventListener){window.addEventListener("beforeunload",pui.Hc,false);window.addEventListener("unload",pui.unload,false)}};
pui.Pc=function(a,b,c){var d=document.createElement("form");d.action=R("PUI0009106.pgm")+"?contentType="+a+"&fileName="+b;d.method="post";a=ja("input","data");a.type="hidden";a.value=c;d.appendChild(a);document.body.appendChild(d);pui.skipConfirm=true;d.submit();setTimeout(function(){d.parentNode.removeChild(d);pui.skipConfirm=false},0)};
pui.A=function(a,b){var c=a.className;if(c==null)c="";c=c.split(" ");for(var d=[],e=0;e<c.length;e++){if(c[e]==b)return;c[e]!=""&&d.push(c[e])}d.push(b);a.className=d.join(" ")};pui.G=function(a,b){a.className=pui.Bf(a.className,b)};pui.Bf=function(a,b,c){if(a==null)return"";if(a=="")return"";if(c==null||c=="")c=" ";a=a.split(c);c=[];for(var d=0;d<a.length;d++)a[d]!=""&&a[d]!=b&&c.push(a[d]);return c.join(" ")};
pui.wh=function(a,b){if(!(a.readOnly||a.disabled))if(!(b==null||b==null)){var c=a;if(c.comboBoxWidget!=null)c=c.comboBoxWidget.ug();c.pa=b;pui.Eb(c);T(c,"focus",function(d){d=M(d);if(d.value==d.pa){d.value="";pui.G(d,"empty-text")}});T(c,"blur",function(d){pui.Eb(M(d))})}};pui.Eb=function(a){if(!(a.readOnly||a.disabled))if(!(a.pa==null||a.pa==null)){if(a.value=="")a.value=a.pa;a.value==a.pa?pui.A(a,"empty-text"):pui.G(a,"empty-text")}};
pui.bg=function(){function a(){pui["client side timeout"]==true&&pui.Hh.Ih.reset();pui.onuseractivity!=null&&pui.onuseractivity()}if(!pui.qf)if(!(pui.onuseractivity==null&&pui["client side timeout"]!=true)){T(document.body,"keydown",a);T(document.body,"mousemove",a);T(document.body,"click",a);T(document.body,"touchstart",a);T(document.body,"touchmove",a);pui.qf=true}};pui.a={};pui.a.rd=(new Date).getTime();pui.a.Ka=false;pui.a.timeout=600;pui.a.od=null;
pui.a.Bh=function(){if(pui.a.Ka)pui.a.reset();else if(pui["keep alive interval"]!=null){pui.a.timeout=pui["keep alive interval"];pui.a.start()}};pui.a.start=function(){if(!pui.a.Ka){var a=pui.a.timeout*1E3;a/=4;if(a>3E3)a=3E3;pui.a.od=setInterval(pui.a.ke,a);pui.a.reset();pui.a.Ka=true}};pui.a.stop=function(){if(pui.a.Ka){clearInterval(pui.a.od);pui.a.Ka=false}};pui.a.reset=function(){pui.a.rd=(new Date).getTime()};
pui.a.ke=function(){if((new Date).getTime()-pui.a.rd>=pui.a.timeout*1E3){pui.keepAlive();pui.a.reset()}};pui.Qg=function(a){if(!a)a=window.event;if(a.which!=null)if(a.which>1)return true;if(a.button!=null)if(a.button>1)return true;return false};
pui.Ag=function(a){for(var b=0,c=0;a!=null;){b+=a.offsetLeft;c+=a.offsetTop;if(a.tagName!=="BODY"){b-=a.scrollLeft;c-=a.scrollTop}if(a.className=="scroller"){var d=a.style.transform;if(d==null)d=a.style.webkitTransform;if(d!=null&&typeof d=="string"&&d.substr(0,10)=="translate("){d=d.substr(10);d=d.split(")")[0];var e=d.split(",");d=e[0];e=e[1];if(d!=null&&e!=null){d=parseInt(U(d));e=parseInt(U(e));if(!isNaN(d)&&!isNaN(e)){b+=d;c+=e}}}}a=a.offsetParent}return[b,c]};
pui.Wd=function(){this.ce=function(b){if(typeof b.length=="undefined")b=Array(b);for(var c,d=0;d<b.length;d++){c={};for(var e in b[d])c[e.toUpperCase()]=b[d][e];a.push(c)}};this.send=function(b,c){var d="",e,f,g;g=false;for(var k;!g;){e="ProfoundUIMIMEBoundary"+Math.ceil(1E9*Math.random());k=false;for(var h=0;h<a.length;h++){f=a[h].VALUE;if(f.indexOf(e)!=-1){k=true;break}}k||(g=true)}g=e;for(k=0;k<a.length;k++){e=a[k];if(!(typeof e.NAME!="string"||typeof e.VALUE!="string")){d+="--"+g+"\r\n";d+='Content-Disposition: form-data; name="'+
e.NAME+'"';if(typeof e.FILENAME=="string"){f="application/octet-stream";if(typeof e.CONTENTTYPE=="string")f=e.CONTENTTYPE;d+='; filename="'+e.FILENAME+'"\r\n';d+="Content-Type: "+f}if(e.TRANSFERENCODING!=null)d+="\r\nContent-Transfer-Encoding: "+e.TRANSFERENCODING;d+="\r\n\r\n";d+=e.VALUE;d+="\r\n"}}d+="--"+g+"--";e=new pui.Ajax(b);e.suppressAlert=true;e.async=true;e.method="POST";e.sendAsBinary=false;e.setRequestHeader("Content-Type","multipart/form-data; boundary="+g);e.postData=d;e.onready=c;e.send()};
var a=[]};pui.Eh=function(a){pui.Kf(M(a))};pui.Kf=function(a){a.ig=da(a)};pui.ac=function(a,b){for(var c=[],d=0,e="",f="",g=0,k=false,h=0;h<a.length;h++){if(b===true&&d==6){f=f.substr(0,f.length-6);break}e=a.charAt(h);if(k){if(e=="'")k=false}else{if(e=="("){g+=1;d=0}else if(e==")"){g-=1;d=0}else if(e=="'"){k=true;d=0}else if(g==0)if(e.toLowerCase()==" from ".charAt(d))d++;else d=0;if(g<1)g=0}if(e==","&&g==0&&!k){c.push(U(f));f="";d=0}else f+=e}c.push(U(f));return c};
pui.Jf={"database file":null,"database fields":null,"selection criteria":null,"order by":null,"custom sql":null,"name field":null,"value field":null,"summary option":null,"choices database file":null,"choice options field":null,"choice values field":null,"choices selection criteria":null,"parameter value":null,"choices parameter value":null,"case sensitive":null};pui.Rg=function(a){return typeof pui.Jf[a]!="undefined"};
pui.Eg=function(a){var b="dspf.",c=a.id;b+=typeof a.parentNode.parentNode.grid=="undefined"||a.Hg?c:c.substr(0,c.lastIndexOf(".")+1)+"*";return b};
pui.Dg=function(a,b){var c=a["field type"]=="textbox",d=1,e="",f="";do{e="choices parameter value";var g="parameter value";if(d>1){e+=" "+d;g+=" "+d}e=evalPropertyValue(a[e]);if(e=="")e=evalPropertyValue(a[g]);if(e!=""){g=d;if(c)g+=1;if(f!="")f+="&";f+="p"+g+"="+encodeURIComponent(e);if(b!=null)b["p"+g]=e}d++}while(e!="");if(f!="")f+="&";c=pui.Qe();d=pui.Re();f+="datfmt="+encodeURIComponent(c.Ub);f+="&datsep="+encodeURIComponent(c.pc);f+="&timfmt="+encodeURIComponent(d.Ub);f+="&timsep="+encodeURIComponent(d.pc);
return f};pui.Pg=function(a){if(a==null)return false;if(typeof a!="string")return false;if(a=="")return false;if(a.substr(a.length-1,1)=="%")return true;return false};pui.$e=function(a){if(a==null)return false;if(typeof a!="string")return false;var b=Number(a);if(isNaN(b))return false;if(String(b)===a)return true;return false};pui.Bg=function(a,b){if(a=="top"||a=="left"||a=="height"||a=="width")if(pui.$e(b))return b+"px";return b};
pui.Fg=function(){var a=0;if(typeof window.pageYOffset=="number")a=window.pageYOffset;else if(document.body&&document.body.scrollTop)a=document.body.scrollTop;else if(document.documentElement&&document.documentElement.scrollTop)a=document.documentElement.scrollTop;return a};pui.Le=function(a){var b=pui.getLanguageText("runtimeMsg","no connection message");if(pui["no connection status"]==true)b+="\n"+a.ab();return b};
pui.Qe=function(){var a=null,b=null;if(typeof pui["sql date format"]=="string")a=pui.vc[pui["sql date format"].toUpperCase()];if(a==null)a=pui.vc["*ISO"];if(typeof pui["sql date separator"]=="string")b=pui.wc[pui["sql date separator"].toUpperCase()];if(b==null)b=pui.wc["/"];return{Ub:a,pc:b}};
pui.Re=function(){var a=null,b=null;if(typeof pui["sql time format"]=="string")a=pui.xc[pui["sql time format"].toUpperCase()];if(a==null)a=pui.xc["*ISO"];if(typeof pui["sql time separator"]=="string")b=pui.yc[pui["sql time separator"].toUpperCase()];if(b==null)b=pui.yc[":"];return{Ub:a,pc:b}};pui.cd=function(){var a=location.href.split("://"),b="",c="";if(a.length>1){b=a[0]+"://";a.splice(0,1);c=a.join("://")}else c=location.href;return c=b+c.split("/")[0]};
pui.ed=function(a){var b=document.getElementsByTagName("head")[0];if(b==null)return null;var c=pui.cd();b=b.getElementsByTagName("link");for(var d=0;d<b.length;d++){var e=b[d];if(e.href==a)return e;if(e.href==c+a)return e}return null};pui.kd=function(a){var b=document.getElementsByTagName("head")[0];if(b==null)return null;var c=pui.cd();b=b.getElementsByTagName("script");for(var d=0;d<b.length;d++){var e=b[d];if(e.src==a)return e;if(e.src==c+a)return e}return null};
pui.hh=function(a){if(typeof a!="string")return a instanceof Array?a:[];if(a=="")return[];var b;if(a.substr(0,1)=="["&&a.substr(a.length-1,1)=="]")try{b=eval(a)}catch(c){}if(b==null)b=a.split(",");return b};pui.pd=function(a){switch(a){case "number":case "date":case "datetime":case "time":case "email":case "url":case "month":case "tel":case "url":case "color":case "datetime-local":case "search":case "week":return true;default:return false}};
pui.qd=function(a){if(a.tagName=="INPUT")if(a.type==null||a.type==""||a.type=="text"||pui.pd(a.type)||a.type=="password")return true;return false};pui.Ng=function(a){a=a||window.event;var b=pui["field exit key"];return a.keyCode==b&&(!a.shiftKey||b==16)&&(!a.ctrlKey||b==17)?true:false};pui.Ig=function(a){a=a.parentNode;return a!=null&&(!pui.is_old_ie||a.nodeName!="#document-fragment")};
pui.Yf=function(a){if(!ea()&&typeof a=="string"&&a.search("AUTH=")==-1){a+=a.search(/\?/)==-1?"?":"&";a+="AUTH="+encodeURIComponent(pui.appJob.auth)}return a};pui.Kh=function(a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)};pui.Lg=function(a){return a!=null&&typeof a=="object"&&typeof a.fieldName=="string"};
pui.Sg=function(a){return a!=null&&typeof a=="object"&&typeof a.translations=="object"&&a.translations!=null&&typeof a.translations.length=="number"};pui.Gh=function(a,b,c){if(!(!pui.is_touch||!a||!a.addEventListener))if(typeof b=="function"){if(typeof c!="number")c=750;var d;a.addEventListener("touchstart",function(e){d=setTimeout(function(){d=null;b(e)},c)},false);a.addEventListener("touchend",function(){clearTimeout(d);d=null},false)}};
pui.qg=function(a){a.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked")};pui.Uf=function(a){a=""+a;a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a=a.replace(/"/g,"&quot;")};pui.Ua=function(a){var b=false;try{b=typeof a.Atrium!="undefined"&&typeof a.Atrium.api!="undefined"}catch(c){}return b};pui.fa=function(){try{return localStorage!=null&&typeof window.localStorage!="undefined"?true:false}catch(a){return false}};
pui.dh=function(a){if(a.substr(0,1)=="#")a=a.toUpperCase();if(a.substr(0,4)=="rgb("&&a.substr(a.length-1,1)==")"){a=a.substr(4,a.length-5);a=a.replace(/ /g,"");var b=a.split(",");a="#";for(var c=0;c<b.length;c++){var d=Number(b[c]).toString(16).toUpperCase();if(d.length==1)d="0"+d;a+=d}}return a};pui.Wg=function(a,b){var c;if(a.stack){c=a.toString();var d=a.stack.split("\n");if(d.length>=1)c+=c.indexOf(U(d[0]))!=0||d.length<2?" "+U(d[0]):" "+U(d[1])}else{if(typeof b=="string")c=b;c+=" "+a.toString()}console.log(c)};
pui.kh=function(a){if(pui.is_chrome&&pui.qd(a)){var b=a.value;a.value="";a.value=b}};
pui.We=function(a,b){if(!(a===undefined||!a))if(!(a.tagName=="SPAN"&&a.className=="pui-highlight")){if(a.hasChildNodes())for(var c=0;c<a.childNodes.length;c++)pui.We(a.childNodes[c],b);if(a.nodeType==3){var d=a.nodeValue;if(d!=null&&typeof d=="string"){for(c=d.toLowerCase();c.indexOf(String.fromCharCode(160))!=-1;)c=c.replace(String.fromCharCode(160)," ");c=c.indexOf(b.toLowerCase());if(c>=0){var e=d.substr(c,b.length);d=document.createElement("span");d.appendChild(document.createTextNode(e));d.className=
"pui-highlight";c=a.splitText(c);c.nodeValue=c.nodeValue.substring(b.length);a.parentNode.insertBefore(d,c)}}}}};pui.kg=function(a){for(a=a.getElementsByTagName("span");a.length&&(span=a[0]);){var b=span.parentNode;b.replaceChild(span.firstChild,span);b.normalize()}};
pui.Dh=function(){if(!pui.is_mouse_capable)if(pui.fa()&&localStorage["pui-is-mouse-capable"]=="true")pui.is_mouse_capable=true;else{var a=document.documentElement;if(a!=null){var b=function(){d=false},c=function(){if(d){pui.is_mouse_capable=true;pui.fa()&&localStorage.setItem("pui-is-mouse-capable","true");if(pui.da!=null&&pui.da.length>0)for(var e=0;e<pui.da.length;e++){var f=pui.da[e];if(f!=null&&typeof f.setScrollBar=="function"){if(f.oc!=null){f.oc.U=="function"&&f.oc.U();f.oc=null}f.setScrollBar()}}V(a,
"mousedown",b);V(a,"mousemove",c)}d=true},d=false;T(a,"mousedown",b);T(a,"mousemove",c)}}};pui.jf=function(){if(pui.is_chrome)for(var a=document.getElementsByTagName("iframe"),b=0;b<a.length;b++){var c=a[b],d=null;try{d=c.contentWindow.pui;c.contentWindow.puihalted=true}catch(e){}if(d!=null&&typeof d.unload==="function"){d.halted=true;d.unload()}else c.src=""}};
pui.haltFrames=function(){for(var a=document.getElementsByTagName("iframe"),b=0;b<a.length;b++){var c=a[b];if(c!=null){var d=null;try{d=c.contentWindow.pui;c.contentWindow.puihalted=true}catch(e){}if(d!=null&&typeof d==="object"){d.halted=true;typeof d.haltFrames==="function"&&d.haltFrames()}c.parentNode!=null&&c.parentNode.removeChild(c);c.src=""}}};
pui.breakMessagesInit=function(){if(!(ea()||pui["brkmsg enable"]!==true))if(!(!pui.fa()||typeof JSON!=="object"))if(!(typeof pui.appJob!=="object"||pui.appJob.user.length<=0||pui.appJob.user==="QTMHHTP1")){pui["brkmsg poll interval"]=Number(pui["brkmsg poll interval"]);if(isNaN(pui["brkmsg poll interval"]))pui["brkmsg poll interval"]=30;else if(pui["brkmsg poll interval"]<1)pui["brkmsg poll interval"]=1;pui["brkmsg max errors"]=Number(pui["brkmsg max errors"]);if(isNaN(pui["brkmsg max errors"]))pui["brkmsg max errors"]=
3;pui["brkmsg max messages"]=Number(pui["brkmsg max messages"]);if(isNaN(pui["brkmsg max messages"]))pui["brkmsg max messages"]=10;pui["brkmsg user timeout"]=Number(pui["brkmsg user timeout"]);if(isNaN(pui["brkmsg user timeout"]))pui["brkmsg user timeout"]=300;else if(pui["brkmsg user timeout"]<=pui["brkmsg poll interval"])pui["brkmsg user timeout"]=pui["brkmsg poll interval"]+10;pui.Ta=0;pui.Jc();var a;try{a=JSON.parse(localStorage.getItem("brkmsgMessages_"+pui.appJob.user))}catch(b){localStorage.setItem("brkmsgMessages_"+
pui.appJob.user,"[]")}if(window.parent==window||!pui.Ua(window.parent)){var c=document.createElement("div");c.id="pui-break-messages";c.style.zIndex=pui.Kd++;pui.runtimeContainer.appendChild(c);if(pui.fa()){V(window,"storage",pui.Bb);T(window,"storage",pui.Bb);a&&pui.Da(a)}}else{V(window.parent,"storage",window.parent.Atrium.api.breakMessagesOnStorage);T(window.parent,"storage",window.parent.Atrium.api.breakMessagesOnStorage);a&&window.parent.Atrium.api.breakMessagesShow(a,pui.appJob.user)}pui.he()}};
pui.Jc=function(){if(!pui||!pui.appJob||pui.appJob.auth.length<=0||pui.appJob.user.length<=0)return false;var a=localStorage.getItem("brkmsgActivePoller_"+pui.appJob.user),b=Number(localStorage.getItem("brkmsgLastPoll_"+pui.appJob.user));if(isNaN(b))b=0;var c=Date.now();b=c-b;var d=pui["brkmsg poll interval"]*1E3+1E4;if(a===null||b>=d&&a!==pui.appJob.auth){a=pui.appJob.auth;localStorage.setItem("brkmsgActivePoller_"+pui.appJob.user,a);localStorage.setItem("brkmsgLastPoll_"+pui.appJob.user,c)}var e;
c=false;try{e=JSON.parse(localStorage.getItem("brkmsgUserIds"))}catch(f){c=true}if(e==null||typeof e.pop!=="function"){e=[];c=true}d=[];if(pui.Ca(e,pui.appJob.user)<0){d.push(pui.appJob.user);c=true}for(var g=0;g<e.length;g++)if(e[g]!==pui.appJob.user){b=Number(localStorage.getItem("brkmsgLastPoll_"+e[g]));if(isNaN(b))b=0;if(Date.now()-b>=pui["brkmsg user timeout"]*1E3){localStorage.removeItem("brkmsgLastPoll_"+e[g]);localStorage.removeItem("brkmsgActivePoller_"+e[g]);localStorage.removeItem("brkmsgMessages_"+
e[g]);c=true}else d.push(e[g])}c&&localStorage.setItem("brkmsgUserIds",JSON.stringify(d));return a===pui.appJob.auth};
pui.he=function(){if(!(ea()||pui["brkmsg enable"]!==true)){typeof pui.Ab==="number"&&clearInterval(pui.Ab);pui.Ab=setInterval(function(){if(typeof pui.appJob!=="object"||pui.appJob.user.length<=0||pui.appJob.user==="QTMHHTP1"||pui["brkmsg enable"]!==true)pui.Cb();else{if(pui.Jc()){W({url:R("PUI0009116.PGM"),method:"post",async:true,suppressAlert:true,params:{AUTH:pui.appJob.auth},onfail:function(){pui.Ta++;if(pui.Ta>=pui["brkmsg max errors"]){pui.Cb();console.log("Stopped break-message polling; too many errors.")}},
handler:function(c){if(c==null||typeof c!=="object"||c.error){pui.Ta++;pui.Ta>=pui["brkmsg max errors"]&&pui.Cb()}else if(c.success&&c.messages!=null&&typeof c.messages.pop==="function"&&c.messages.length>0){var d;try{d=JSON.parse(localStorage.getItem("brkmsgMessages_"+pui.appJob.user))}catch(e){console.log(e)}if(d==null||typeof d.pop!=="function")d=[];d=d.concat(c.messages);if(pui["brkmsg max messages"]>0&&d.length>pui["brkmsg max messages"])d=d.slice(d.length-pui["brkmsg max messages"],d.length);
window!=window.parent&&pui.Ua(window.parent)?window.parent.Atrium.api.breakMessagesShow(d,pui.appJob.user):pui.Da(d);localStorage.setItem("brkmsgMessages_"+pui.appJob.user,JSON.stringify(d))}}});localStorage.setItem("brkmsgLastPoll_"+pui.appJob.user,Date.now())}if(pui.fa()&&typeof window.addEventListener==="undefined"&&typeof JSON==="object")try{var a=JSON.parse(localStorage.getItem("brkmsgMessages_"+pui.appJob.user));window!=window.parent&&pui.Ua(window.parent)?window.parent.Atrium.api.breakMessagesShow(a,
pui.appJob.user):pui.Da(a)}catch(b){console.log(b)}}},pui["brkmsg poll interval"]*1E3)}};pui.Cb=function(){clearInterval(pui.Ab);V(window,"storage",pui.Bb)};
pui.ge=function(a){if(!(typeof pui.appJob!=="object"||pui.appJob.user.length<=0||pui.appJob.user==="QTMHHTP1")){a=M(a).msgIdx;var b;try{b=JSON.parse(localStorage.getItem("brkmsgMessages_"+pui.appJob.user));if(b!==null&&typeof b.splice==="function")b.splice(a,1);else b=[]}catch(c){console.log(c);b=[]}localStorage.setItem("brkmsgMessages_"+pui.appJob.user,JSON.stringify(b));pui.Da(b)}};
pui.Da=function(a){if(!(a==null||typeof a.pop!=="function")){var b=document.getElementById("pui-break-messages");if(b){b.innerHTML="";if(a.length==0)pui.unmaskScreen();else{pui.maskScreen();pui.Kd+=2;b.style.zIndex=pui.Kd;for(var c=10,d=10,e=0;e<a.length;e++){var f=a[e];f.to=pui.appJob.user;var g=document.createElement("div");g.style.top=c+"px";g.style.left=d+"px";g.className="msg-wrap";var k=document.createElement("div");k.className="msg-titlewrap";g.appendChild(k);var h=document.createElement("div");
h.className="title";k.appendChild(h);var j=document.createElement("div");j.className="closeImg";j.msgIdx=e;k.appendChild(j);T(j,"click",pui.ge);k=document.createElement("div");k.className="msg-body";if(typeof pui.breakMessageFormat==="function"){j={title:"",body:""};pui.breakMessageFormat(f,j);h.innerHTML=j.title;k.innerHTML=j.body}else try{h.innerHTML=f.date+" "+f.time+"<br>"+f.jobNum+"/"+f.jobUserName+"/"+f.jobName;k.innerHTML=f.to+":<br>"+f.msg}catch(m){console.log(m)}g.appendChild(k);b.appendChild(g);
c+=1;d+=10}}}}};pui.Bb=function(a){if(typeof pui.appJob!=="object"||pui.appJob.user.length<=0||pui.appJob.user==="QTMHHTP1")return false;if(a.key!=="brkmsgMessages_"+pui.appJob.user)return false;try{var b=JSON.parse(a.newValue);pui.Da(b)}catch(c){console.log(c)}return false};
pui.Fh=function(a){if(pui["submit log"]){console.log("=".repeat(80));console.log((new Date).toString()+": submit flag = "+a);console.log("-".repeat(80));try{throw Error();}catch(b){a=b.stack.split("\n");a[0].indexOf("Error")==0&&a.shift();a.shift();for(var c=0;c<a.length;c++)a[c]!=""&&console.log(a[c].replace(/^\s*at\s/,""))}}};if(typeof String.prototype.repeat!="function")String.prototype.repeat=function(a){for(var b="",c=0;c<a;c++)b+=this;return b};
pui.Mh=function(a,b,c,d){var e=0,f=setInterval(function(){e+=a;if(c()===true){clearInterval(f);d(true)}else if(e>=b){clearInterval(f);d(false)}},a)};
pui.Cc=function(a,b,c,d){if(a!=null){var e=a["field type"]||a.field_type;if(e!=null){if(e=="layout"&&a.template=="css panel")e="css panel";if(pui.widgets[e]!=null&&pui.widgets[e].dependencies!=null&&pui.widgets[e].dependencies.length>0){var f=document.getElementsByTagName("script"),g=document.getElementsByTagName("link");e=pui.widgets[e].dependencies;var k="",h=document.URL.match(/^(https?:\/\/[^\/]+)\//i);if(h!=null&&h.length==2)k=h[1];for(h=0;h<e.length;h++){var j=e[h],m=false;if(typeof e[h]=="object"&&
e[h]!=null&&typeof e[h].condition=="function"){if(e[h].condition(a,c,d)){j=e[h].script;m=true}}else if(typeof e[h]=="string")m=true;if(m){j=pui.normalizeURL(j);m=pui.normalizeURL(k+j);for(var p=false,n=0;n<f.length;n++)if(f[n].type.toLowerCase()=="text/javascript"&&(f[n].src==m||f[n].src==j)){p=true;break}if(g&&!p)for(n=0;n<g.length;n++)if(g[n].type.toLowerCase()=="text/css"&&(g[n].href==m||g[n].href==j)){p=true;break}!p&&pui.Ca(b,j)<0&&b.push(j)}}}}}};
pui.Vg=function(a,b){function c(){if(pui.Mb.length<=0){pui.Mb=null;b()}else{var j=pui.Mb.shift();if(j!=null&&j.length>0){var m=document.getElementsByTagName("head")[0],p,n=j.substr(-4,4).toLowerCase();if(n===".css"){p=document.createElement("link");p.setAttribute("type","text/css");p.setAttribute("rel","stylesheet")}else{p=document.createElement("script");p.setAttribute("type","text/javascript")}if(typeof p.onload=="undefined")p.onreadystatechange=function(){if(p.readyState=="complete"||p.readyState==
"loaded")c()};else{p.onload=c;p.onerror=function(l){l=l||window.event;if(l!=null&&l.target!=null)console.log("Failed to load widget dependency file ",l.target.src||l.target.href);c()}}n===".css"?p.setAttribute("href",j):p.setAttribute("src",j);m.appendChild(p)}else c()}}var d=[];if(a!=null)if(a.items!=null&&a.items.length>0)for(var e=0;e<a.items.length;e++)pui.Cc(a.items[e],d,null,a.designer);else if(a.layers!=null&&a.layers.length>0)for(var f=0;f<a.layers.length;f++){var g=a.layers[f];if(g!=null&&
g.formats!=null&&g.formats.length>0)for(var k=0;k<g.formats.length;k++){var h=g.formats[k];if(h!=null&&h.metaData!=null&&h.metaData.items!=null&&h.metaData.items.length>0)for(e=0;e<h.metaData.items.length;e++)pui.Cc(h.metaData.items[e],d,h.data,false)}}pui.Mb=d;c()};pui.round=function(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c};
pui.Sc=function(a){if(a.indexOf("<%")<0)return a;if(typeof window.ejs!=="object"||typeof window.ejs.render!=="function"){console.error("EJS templating library not loaded.");return a}if(pui.Tc==null){var b={},c={},d=pui.layers;if(d==null)d=[];d=d[d.length-1];if(d==null)d={formats:[]};d=d.formats;for(var e=0;e<d.length;e++){var f=d[e];for(var g in f.data){var k=f.data[g];if(g.substr(0,3).toUpperCase()==="*IN"){var h=g.substr(3);isNaN(Number(h))||(h=Number(h));c[h]=k}else{b[g.toLowerCase()]=k;b[g.toUpperCase()]=
k}}if(f.subfiles)for(var j in f.subfiles){k=f.subfiles[j].data;for(var m=f.subfiles[j]["field names"],p=[],n=0;n<k.length;n++){for(var l=k[n],q={},s=0;s<m.length;s++){h=m[s];if(h.substr(0,3).toUpperCase()==="*IN"){h=h.substr(3);isNaN(Number(h))||(h=Number(h));c[h]=l[s]}else{q[h.toLowerCase()]=l[s];q[h.toUpperCase()]=l[s]}}p.push(q)}b[j.toLowerCase()]=p;b[j.toUpperCase()]=p}}g=false;for(var r in c){g=true;break}if(g)b.rg=c;pui.Tc=b}try{a=window.ejs.render(a,pui.Tc)}catch(w){console.error(w)}return a};
pui.Ff=function(a,b){if(pui.Ob)setTimeout(function(){pui.Ff(a,b)},100);else if(pui.ue)a.innerHTML=pui.Sc(b);else{pui.Ob=true;a.innerHTML="";pui.loadJS({path:pui.normalizeURL("/ejs/ejs.min.js"),callback:function(){a.innerHTML=pui.Sc(b);pui.ue=true;pui.Ob=false},onerror:function(){pui.Ob=false}})}};
pui.Oh=function(){function a(){typeof saveAs=="function"||pui.kd(pui.normalizeURL("/jszip/FileSaver.min.js"))!=null?b():pui.loadJS({path:"/jszip/FileSaver.min.js",callback:b,onerror:function(){console.log("Failed to load /jszip/FileSaver.min.js")}})}function b(){f?f.lf(c,g):c()}function c(){f&&k();var h=pui.S+'<Types xmlns="'+pui.Aa+'/package/2006/content-types"><Default Extension="rels" ContentType="'+pui.gc+'-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/>';
if(f){var j=f.Fe();for(var m in j)h+='<Default Extension="'+m+'" ContentType="'+j[m]+'"/>'}h+='<Override PartName="/xl/workbook.xml" ContentType="'+pui.va+'.sheet.main+xml"/><Override PartName="/xl/worksheets/sheet1.xml" ContentType="'+pui.va+'.worksheet+xml"/><Override PartName="/xl/styles.xml" ContentType="'+pui.va+'.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="'+pui.va+'.sharedStrings+xml"/>';if(f!=null)h+='<Override PartName="/xl/drawings/drawing1.xml" ContentType="'+pui.gc+
'-officedocument.drawing+xml"/>';h+="</Types>";m=pui.S+'<Relationships xmlns="'+pui.sb+'"><Relationship Id="rId1" Type="'+pui.R+'/officeDocument" Target="xl/workbook.xml"/></Relationships>';var p='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="'+pui.tb+'" xmlns:r="'+pui.R+'"><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets></workbook>',n=pui.S+'<Relationships xmlns="'+pui.sb+'"><Relationship Id="rId3" Type="'+pui.R+'/styles" Target="styles.xml"/><Relationship Id="rId1" Type="'+
pui.R+'/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId4" Type="'+pui.R+'/sharedStrings" Target="sharedStrings.xml"/></Relationships>',l=pui.S+'<styleSheet xmlns="'+pui.tb+'"><fonts count="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts><fills count="1"><fill><patternFill patternType="none"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="2"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/><xf numFmtId="2" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/></cellXfs><dxfs count="0"/></styleSheet>',
q;if(f)q=pui.S+'<Relationships xmlns="'+pui.sb+'"><Relationship Id="rId1" Type="'+pui.R+'/drawing" Target="../drawings/drawing1.xml"/></Relationships>';j=new JSZip;j.file("[Content_Types].xml",h);j.file("_rels/.rels",m);j.file("xl/workbook.xml",p);j.file("xl/styles.xml",l);j.file("xl/sharedStrings.xml",e.Se());j.file("xl/_rels/workbook.xml.rels",n);j.file("xl/worksheets/sheet1.xml",e.Te());if(f){j.file("xl/drawings/drawing1.xml",f.Ee());j.file("xl/drawings/_rels/drawing1.xml.rels",f.De());j.file("xl/worksheets/_rels/sheet1.xml.rels",
q);h=f.Ie();for(q=0;q<h.length;q++)j.file("xl/media/"+h[q].name,h[q].Ze,{binary:true})}if(typeof Blob!="function"){h=j.generateAsync({type:"base64",compression:"DEFLATE"});h.then(function(s){pui.Pc(pui.va+".sheet",d+".xlsx",s)})}else{h=j.generateAsync({type:"blob",compression:"DEFLATE",mimeType:pui.va+".sheet"});h.then(function(s){saveAs(s,d+".xlsx")})}}var d="sheet",e,f,g,k;this.xh=function(h){d=h};this.Ah=function(h){e=h};this.vh=function(h){f=h};this.rh=function(h,j){g=h;k=j};this.og=function(){typeof JSZip==
"function"?a():pui.loadJS({path:"/jszip/jszip.min.js",callback:a,onerror:function(){console.log("Failed to load /jszip/jszip.min.js")}})}};
pui.Ph=function(a){var b=this,c=null,d={},e=0,f=20,g=[],k=0,h=false,j=[];this.formats=[];for(var m=0;m<a;m++)b.formats[m]={dataType:"char"};var p=[];(function(){for(var n=0,l="",q="",s=-1;s<26&&n<a;s++){var r=-1;if(s>=0)r=0;for(r=r;r<26&&n<a;r++){for(var w=0;w<26&&n<a;w++){j[n]=l+q+"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[w];n++}q="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[(r+1)%26]}l="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[s+1]}})();this.$g=function(){if(c==null)c=[];c.push([]);k=0};this.vg=function(){if(c==null)return-1;return c.length-
1};this.uh=function(n){f=n};this.th=function(n){g=n};this.sh=function(n,l){if(l.dataType!=null)if(l.dataType.length==1){var q="char";switch(l.dataType){case "L":q="date";break;case "T":q="time";break;case "Z":q="timestamp";break;case "G":q="graphic";break;case "F":q="floating";break;case "P":q="packed";break;case "B":case "I":case "S":case "U":case "Y":q="zoned";break}b.formats[n].dataType=q}else b.formats[n].dataType=l.dataType;if(l.decPos!=null)b.formats[n].decPos=l.decPos};this.Wf=function(n,l){var q=
k;b.Ef(k,n,l);k++;return q};this.Jh=function(){h=true};this.Ef=function(n,l,q){p[n]=c.length==1?l.length:Math.max(p[n],l.length);var s=b.formats[n].dataType;if(q!=null)s=q;if(s=="char"||s=="graphic"||s=="date"||s=="timestamp"||s=="time"){if(d[l]==null)d[l]=e++;l=d[l]}if(q!=null&&q!=b.formats[n].dataType)l={value:l,Zc:q};c[c.length-1][n]=l};this.Se=function(){var n=[];for(var l in d)n[d[l]]=l;l=pui.S+'<sst xmlns="'+pui.tb+'" count="'+String(n.length+1)+'"  uniqueCount="'+String(n.length)+'">';for(var q=
0;q<n.length;q++)l+="<si><t>"+pui.Uf(n[q])+"</t></si>";l+="</sst>";return l};this.Te=function(){for(var n=pui.S+'<worksheet xmlns="'+pui.tb+'" xmlns:r="'+pui.R+'"><dimension ref="A1:'+j[a-1]+c.length+'"/><sheetFormatPr defaultRowHeight="'+f*0.75+'" customHeight="1" /><cols>',l=0;l<a;l++){var q=0;if(g[l]!=null)q=pui.round((g[l]-5)/7,2);else if(p[l]!=null&&!isNaN(parseInt(p[l],10)))q=Math.floor((p[l]*7+5)/7*256)/256+5;n+='<col min="'+(l+1)+'" max="'+(l+1)+'" width="'+q+'" '+(b.formats[l].decPos=="2"?
's="1"':"")+' customWidth="1"/>'}n+="</cols><sheetData>";for(q=0;q<c.length;q++){var s=String(q+1);n+='<row r="'+s+'">';for(l=0;l<a;l++){n+='<c r="'+j[l]+s+'"';var r=b.formats[l].dataType;if(typeof c[q][l]=="object"&&c[q][l].Zc!=null){r=c[q][l].Zc;c[q][l]=c[q][l].value}if(r=="char"||r=="graphic"||r=="date"||r=="timestamp"||r=="time")n+=' t="s"';else if(b.formats[l].decPos=="2")n+=' s="1"';if(c[q][l]==null)c[q][l]="";n+="><v>"+c[q][l]+"</v></c>"}n+="</row>"}n+="</sheetData>";if(h)n+='<drawing r:id="rId1"/>';
n+="</worksheet>";return n}};
pui.Nh=function(){var a=1,b={},c=[],d=[];this.Xf=function(e,f,g,k){var h=g.match(/\.(jpe?g|gif|png)$/i);if(h==null)console.log("Unsupported image type in URI:",g);else{h=h[1];if(h=="jpeg")h="jpg";for(var j=-1,m=0;m<c.length;m++)if(c[m].uri==g){j=m;break}if(j<0){j="image"+a+"."+h;a++;b[h]="image/"+h;c.push({name:j,uri:g});j=c.length-1}d.push({row:e,col:f,rel:j,top:k.top,left:k.top,width:k.width,height:k.height})}};this.Ee=function(){for(var e=pui.S+'<xdr:wsDr xmlns:xdr="'+pui.Aa+'/drawingml/2006/spreadsheetDrawing" xmlns:a="'+
pui.Aa+'/drawingml/2006/main">',f=0;f<d.length;f++)e+='<xdr:twoCellAnchor editAs="oneCell"><xdr:from><xdr:col>'+d[f].col+"</xdr:col><xdr:colOff>"+Math.round(d[f].left*9525)+"</xdr:colOff><xdr:row>"+d[f].row+"</xdr:row><xdr:rowOff>"+Math.round(d[f].top*9525)+"</xdr:rowOff></xdr:from><xdr:to><xdr:col>"+d[f].col+"</xdr:col><xdr:colOff>"+Math.round((d[f].width+d[f].left)*9525)+"</xdr:colOff><xdr:row>"+d[f].row+"</xdr:row><xdr:rowOff>"+Math.round((d[f].height+d[f].top)*9525)+'</xdr:rowOff></xdr:to><xdr:pic><xdr:nvPicPr><xdr:cNvPr id="'+
(f+1)+'" name="Picture '+(f+1)+'"/><xdr:cNvPicPr><a:picLocks noChangeAspect="1" noChangeArrowheads="1"/></xdr:cNvPicPr></xdr:nvPicPr><xdr:blipFill><a:blip xmlns:r="'+pui.R+'" r:embed="rId'+(d[f].rel+1)+'"></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></xdr:blipFill><xdr:spPr bwMode="auto"><a:xfrm></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/></xdr:spPr></xdr:pic><xdr:clientData/></xdr:twoCellAnchor>';e+="</xdr:wsDr>";return e};this.De=function(){for(var e=pui.S+'<Relationships xmlns="'+
pui.sb+'">',f=0;f<c.length;f++)e+='<Relationship Id="rId'+(f+1)+'" Type="'+pui.R+'/image" Target="../media/'+c[f].name+'"/>';e+="</Relationships>";return e};this.lf=function(e,f){function g(){k++;c.length>0&&f(pui.getLanguageText("runtimeMsg","downloading x",[Math.round(100*(k/c.length))+"%"]));if(!(k<c.length)){for(var j=0;j<c.length;j++){c[j].Ze=c[j].ha.response;c[j].ha=null;try{delete c[j].ha}catch(m){}}e()}}for(var k=0,h=0;h<c.length;h++){c[h].ha=new XMLHttpRequest;c[h].ha.open("GET",c[h].uri,
true);c[h].ha.responseType="blob";c[h].ha.onload=g;c[h].ha.send()}};this.Ie=function(){return c};this.Fe=function(){return b}};
pui.wg=function(a,b){var c=a.library||"",d=a.file||"",e=a.customSql||"";url=R("PUI0009101.PGM",null,true);var f=new pui.Ajax(url);f.async=true;f.method="post";f.postData="file="+encodeURIComponent(d);f.postData+="&library="+encodeURIComponent(c);f.postData+="&customSql="+encodeURIComponent(e);console.log(f.postData);f.postData+="&context=dspf";f.suppressAlert=true;f.onready=function(){b(f)};f.send()};
pui.pg=function(a){var b=null;if(o.length>0){b=o.length-1;b={operation:o[b].tf,id:o[b].id,text:o[b].text,text2:o[b].Mf}}try{pui.temporary_property=b;eval("var response = { success: arguments[1], id: arguments[2], error: pui.temporary_property };");var c=eval(a);typeof c=="function"&&c()}catch(d){pui.alert("OndbLoad Error:\n"+d.message);return false}return true};function ka(a){var b;a=a!=null&&typeof a=="object"?a:document.getElementById(a);if(a==null)return"";b="";if(a.tagName.toLowerCase()=="div"){b=a.firstChild;b=b!=null&&b.tagName!=null&&b.tagName=="A"?b.innerHTML:a.innerHTML}if(a.tagName=="INPUT"&&a.type=="checkbox"){if(a.checked&&a.Fb!=null)return a.Fb;if(!a.checked&&a.Pf!=null)return a.Pf;return a.checked}if(a.tagName=="INPUT"||a.tagName=="TEXTAREA")b=a.value;if(a.tagName=="SELECT"){b=a.selectedIndex;b=b>=0?a.options[b].value:a.pui&&a.pui.properties&&
a.pui.properties.value?a.pui.properties.value:a.value}if(a.comboBoxWidget!=null)b=a.comboBoxWidget.getValue();if(a.Gd!=null)b=String(a.value);if(a.xa!=null){b="";if(a.xa.af&&a.xa.rf!=null)b=a.xa.rf;else if(!a.xa.af&&a.xa.of!=null)b=a.xa.of}for(b=b.replace(/&nbsp;/g," ");b.indexOf(String.fromCharCode(160))!=-1;)b=b.replace(String.fromCharCode(160)," ");if(b==a.pa)b="";return b}function X(a){return U(ka(a))}function Q(a){return document.getElementById(a)}
function N(a){if(!a)a=window.event;if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}if(a.preventDefault){a.cancelBubble=true;a.preventDefault()}}function U(a){return a.replace(/^\s*|\s*$/g,"")}pui.detachCalendar=function(a){if(typeof a=="string")a=Q(a);a!=null&&pui.mh(a)};function ja(a,b){var c;try{c=document.createElement("<"+a+' name="'+b+'">')}catch(d){c=document.createElement(a);c.name=b}return c}
function R(a,b,c){var d=false,e=location.href;e=e.split("?")[0];e=e.split("/");if(e.length>2&&e[e.length-2].toLowerCase()=="auth")d=true;e="/profoundui/";if(d==true||c==true)e+="auth/";e+=a;if(b!=null&&b==true)e+="/"+PSID;if(pui.serverURL!=null)e=pui.serverURL+e;return e}pui.getProgramURL=R;function T(a,b,c){if(a.addEventListener)a.addEventListener(b,c,false);else a.attachEvent&&a.attachEvent("on"+b,c)}
function V(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,false);else a.detachEvent&&a.detachEvent("on"+b,c)}pui.yg=function(a){return pui.fd(a).x};pui.zg=function(a){return pui.fd(a).y};
pui.fd=function(a){a=a||window.event;var b={x:0,y:0};if(a!=null&&a.touches!=null&&a.touches.length==1){b.x=a.touches[0].pageX;b.y=a.touches[0].pageY}else if(a!=null){if(a.pageX)b.x=a.pageX;else if(a.clientX)b.x=a.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft);if(a.pageY)b.y=a.pageY;else if(a.clientY)b.y=a.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)}return b};
function la(){var a={},b="";b=location.search.substring(1,location.search.length);if(b.length==0)return a;b=b.replace(/\+/g," ");b=b.split("&");for(var c=0;c<b.length;c++){var d=b[c].split("="),e=decodeURIComponent(d[0]),f="";if(d.length==2)f=decodeURIComponent(d[1]);a[e]=f}return a}if(typeof applyDesignProperty!="undefined")window.Zf=applyDesignProperty;
pui.zc={Uc:function(a){for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);if(d<128)b+=String.fromCharCode(d);else{if(d>127&&d<2048)b+=String.fromCharCode(d>>6|192);else{b+=String.fromCharCode(d>>12|224);b+=String.fromCharCode(d>>6&63|128)}b+=String.fromCharCode(d&63|128)}}return b},Nc:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;){d=a.charCodeAt(c);if(d<128){b+=String.fromCharCode(d);c++}else if(d>191&&d<224){c2=a.charCodeAt(c+1);b+=String.fromCharCode((d&31)<<6|c2&63);c+=2}else{c2=a.charCodeAt(c+
1);c3=a.charCodeAt(c+2);b+=String.fromCharCode((d&15)<<12|(c2&63)<<6|c3&63);c+=3}}return b}};
pui.Vf={T:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Uc:function(a){var b="",c,d,e,f,g,k,h=0;for(a=pui.zc.Uc(a);h<a.length;){c=a.charCodeAt(h++);d=a.charCodeAt(h++);e=a.charCodeAt(h++);f=c>>2;c=(c&3)<<4|d>>4;g=(d&15)<<2|e>>6;k=e&63;if(isNaN(d))g=k=64;else if(isNaN(e))k=64;b=b+this.T.charAt(f)+this.T.charAt(c)+this.T.charAt(g)+this.T.charAt(k)}return b},Nc:function(a){var b="",c,d,e,f,g,k=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");k<a.length;){c=this.T.indexOf(a.charAt(k++));
d=this.T.indexOf(a.charAt(k++));f=this.T.indexOf(a.charAt(k++));g=this.T.indexOf(a.charAt(k++));c=c<<2|d>>4;d=(d&15)<<4|f>>2;e=(f&3)<<6|g;b+=String.fromCharCode(c);if(f!=64)b+=String.fromCharCode(d);if(g!=64)b+=String.fromCharCode(e)}return b=pui.zc.Nc(b)}};
pui.downloadJSON=function(){if(pui.savedJSON==null)pui.alert("JSON is not available.");else{var a=pui.savedJSON;if(typeof JSON==="object"&&typeof JSON.parse==="function"&&typeof JSON.stringify==="function")try{a=JSON.stringify(JSON.parse(pui.savedJSON),null,"  ")}catch(b){}pui.Pc("text/plain","json.txt",a)}};
pui.keepAlive=function(){var a;a=pui.Ce==null?R("PUI0001200.pgm"):R("PUI0002110.pgm");if(pui.psid!=null&&pui.psid!="")a+="/"+pui.psid;if(pui.overrideSubmitUrl!=null&&typeof pui.overrideSubmitUrl=="function")try{a=pui.overrideSubmitUrl(a)}catch(b){}pui.nc=false;pui.Ch();ha({url:a,method:"post",params:{keepalive:"1"},sendAsBinary:false,suppressAlert:true,handler:function(){pui.Ve();pui.nc=true;for(var c=0;c<pui.da.length;c++)pui.da[c].Of()},onfail:function(c){pui.onoffline==null&&!pui["suppress comm errors"]&&
pui.alert(pui.Le(c));pui.Ve();pui.nc=true;for(c=0;c<pui.da.length;c++)pui.da[c].Of();pui.onoffline!=null&&pui.onoffline()}});return true};
pui.getWindowSize=function(){var a,b;if(document.body&&document.body.offsetWidth){a=document.body.offsetWidth;b=document.body.offsetHeight}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){a=document.documentElement.offsetWidth;b=document.documentElement.offsetHeight}if(window.innerWidth&&window.innerHeight){a=window.innerWidth;b=window.innerHeight}if(a==null&&screen!=null)a=screen.width;if(b==null&&screen!=null)b=screen.height;if(a==null)a=800;
if(b==null)b=600;return{width:a,height:b}};pui.openURL=function(a){window.open(a)};pui.normalizeURL=function(a,b){if(a==null||typeof a!="string")return"";if(b==true&&window.puiMobileClient==null)return a;if(a.substr(0,5).toLowerCase()=="http:"||a.substr(0,6).toLowerCase()=="https:")return a;return pui.serverURL!=null?pui.serverURL+a:window.cordova&&a.substr(0,1)=="/"?a.substr(1):a};
pui.animate=function(a){var b=a.element;if(typeof b=="string")b=Q(b);if(b!=null){var c,d=a.effect;if(d=="fly in left"||d=="fly in right"||d=="fly out left"||d=="fly out right")c="left";else if(d=="fly in up"||d=="fly in down"||d=="fly out up"||d=="fly out down")c="top";else if(d=="fade in"||d=="fade out")c="opacity";else{c=a.properties;if(c==null){c=a.property;if(c==null)return}}if(typeof c=="string")c=[c];var e=a.duration;if(e==null)e="500ms";if(e.substr(e.length-1,1)!="s")e+="s";var f=parseInt(e)*
1E3;if(e.length>2&&e.substr(e.length-2,2)=="ms")f=parseInt(e);var g=a.type;if(g==null)g="ease";var k=a.from,h=a.to;switch(d){case "fly in right":k=-b.offsetWidth;k+="px";h="0px";break;case "fly in left":k=b.offsetWidth;k+="px";h="0px";break;case "fly out left":h=-b.offsetWidth;h+="px";k="0px";break;case "fly out right":h=b.offsetWidth;h+="px";k="0px";break;case "fly out down":h=b.offsetHeight;h+="px";k="0px";break;case "fly out up":h=-b.offsetHeight;h+="px";k="0px";break;case "fly in up":k=b.offsetHeight;
k+="px";h="0px";break;case "fly in down":k=-b.offsetHeight;k+="px";h="0px";break;case "fade in":k="0";h="100";break;case "fade out":k="100";h="0";break}if(h!=null){var j="";for(d=0;d<c.length;d++){var m=c[d];if(j!="")j+=", ";j+=m+" "+e+" "+g}var p=["transition","MozTransition","WebkitTransition","msTransition","OTransition"];if(k!=null){if(typeof k=="string"||typeof k=="number")k=[k];for(d=0;d<c.length;d++){m=c[d];b.style[m]=k[d]}}setTimeout(function(){for(var n=0;n<p.length;n++)b.style[p[n]]=j;setTimeout(function(){if(typeof h==
"string"||typeof h=="number")h=[h];for(var l=0;l<c.length;l++)b.style[c[l]]=h[l];setTimeout(function(){for(var q=0;q<p.length;q++)b.style[p[q]]="";a.oncomplete!=null&&a.oncomplete()},f)},1)},1)}}};pui.getActiveElement=function(){return pui.activeElement};pui.fieldExit=function(){var a=pui.getActiveElement();a!=null&&pui.mg(a)};
pui.showCalendar=function(a){var b=a;if(typeof a=="string")b=Q(a);if(b!=null)if(typeof b=="object"){var c=b.calimg;if(c!=null)if(c.click!=null&&typeof c.click=="function")c.click();else c.onclick!=null&&typeof c.onclick=="function"&&setTimeout(function(){c.onclick()},250)}};pui.getComputedStyle=function(a){var b=null;if(window.getComputedStyle)b=window.getComputedStyle(a);else if(a.currentStyle)b=a.currentStyle;return b};
pui.upload=function(a,b){var c=a.dir,d=a.overwrite===true,e;if(typeof a.slimit=="number")e=a.slimit;var f;if(typeof a.flimit=="number")f=a.flimit;var g="";if(typeof a.altname=="string")g=a.altname;var k;if(typeof a.allowedTypes&&a.allowedTypes instanceof Array)k=a.allowedTypes;if(f==null)f=a.files.length;if(e==null||k==null){for(var h,j=[],m=0;m<a.files.length;m++){var p=a.files[m],n=typeof p.type!="undefined"&&p.type!=""?p.type:"application/octet-stream";pui.Ca(j,n)==-1&&j.push(n);p=p.data&&p.data instanceof
ArrayBuffer?p.data.byteLength:p.size;p=Math.ceil(p/1048576);if(h==null||p>h)h=p}if(e==null)e=h;if(k==null)k=j}h=R("PUI0009109.PGM");h+="?AUTH="+encodeURIComponent(pui.appJob.auth);h+="&mode=ajax";h+="&r="+Math.floor(Math.random()*1E9);j=new FormData;j.append("dir",c);j.append("overwrite",d?"1":"0");j.append("flimit",f);j.append("slimit",e);j.append("altname",g);for(m=0;m<k.length;m++)j.append("type",k[m]);for(m=0;m<a.files.length;m++){p=a.files[m];if(p.data&&p.data instanceof ArrayBuffer){var l;try{l=
new Blob([p.data])}catch(q){c=new window.WebKitBlobBuilder;c.append(p.data);l=c.getBlob()}j.append("file",l)}else j.append("file",p);j.append("filename",p.name)}var s=new XMLHttpRequest;s.open("POST",h,true);s.onreadystatechange=function(){if(s.readyState==4){var r=true,w;if(s.status==200){var A;try{A=eval("("+s.responseText+")")}catch(t){r=false;w="Server response missing or invalid."}if(A){r=A.success;if(!r)if(A.key){w=pui.getLanguageText("runtimeMsg","upload "+A.key);if(A.key=="file limit")w=w.replace("&1",
f);if(A.key=="size limit")w=w.replace("&1",e)}else w=A.error}}else{r=false;w=s.status+" - "+s.statusText+"."}typeof b=="function"&&b(r,w)}};s.send(j)};pui.getCookie=function(a){var b=document.cookie.split(";"),c="",d="",e="",f="";for(f=0;f<b.length;f++){c=b[f].split("=");d=c[0].replace(/^\s+|\s+$/g,"");if(d==a){if(c.length>1)e=unescape(c[1].replace(/^\s+|\s+$/g,""));return e}}return null};
pui.setCookie=function(a,b,c,d,e,f){var g=new Date;g.setTime(g.getTime());if(c)c=c*1E3*60*60*24;g=new Date(g.getTime()+c);document.cookie=a+"="+escape(b)+(c?";expires="+g.toGMTString():"")+(d?";path="+d:"")+(e?";domain="+e:"")+(f?";secure":"")};pui.deleteCookie=function(a,b,c){if(pui.getCookie(a))document.cookie=a+"="+(b?";path="+b:"")+(c?";domain="+c:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"};
pui.refresh=function(a){if(a==null)a={};var b=a.url;a=a.skin;pui.setCookie("puiRefreshId",pui.psid,null,"/");pui.skipConfirm=true;pui.shutdownOnClose=false;pui.confirmOnClose=false;if(a!=null){a="skin="+encodeURIComponent(a);b=window.location.href;var c=b.split("?");b=c[0];c=c[1];if(c==null)c="";qparms=c.split("&");c=false;for(var d=0;d<qparms.length;d++)if(qparms[d].length>=5&&qparms[d].substr(0,5).toLowerCase()=="skin="){qparms[d]=a;c=true}if(!c)if(qparms.length==1&&qparms[0]=="")qparms[0]=a;else qparms.push(a);
c=qparms.join("&");b=b+"?"+c}if(b!=null)window.location.href=b;else window.location.reload()};
pui.downloadURL=function(a){if(pui==null||pui.appJob==null||pui.appJob.auth==null||pui.appJob.auth=="")return pui.is_ie?"":"data:text/html,<!DOCTYPE html><html><body><p>To download, please connect to a Profound UI session.</p></body></html>";var b=a.inline===true;if(a.id==null)return"";var c=R("PUI0009110.PGM");c+="?id="+encodeURIComponent(a.id);if(a.contentType!=null)c+="&type="+encodeURIComponent(a.contentType);if(b)c+="&inline=1";c+="&usehttprc=0";c+="&AUTH="+encodeURIComponent(pui.appJob.auth);
c+="&r="+Math.floor(Math.random()*1E9);return c};pui.download=function(a){var b=pui.downloadURL(a);a=a.inline===true;if(pui==null||pui.appJob==null||pui.appJob.auth==null||pui.appJob.auth=="")a=true;a?pui.openURL(b):pui.link(b)};
pui.focusOnContainer=function(){setTimeout(function(){if(pui.C==null){pui.C=document.createElement("input");pui.C.type=pui.is_touch?"button":"text";pui.C.readOnly=true;pui.C.style.position="absolute";pui.C.style.left="-999px";pui.C.style.top="-999px";pui.C.style.width="10px";pui.C.style.borderStyle="none";pui.C.style.backgroundColor="transparent";pui.runtimeContainer.appendChild(pui.C)}pui.Ye=true;pui.C.focus();setTimeout(function(){pui.Ye=false},0)},1)};
pui.addCSS=function(a){var b=document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css";if(pui.is_old_ie)c.styleSheet.cssText=a;else c.innerHTML=a;b.appendChild(c)};pui.loadCSS=function(a){if(pui.ed(a)!=null)return false;var b=document.getElementsByTagName("head")[0],c=document.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("media","screen");c.setAttribute("href",pui.normalizeURL(a));b.appendChild(c);return true};
pui.removeCSS=function(a){var b=document.getElementsByTagName("head")[0],c=pui.ed(a);if(c==null){c=b.getElementsByTagName("style");for(var d=0;d<c.length;d++){var e=c[d];if(e.innerHTML==a||e.styleSheet!=null&&e.styleSheet.cssText==a){b.removeChild(e);return true}}return false}else{b.removeChild(c);return true}};
pui.loadJS=function(a){if(a==null)return null;var b,c,d,e;if(typeof a=="string")b=a;if(typeof a=="object"){b=a.path;c=a.callback;d=a.onerror;e=a.test;if(e!=null&&typeof e=="function"&&e()==true)return false}if(b==null)return null;if(pui.kd(pui.normalizeURL(b))!=null)return false;a=document.getElementsByTagName("head")[0];var f=false,g=document.createElement("script");g.type="text/javascript";g.onreadystatechange=function(){if(g.readyState=="complete"||g.readyState=="loaded")if(!(e!=null&&typeof e==
"function"&&e()!=true)){!f&&c!=null&&c();f=true}};g.onload=function(){if(!(e!=null&&typeof e=="function"&&e()!=true)){!f&&c!=null&&c();f=true}};if(d)g.onerror=d;g.src=pui.normalizeURL(b);a.appendChild(g);return true};
pui.endOfSession=function(a){pui.confirmOnClose=false;pui.shutdownOnClose=false;if(window.puiMobileClient!=null&&window.puiMobileClient.showConnections!=null){window.puiMobileClient.showConnections();a!=null&&pui.alert(a)}else{var b=la().gobackto;if(b!=null){document.body.innerHTML="";a!=null&&pui.alert(a);location.href=b}if(navigator.app!=null&&navigator.app.exitApp!=null){document.body.innerHTML="";a!=null?pui.alert(a,function(){navigator.app.exitApp()}):navigator.app.exitApp()}}};
pui.alert=function(a,b,c,d){if(window.navigator!=null&&window.navigator.notification!=null&&window.navigator.notification.alert!=null)if(b==null&&c==null&&d==null&&window.puiMobileClient!=null&&window.puiMobileClient.alert!=null)window.puiMobileClient.alert(a);else{if(b==null)b=function(){};if(c==null)c="Profound UI";if(d==null)d="OK";window.navigator.notification.alert(a,b,c,d)}else alert(a)};pui.get=function(a){return X(a)};
pui.set=function(a,b){var c;c=typeof a=="object"?a:document.getElementById(a);if(c!=null){if(c.tagName=="DIV")if(c.Gd!=null)c.Gd.setValue(b);else if(c.comboBoxWidget!=null)c.comboBoxWidget.setValue(b);else if(c.button&&c.button.Nf)c.button.Nf.innerHTML=b;else c.innerHTML=b;if(c.tagName=="INPUT"||c.tagName=="SELECT"||c.tagName=="TEXTAREA")if(c.tagName=="INPUT"&&c.type=="checkbox")c.checked=typeof b=="boolean"?b:c.Fb!=null&&b==c.Fb?true:false;else c.value=b;c.modified=true;var d=c.Lh;if(c.id!=null&&
c.id.indexOf(".")==-1&&c.pe!=null)pui.gg[c.pe]=true;if(d!=null){d.F();d.ng=true;pui.G(c,d.xg())}pui.Eb(c);if(c.pui&&c.pui.properties)c.pui.properties.value=b}};pui.getActiveContainer=function(){if(pui.kf)return pui.kf;return pui.runtimeContainer};pui.getDisplayType=function(){return pui.Rf?"5250-handler":"rdf"};
function ma(a){function b(){if(!(f>=e.length)){var g=e[f].command,k=e[f].wait;f+=1;if(c>=1){var h=k?"1":"0";h="http://localhost:"+(typeof pui["pc listener port"]=="number"?pui["pc listener port"]:80)+"/?cmd="+encodeURIComponent(g)+"&wait="+h;if(c>=2){h+="&type=image&rnd="+String(Math.random())+String((new Date).getTime());k=new Image;k.onload=function(){b()};k.src=h}else{h=new pui.Ajax(h);h.method="GET";h.async=k?false:true;h.Lf=true;h.sf=function(m){if(m.Ea()!=200){console.log("PC Command Listener comm. failure: "+
m.ab());console.log("Command: "+g)}};h.jb=function(){b()};h.send()}}else{if(f==0&&e.length>0){k=[];for(h=0;h<e.length;h++)k.push("("+e[h].dg+")");g=k.join(" && ")}try{d.runCommand(g)}catch(j){k='Unable to execute "'+g+'".\n\n';if(j!=null)k+=j.name+":\n\n"+j.message+".";alert(k)}}}}var c=0;if(pui["use pc listener"])c=1;if(window.HTTPS!=null&&window.HTTPS=="ON"&&c==1)c=2;if(pui["pc listener mode"])c=parseInt(pui["pc listener mode"]);if(c==0){var d=document.getElementById("PCCommandApplet");if(!d){pui.Gc=
a;loadPCCommandApplet("runCommandCb");return}}var e=[],f=0;e=typeof a=="string"?[{command:a,wait:false}]:a;b()}window.runCommandCb=function(){ma(pui.Gc);pui.Gc=null};pui.runPCCommand=ma;pui.isServerBusy=function(){if(pui.nc===false)return true;for(var a=document.getElementsByTagName("iframe"),b=0;b<a.length;b++){var c=a[b].contentWindow;if(c!=null){var d=null;try{d=c.pui}catch(e){}if(d!=null)if(typeof d==="object")if(typeof d.isServerBusy==="function")if(d.isServerBusy())return true}}return false};
pui.showLastError=function(){if(o.length==0)alert("No errors have been reported.");else{var a=o.length-1;alert("Operation: "+o[a].tf+"\nId: "+o[a].id+"\n\nMessage: "+o[a].text+"\n"+o[a].Mf)}};function Z(a){this.onready=this.onfail=this.onsuccess=this.suppressAlert=this.password=this.user=this.async=this.url=this.postData=this.method=null;this.headers={};this.params=null;this.sendAsBinary=true;var b=null,c=null,d=null,e=null,f=typeof pui!="undefined"&&typeof pui.alert!="undefined"?pui.alert:alert,g=this;if(typeof a=="object")for(var k in a){if(typeof this[k]!="undefined")this[k]=a[k]}else this.url=a;if(window.XMLHttpRequest)b=new XMLHttpRequest;else if(window.ActiveXObject)b=new ActiveXObject("Microsoft.XMLHTTP");
else{f("Ajax request error: Unsupported browser.");return}this.send=this.send=function(){function h(){if(b.readyState==4){c=b.status+" - "+b.statusText;g.onready!=null&&g.onready(g);if(b.status==200){d=true;g.onsuccess!=null&&g.onsuccess(g)}else{d=false;g.suppressAlert!=true&&f(c);g.onfail!=null&&g.onfail(g)}e=false}}var j=null,m=null,p=null;if(g.method==null)j="GET";else if(typeof g.method!="string"&&(g.method.toUpperCase()!="GET"||g.method.toUpperCase()!="POST"||g.method.toUpperCase()!="PUT")){f('Invalid value for property: "method".');
return}else j=g.method.toUpperCase();if(j=="POST")if(g.postData!=null)if(typeof g.postData!="string"){f('Invalid value for property: "postData".');return}else p=g.postData;else p="";if(g.async==null)m=true;else if(g.async!=true&&g.async!=false){f('Invalid value for property: "async".');return}else m=g.async;if(typeof g.url!="string")f('Invalid value for property: "url".');else{if(g.user!=null)if(typeof g.user!="string"){f('Invalid value for property: "user".');return}if(g.password!=null)if(typeof g.password!=
"string"){f('Invalid value for property: "password".');return}if(g.onsuccess!=null)if(typeof g.onsuccess!="function"){f('Invalid value for event: "onsuccess".');return}if(g.onfail!=null)if(typeof g.onfail!="function"){f('Invalid value for event: "onfail".');return}if(g.onready!=null)if(typeof g.onready!="function"){f('Invalid value for event: "onready".');return}var n=g.url,l=g.params;if(typeof l=="object"){var q="";for(var s in l){var r=l[s],w=[];if(typeof r=="object"){if(r.length!=null&&r.length>
0)w=r}else w.push(r);for(r=0;r<w.length;r++){if(q!="")q+="&";q+=encodeURIComponent(s)+"="+encodeURIComponent(w[r])}}if(q!="")if(j.toUpperCase()=="POST"){if(p!=null&&p!="")p+="&";else p="";p+=q}else{l=n.split("?");if(l.length==2&&l[1]!="")n=l[0]+"?"+l[1]+"&"+q;else n+="?"+q}}try{b.open(j,n,m,g.user,g.password);n=false;var A=g.headers;for(s in A){b.setRequestHeader(s,A[s]);if(s.toUpperCase()=="CONTENT-TYPE")n=true}if(j=="POST")n?b.setRequestHeader("Content-Length",p!=null?p.length:0):b.setRequestHeader("Content-type",
"application/x-www-form-urlencoded")}catch(t){f(t);return}e=true;if(m==true)b.onreadystatechange=h;if(g.sendAsBinary==true)try{b.sendAsBinary(p)}catch(v){b.send(p)}else b.send(p);m!=true&&h()}};this.ok=this.pf=function(){return d!=null?d:false};this.getResponseText=this.ra=function(){return b.responseText};this.getResponseXML=this.hd=function(){return b.responseXML};this.getStatus=this.Ea=function(){return b.status};this.getStatusText=this.ld=function(){return b.statusText};this.getStatusMessage=
this.ab=function(){return c};this.getAllResponseHeaders=this.getAllResponseHeaders=function(){if(d)try{return b.getAllResponseHeaders()}catch(h){f(h)}};this.getResponseHeader=this.getResponseHeader=function(h){if(d)try{return b.getResponseHeader(h)}catch(j){f(j)}};this.setRequestHeader=this.setRequestHeader=function(h,j){g.headers[h]=j};this.abort=this.abort=function(){if(!(e==null||e==true))try{b.abort()}catch(h){f(h)}}}
function ha(a,b){var c,d,e,f="";if(arguments.length==1&&typeof arguments[0]=="object"){c=arguments[0];c.async=null;c.onsuccess=null;if(typeof c.handler=="function"){d=true;e=c.handler}else d=false}else if(b!=null&&typeof b=="function"){d=true;e=b}else d=false;c=new Z(arguments[0]);c.async=d;c.onsuccess=function(g){f+=g.ra();d==true&&e(f)};c.send();if(d==false)return f}
function W(a,b){var c,d,e,f=null,g=false;if(arguments.length==1&&typeof arguments[0]=="object"){c=arguments[0];c.async=null;c.onsuccess=null;if(c.saveResponse==true)g=true;if(typeof c.handler=="function"){d=true;e=c.handler}else d=false}else if(b!=null&&typeof b=="function"){d=true;e=b}else d=false;c=new Z(arguments[0]);c.async=d;c.onsuccess=function(k){k=k.ra();if(g&&typeof pui=="object")pui.savedJSON=k;try{f=eval("("+k+")")}catch(h){e(null,h);return}d==true&&e(f)};c.send();if(d==false)return f}
if(typeof window.pui=="undefined")window.pui={};window.RPGspRequest=Z;window.pui.Ajax=Z;window.pui.AjaxRequest=Z;window.ajax=ha;
window.ajaxXML=function(a,b){var c,d,e,f=null;if(arguments.length==1&&typeof arguments[0]=="object"){c=arguments[0];c.async=null;c.onsuccess=null;c.onfail=null;c.onsuccess=null;if(typeof c.handler=="function"){d=true;e=c.handler}else d=false}else if(b!=null&&typeof b=="function"){d=true;e=b}else d=false;c=new Z(arguments[0]);c.async=d;c.onsuccess=function(g){f=g.hd();d==true&&e(f)};c.send();if(d==false)return f};window.ajaxJSON=W;
window.ajaxSubmit=function(a,b){var c,d="",e=typeof pui!="undefined"&&typeof pui.alert!="undefined"?pui.alert:alert;if(typeof a=="object")c=a;else{c=document.getElementById(a);if(c==null)c=document.forms[a]}var f;if(c!=null)f=c.tagName;if(c==null||f==null||f.toUpperCase()!="FORM"){e("Ajax request error: Invalid form object.");return""}if(a.action==""){e("Ajax request error: Invalid form action.");return""}for(e=0;e<c.elements.length;e++){f=c.elements[e];if(f.name!=null&&f.name!=""){var g=false;if(f.tagName==
"INPUT"){var k=f.type;k=k.toLowerCase();if(k=="hidden")g=true;if(k=="password")g=true;if(k=="text")g=true;if(pui.pd(k))g=true;if(k=="")g=true;if(k=="checkbox"||k=="radio")if(f.checked)g=true}if(f.tagName=="TEXTAREA")g=true;if(f.tagName=="SELECT")g=true;if(g){if(d!="")d+="&";d+=f.name+"="+encodeURIComponent(f.value)}}}c=new Z(c.action);c.method="POST";c.postData=d;var h="",j;if(b!=null&&typeof b=="function")j=true;else{j=false;c.async=false}c.onsuccess=function(m){h+=m.ra();j==true&&b(h)};c.send();
if(j==false)return h};window.appgen={};appgen.Sa="http://www.w3.org/2000/svg";appgen.ub="rgb(135,135,135)";appgen.Rd="rgb(0,0,255)";appgen.ja="rpg free with fixed";appgen.Ba="rpg free";appgen.Ra="php";appgen.ia="nodejs";appgen.Od="dspf";appgen.Na="html";appgen.Pd="none";appgen.Qa="/profoundjs/modules/LIB/screens.json";appgen.Pa="/profoundjs/modules/LIB/PGM.js";appgen.Oa="/profoundjs/modules/LIB/screens.html";appgen.uc="DEF";appgen.Xd="JOIN";appgen.vb="/profoundui/designer";appgen.Yd="/profoundui/universal";appgen.Zd="/profoundui/viewdesigner";
appgen.ma=appgen.vb;appgen.s=[];appgen.f=null;appgen.j={};appgen.v=function(){Q("fieldSelectionSection").style.display="none";Q("codeGenerationSection").style.display="none";Q("joinSelectionSection").style.display="none";Q("sqlpreview").style.display="none";appgen.f!=null&&appgen.f.reset()};
appgen.init=function(){function a(j){if(!j)j=window.event;j.keyCode==13&&appgen.retrieveFields()}function b(j){if(!j)j=window.event;j.keyCode==13&&appgen.startGeneration()}function c(){if(Q("appType").value=="subfile"){Q("subfileTypeRow").style.display="";Q("actionsRow").style.display="";var j=0;Q("viewAction").checked&&j++;Q("editAction").checked&&j++;Q("addAction").checked&&j++;if(j>=2)Q("combinedSeparateRow").style.display="";else Q("combinedSeparateRow").style.display="none"}else{Q("subfileTypeRow").style.display=
"none";Q("actionsRow").style.display="none";Q("combinedSeparateRow").style.display="none"}}function d(j){for(var m=j.length-1;m>=0;m--){for(var p=j[m],n=false,l=0;l<pui.SCREEN_TEMPLATES.length;l++)if(p.toUpperCase()==pui.SCREEN_TEMPLATES[l].toUpperCase()){n=true;break}j[m]={name:p,dspf:n};n=false;for(l=0;l<pui.HTML_TEMPLATES.length;l++)if(p.toUpperCase()==pui.HTML_TEMPLATES[l].toUpperCase()){n=true;break}j[m].html=n;j[m].none=!j[m].html&&!j[m].dspf}}function e(){var j=Q("template");var m=j.options.length=
0,p,n,l,q=Q("language");if(q.selectedIndex==2)p=pui.PHP_TEMPLATES;else if(q.selectedIndex==3){p=pui.PJS_TEMPLATES;n=Q("UItype").value}else p=pui.RPG_TEMPLATES;for(var s=0;s<p.length;s++){l=true;if(q.selectedIndex==3&&(n==null||!p[s][n]))l=false;if(l){l=document.createElement("option");l.value=p[s].name;l.text=p[s].name;if(q.selectedIndex==3&&p[s].none)l.Ib=true;else if(q.selectedIndex!=3&&!p[s].dspf){l.text+=" "+pui.getLanguageText("jumpstartText","no screen template");l.Ib=true}if(p[s].name.toLowerCase()==
"standard")m=s;j.options.add(l)}}j.selectedIndex=m;l=j[j.selectedIndex];appgen.w=l!=null&&l.Ib===true}function f(){if(Q("language").value==appgen.ia)Q("displayTypeRow").style.display="";else Q("displayTypeRow").style.display="none";Q("UItype").selectedIndex=0}function g(j){var m=k.value.toLowerCase(),p=h.value.toLowerCase(),n;j=j||window.event;if(!(j.keyCode!=null&&j.keyCode!=13))if(!(k.value==""&&h.value==""))if(k.value==""){j=Q("pjsSource");n=j.value;if(j.value=="")n=appgen.Pa;j.value=n.replace("LIB",
p);j=Q("htmlSourcePJS");n=j.value;if(j.value=="")n=appgen.Oa;j.value=n.replace("LIB",p);j=Q("rdfSourcePJS");n=j.value;if(j.value=="")n=appgen.Qa;j.value=n.replace("LIB",p)}else if(h.value==""){j=Q("pjsSource");n=j.value;if(j.value=="")n=appgen.Pa;j.value=n.replace("PGM.js",m+".js");j=Q("htmlSourcePJS");n=j.value;if(j.value=="")n=appgen.Oa;j.value=n.replace("screens.html",m+".html");j=Q("rdfSourcePJS");n=j.value;if(j.value=="")n=appgen.Qa;j.value=n.replace("screens.json",m+".json")}else{j=Q("pjsSource");
n=j.value;if(j.value=="")n=appgen.Pa;j.value=n.replace("PGM.js",m+".js").replace("LIB",p);j=Q("htmlSourcePJS");n=j.value;if(j.value=="")n=appgen.Oa;j.value=n.replace("screens.html",m+".html").replace("LIB",p);j=Q("rdfSourcePJS");n=j.value;if(j.value=="")n=appgen.Qa;j.value=n.replace("screens.json",m+".json").replace("LIB",p)}}appgen.X=pui.getLanguageText("jumpstartText","rich");appgen.Xa=pui.getLanguageText("jumpstartText","visual");appgen.je();T(Q("file"),"keydown",a);T(Q("title"),"keydown",a);T(Q("library"),
"keydown",b);T(Q("programSourceFile"),"keydown",b);T(Q("program"),"keydown",b);T(Q("displaySourceFile"),"keydown",b);T(Q("displayFile"),"keydown",b);T(Q("appType"),"change",appgen.v);T(Q("viewAction"),"click",appgen.v);T(Q("editAction"),"click",appgen.v);T(Q("addAction"),"click",appgen.v);T(Q("deleteAction"),"click",appgen.v);T(Q("combinedSeparate"),"change",appgen.v);T(Q("language"),"change",appgen.v);T(Q("language"),"change",function(){var j=Q("language"),m=Q("languageWarning");if(pui.OS_RELEASE.substr(0,
2)=="V5"&&(j.selectedIndex==0||j.selectedIndex==1)){m.innerHTML=pui.getLanguageText("jumpstartMsg","rpg oa not avail",[pui.OS_RELEASE]);m.style.display=""}else m.style.display=j.selectedIndex==0&&!pui.rpg_free_all_specs_available?"":"none";f()});T(Q("language"),"change",e);T(Q("UItype"),"change",e);T(Q("UItype"),"change",appgen.rc);T(Q("template"),"change",function(){var j=Q("template");appgen.w=j.options[j.selectedIndex].Ib===true;appgen.rc()});if(pui.ie_mode<9){T(Q("file"),"keypress",appgen.v);
T(Q("file"),"change",appgen.v)}else T(Q("file"),"input",appgen.v);T(Q("appType"),"change",c);T(Q("viewAction"),"click",c);T(Q("editAction"),"click",c);T(Q("addAction"),"click",c);var k=Q("proxyName"),h=Q("libraryPJS");T(k,"change",g);T(k,"keyup",g);T(h,"change",g);T(h,"keyup",g);Q("appType").selectedIndex=0;Q("subfileType").selectedIndex=0;Q("combinedSeparate").selectedIndex=0;if(pui.OS_RELEASE.substr(0,2)=="V5")Q("language").selectedIndex=2;else Q("language").selectedIndex=pui.rpg_free_all_specs_available?
0:1;Q("viewAction").checked=true;Q("editAction").checked=true;Q("addAction").checked=true;Q("deleteAction").checked=true;appgen.lb();c();d(pui.RPG_TEMPLATES);d(pui.PHP_TEMPLATES);d(pui.PJS_TEMPLATES);f();e();appgen.lb("template");appgen.lb("xfiles");Q("retrieveFieldsButton").disabled=false;Q("appTypeFileSection").style.display="";Q("rdfSourcePJS").value=appgen.Qa;Q("pjsSource").value=appgen.Pa;Q("htmlSourcePJS").value=appgen.Oa;appgen.fe();T(Q("file"),"change",function(){appgen.lb("xfiles")})};
appgen.rc=function(){var a=Q("language").value,b=appgen.w?"none":"";if(a==appgen.Ra)Q("richDisplaySource").parentNode.parentNode.style.display=b;else if(a==appgen.ia){a=Q("UItype").value;if(a==appgen.Od){Q("rdfSourcePJS").parentNode.parentNode.style.display="";Q("htmlSourcePJS").parentNode.parentNode.style.display="none"}else if(a==appgen.Na){Q("rdfSourcePJS").parentNode.parentNode.style.display="none";Q("htmlSourcePJS").parentNode.parentNode.style.display=""}else if(a==appgen.Pd){Q("rdfSourcePJS").parentNode.parentNode.style.display=
"none";Q("htmlSourcePJS").parentNode.parentNode.style.display="none"}}else{Q("displaySourceFile").parentNode.parentNode.style.display=b;Q("displayFile").parentNode.parentNode.style.display=b}};appgen.J=function(a){var b=Q("waitMessage");if(a!=null)b.innerHTML=a;b.style.display=""};appgen.g=function(){Q("waitMessage").style.display="none"};
pui.ee=function(a,b,c,d){c.style.top=parseInt(a.style.height)+7+"px";a.style.height=parseInt(a.style.height)+7+"px";a.style.borderRadius="4px";a.style.boxShadow="3px 3px 6px rgba(50, 66, 64, 0.67)";b.style.backgroundColor="#dddddd";b.style.color="#333333";b.style.paddingTop="4px";b.style.height="25px";b.style.fontSize="11px";a.style.border="3px solid #aaaaaa";c.style.backgroundColor="#eeeeee";c.style.top="27px";a.sd=true;a=document.createElement("div");var e=document.createElement("div");a.style.position=
"absolute";a.style.top="3px";a.style.right="10px";a.style.width="15px";a.style.height="15px";a.style.cursor="pointer";a.onmouseover=function(){e.style.backgroundImage="url(/profoundui/proddata/images/buttons/close/x1_hover.png)"};a.onmouseout=function(){e.style.backgroundImage="url(/profoundui/proddata/images/buttons/close/x1.png)"};a.onclick=function(){d()};e.style.backgroundImage="url(/profoundui/proddata/images/buttons/close/x1.png)";e.style.backgroundRepeat="no-repeat";e.style.position="absolute";
e.style.top="0px";e.style.left="0px";e.style.width="16px";e.style.height="16px";b.innerHTML="";a.appendChild(e);c=document.createElement("span");b.appendChild(c);b.appendChild(a);return c};appgen.fileKeyUp=function(a){if(a==null)a=Q("file");appgen.Sb=a.value.indexOf("/")>=0;a=Q("liblWarningRow");var b=Q("liblWarning");if(appgen.Sb||appgen.Rb){a.style.display="";b.style.display=appgen.Sb?"":"none";a=Q("sqlindexWarning");if(a!=null)a.style.display=appgen.Rb?"":"none"}else a.style.display="none"};
appgen.modifyLIBL=function(a){appgen.J(pui.getLanguageText("jumpstartMsg","loading libl"));W({url:R("PUI0001104.pgm"),method:"post",params:{mode:"load"},async:true,handler:function(b){appgen.g();if(pui.p==null){pui.p=new pui.designer.tc;pui.p.za=true;pui.p.wb=false;pui.p.xb=false;pui.p.La=true;pui.p.Fd("uppercase");pui.p.Ed(10);var c="";if(b!=null){c=b.libl;if(c==null)c=""}b=[];if(c!="")b=c.split(" ");pui.p.Dd(b);pui.p.Cd(pui.getLanguageText("jumpstartText","library list"));pui.p.gb=function(d){var e=
$.Ma(d,"library");if(e!=""){alert("Library name "+e);return false}return d};pui.p.ib=function(d){for(var e="",f=0;f<d.length;f++){if(f!=0)e+=" ";e+=d[f]}appgen.J(pui.getLanguageText("jumpstartMsg","saving libl"));W({url:R("PUI0001104.pgm"),method:"post",params:{mode:"save",libl:e},async:true,handler:function(g,k){appgen.g();var h="";if(g==null){h=pui.getLanguageText("jumpstartMsg","server invalid resp");if(k!=null)h+=" "+k.description+"."}else if(!g.success)h=g.msg;h!=""&&alert(h)}})};pui.p.hb=function(){V(document.body,
"click",appgen.oa)}}T(document.body,"click",appgen.oa);pui.p.show(a,500,50)}})};
appgen.retrieveFields=function(){function a(){if(appgen.Ya<appgen.s.length){g=f=appgen.s[appgen.Ya];k="";h=g.split("/");if(h.length==2){k=h[0];g=h[1]}W({url:n,method:"post",async:true,params:{context:"dspf",file:g,library:k},handler:b})}else{appgen.g();var l=Q("joinSelectionSection").querySelector(".section-body"),q=l.offsetHeight;if(l.scrollHeight>l.offsetHeight)q=l.scrollHeight;if(q>800)q=800;l.style.height=q+"px";appgen.Vc();if(pui.ie_mode<=8)if(l=l.querySelector(".help"))l.innerHTML='<p class="warning">'+
pui.getLanguageText("jumpstartMsg","join unsupported IE8")+"</p>"}}function b(l){if(l.success!=true){appgen.g();appgen.Qb(true,pui.getLanguageText("jumpstartMsg","unable retr fld")+l.errorText);appgen.v()}else if(l.sqlindex){l=pui.getLanguageText("jumpstartMsg","sql idx cannot use",[f]);appgen.Qb(true,l);appgen.g();appgen.v();alert(l)}else{var q="extrafile"+appgen.Ya;l.varname=q;l.fullFile=f;l.file=g;l.library=k;l.correlation="";l.mainfile=false;appgen.m[q]=l;appgen.Dc(l);appgen.Ya++;a()}}appgen.Id();
appgen.m={};appgen.Wa=false;appgen.aa=0;var c=Q("fieldSelectionSection"),d=Q("codeGenerationSection");c.style.display="none";d.style.display="none";Q("sqlpreview").style.display="none";Q("moveUpButton").disabled=true;Q("moveDownButton").disabled=true;appgen.r=null;var e=Q("file"),f=e.value.toUpperCase(),g=f,k="",h=g.split("/");if(h.length==2){k=h[0];g=h[1]}if(g==""){alert(pui.getLanguageText("jumpstartMsg","dbf required"));e.focus()}else{var j=Q("title"),m=j.value,p=Q("title_message");if(m==""){p.style.display=
"";p.style.de="";setTimeout(function(){p.style.de="warnfadein 1s"},1);j.focus()}else{p.style.display="none";Q("joinSelectionSection").style.display="none";j=document.querySelector("#joinSelectionSection .section-body");for(m=0;m<j.childNodes.length;)if(j.childNodes[m].tagName=="TABLE")j.removeChild(j.childNodes[m]);else m++;appgen.fc=0;appgen.J(pui.getLanguageText("jumpstartMsg","retr fields"));var n=R("PUI0009101.PGM",null,true);W({url:n,method:"post",async:true,params:{context:"dspf",file:g,library:k},
handler:function(l){if(l.success!=true){appgen.g();alert(pui.getLanguageText("jumpstartMsg","unable retr fld")+l.errorText);e.focus()}else{var q=Q("liblWarningRow"),s=Q("sqlindexWarning");appgen.Rb=l.sqlindex;if(appgen.Rb){l=pui.getLanguageText("jumpstartMsg","sql idx cannot use",[Q("file").value.toUpperCase()]);s.innerHTML=l;s.style.display="";q.style.display="";appgen.g();alert(l)}else{s.style.display="none";q.style.display=appgen.Sb?"":"none";l.varname="file";l.fullFile=f;l.file=g;l.library=k;
l.correlation="";l.mainfile=true;appgen.m.file=l;appgen.ve=l.description;appgen.mf=l.longFile;appgen.td(l);c.style.display="";d.style.display="";q=Q("language").value;Q("phpSection").style.display=q==appgen.Ra?"":"none";Q("rpgSection").style.display=q==appgen.Ba||q==appgen.ja?"":"none";Q("pjsSection").style.display=q==appgen.ia?"":"none";Q("designerLinkRow").style.display="none";Q("viewDesignerLinkRow").style.display="none";Q("launchPHPLinkRow").style.display="none";Q("designerLinkRowPJS").style.display=
"none";appgen.fileKeyUp();appgen.rc();if(appgen.f==null)appgen.f=new appgen.Qd("file");else appgen.f.reset();appgen.b();Q("sqlpreview").style.display="";if(appgen.s.length>0&&Q("appType").value!="data entry"){appgen.Dc(l);a()}else appgen.g()}}}});appgen.Ya=0}}};appgen.le=function(){for(var a=Q("fieldList"),b=a.rows.length;b>0;b--)a.deleteRow(b-1)};
appgen.kc=function(){var a=true,b=true;if(appgen.r!=null){if(appgen.r.sectionRowIndex>0)a=false;var c=appgen.r.nextSibling;if(c!=null&&c.tagName!="TR")c=c.nextSibling;if(c!=null)b=false}Q("moveUpButton").disabled=a;Q("moveDownButton").disabled=b};appgen.moveUp=function(){if(appgen.r!=null){var a=appgen.r.parentNode,b=appgen.r.previousSibling;if(b!=null&&b.tagName!="TR")b=b.previousSibling;if(!(b==null||b.sectionRowIndex<0)){a.removeChild(appgen.r);a.insertBefore(appgen.r,b);appgen.kc();appgen.b()}}};
appgen.moveDown=function(){if(appgen.r!=null){var a=appgen.r.parentNode,b=appgen.r.nextSibling;if(b!=null&&b.tagName!="TR")b=b.nextSibling;if(b!=null){b=b.nextSibling;a.removeChild(appgen.r);b==null?a.appendChild(appgen.r):a.insertBefore(appgen.r,b);appgen.kc();appgen.b()}}};
appgen.td=function(a,b){function c(z,E){var F=z.insertCell(z.cells.length);F.style.textAlign="center";if(!E)F.style.display="none";var L=document.createElement("input");L.type="checkbox";F.appendChild(L);return L}function d(z,E){var F=z.insertCell(z.cells.length),L=document.createTextNode(E);F.appendChild(L);return F}function e(z,E){var F=z.insertCell(z.cells.length),L=document.createElement("input");L.value=E;L.className="grid-input";F.appendChild(L);return L}function f(z,E){var F=z.insertCell(z.cells.length);
F.style.textAlign="center";if(!E)F.style.display="none"}function g(z){z=appgen.H(z);if(z!=null)if(!z.ec)z.style.backgroundColor="#DCDCDC"}function k(z){z=appgen.H(z);if(z!=null)if(!z.ec)z.style.backgroundColor=z.Ic}function h(z){z=appgen.H(z);if(z!=null){for(var E=z.parentNode.parentNode,F=0;F<E.tBodies[0].rows.length;F++){var L=E.tBodies[0].rows[F];L.style.backgroundColor=L.Ic;L.style.color="";L.ec=false}z.style.backgroundColor="#6699CC";z.style.color="#FFFFFF";z.ec=true;appgen.r=z;appgen.kc()}}
function j(z){z=M(z);if(z.checked)z.h.checked=false}function m(z){z=M(z);if(z.checked&&z.d!=null)z.d.checked=false}function p(z){if(!Q("overrideNonEdit").checked){alert(pui.getLanguageText("jumpstartMsg","fld no edit"));M(z).checked=false;appgen.b()}}function n(z){z=z||window.event;var E=appgen.H(z);if(E){if(z.stopPropagation)z.stopPropagation();else{z.cancelBubble=true;z.returnValue=false}appgen.wa=E.sectionRowIndex;try{z.dataTransfer.setData("text/plain",E.sectionRowIndex)}catch(F){}}}function l(z){$.I(z);
var E=appgen.H(z);if(E){var F;try{F=parseInt(z.dataTransfer.getData("text/plain"),10);if(isNaN(F))F=parseInt(appgen.wa,10)}catch(L){F=parseInt(appgen.wa,10)}z=E.parentNode.parentNode;E.parentNode==z.tHead?pui.G(z.tHead.lastChild,"move_valid"):pui.G(E,"move_valid");if(isNaN(F))console.log("Row Index was not a number.");else{var Y=E.sectionRowIndex;if(E.parentNode==z.tHead)Y=-1;Y+=1;E=z.tBodies[0].rows[Y];F=z.tBodies[0].rows[F];if(F!=E){z=z.tBodies[0];z.removeChild(F);z.insertBefore(F,E);appgen.b()}}}}
function q(z){if(appgen.wa!=null){var E=appgen.H(z);if(E!=null){var F=E.parentNode.parentNode;if(E.parentNode==F.tHead){$.I(z);z.dataTransfer.Rc="move";pui.A(F.tHead.lastChild,"move_valid")}else if(E.sectionRowIndex!=appgen.wa&&E.sectionRowIndex!=appgen.wa-1){$.I(z);z.dataTransfer.Rc="move";pui.A(E,"move_valid")}}}}function s(z){$.I(z);if(z=appgen.H(z)){var E=z.parentNode.parentNode;if(z.parentNode==E.tHead)z=E.tHead.lastChild;pui.G(z,"move_valid")}}function r(){appgen.wa=null}function w(z){M(z).dragDrop();
return false}function A(){appgen.b()}var t=a.fields,v=appgen.Yb(),C=X("language"),D=C==appgen.Ba||C==appgen.ja,H=(appgen.hf=v.key)||v.grid||Q("appType").value=="data entry";if(!b){appgen.le();appgen.ie(v)}C=false;var O=5;if(Q("template").value=="Mobile")O=2;for(var S=Q("fieldList"),P=S.tBodies[0],I=0;I<t.length;I++){var u=P.insertRow(P.rows.length);u.onmouseover=g;u.onmouseout=k;u.onclick=h;u.ondragstart=n;u.ondrop=l;u.ondragover=q;u.ondragleave=s;u.ondragend=r;u.style.cursor="default";u.style.backgroundColor=
P.rows.length%2==1?"#F3F3F3":"#FFFFFF";u.Ic=u.style.backgroundColor;if(v.grid){u.bb=c(u,v.grid);T(u.bb,"click",appgen.b)}if(v.search){u.mb=c(u,v.search);T(u.mb,"click",appgen.b)}if(v.details){u.V=c(u,v.details);T(u.V,"click",appgen.b);if(b){var G=document.createElement("abbr");G.title=pui.getLanguageText("jumpstartText","read only");G.innerHTML=pui.getLanguageText("jumpstartText","ro");u.V.parentNode.appendChild(G)}}if(v.view){u.qb=c(u,v.view);T(u.qb,"click",appgen.b)}if(b){if(v.edit){f(u,v.edit);
u.h=c(u,v.edit);T(u.h,"click",m);T(u.h,"click",appgen.b)}v.add&&f(u,v.add)}else{if(v.edit){u.d=c(u,v.edit);u.h=c(u,v.edit);u.h.d=u.d;u.d.h=u.h;T(u.d,"click",j);T(u.d,"click",appgen.b);T(u.h,"click",m);T(u.h,"click",appgen.b)}if(v.add){u.M=c(u,v.add);T(u.M,"click",appgen.b)}}G=d(u,(appgen.s.length>0?a.fullFile+" . ":"")+t[I].field);G.style.cursor="grab";G.draggable=true;if(pui.ie_mode<=9)G.onselectstart=w;G=t[I].field;if(t[I].longName!=G)G=t[I].longName;u.fieldName=e(u,G);u.fieldName.maxLength=30;
u.fieldName.style.textTransform="uppercase";T(u.fieldName,"keydown",appgen.pb);T(u.fieldName,"change",appgen.pb);u.qe=e(u,t[I].text);G=String(t[I].length);G+=t[I].type=="G"?t[I].type+", CCSID "+t[I].ccsid:t[I].decPos!=null?","+String(t[I].decPos):t[I].type;d(u,G).style.textAlign="center";u.Ga=t[I].canNull=="1";u.sc=d(u,u.Ga?appgen.uc:"");u.sc.className="null-column";u.N=e(u,"");u.N.parentNode.style.display=v.coal?"":"none";if(u.Ga&&D)u.N.value=appgen.$c(t[I]);u.N.onchange=A;G=t[I].key;if(G==null)G=
"";G=String(G);d(u,G).style.textAlign="center";if(H)if(b)f(u,H);else{u.db=c(u,H&&Q("appType").value!="data entry");T(u.db,"click",appgen.b)}u.e=t[I];u.e.filevarname=a.varname;if(I<O&&!b&&v.grid)u.bb.checked=true;if(t[I].type=="A"&&!b&&v.search)u.mb.checked=true;if(G!=""&&!b&&H)u.db.checked=true;if(!b){if(v.add)u.M.checked=true;if(v.edit)if(t[I].key!=null){u.d.checked=false;u.h.checked=true}else{u.d.checked=true;u.h.checked=false}if(v.details)u.V.checked=true;if(v.view)u.qb.checked=true}if(t[I].generatedBy==
"always"||t[I].use=="I"||t[I].use=="N"){C=u.Va=true;if(!b){if(v.edit){u.d.checked=false;u.d.onclick=p}if(v.add){u.M.checked=false;u.M.onclick=p}if(v.edit)u.h.checked=true;if(v.details)u.V.onclick=p}if(v.details)u.V.checked=false}}t=Q("overrideNonEdit");v=document.querySelector('label[for="overrideNonEdit"]');if(C){t.style.display="";v.style.display=""}else{t.style.display="none";v.style.display="none"}u=S.tHead.rows[0];u.ondrop=l;u.ondragover=q;u.ondragleave=s;if(S.tHead.rows.length>1){u=S.tHead.rows[1];
u.ondrop=l;u.ondragover=q;u.ondragleave=s}};
appgen.Yb=function(){var a={grid:false,search:false,details:false,view:false,edit:false,add:false,key:false,coal:true},b=Q("appType").value;if(b=="subfile"){a.grid=true;a.search=true;if(Q("combinedSeparate").value=="combined"&&Q("combinedSeparateRow").style.display!="none"){if(Q("viewAction").checked||Q("editAction").checked||Q("addAction").checked)a.details=true}else{a.view=Q("viewAction").checked;a.edit=Q("editAction").checked;a.add=Q("addAction").checked}a.key=a.details||a.view||a.edit||Q("deleteAction").checked}else if(b==
"data entry"){a.add=true;a.coal=false}else if(b=="lookup"){a.details=true;a.key=true}else if(b=="webservice")a.view=true;return a};
appgen.ac=function(){for(var a=appgen.Yb(),b=Q("fieldList"),c=[],d=0;d<b.tBodies[0].rows.length;d++){var e=b.tBodies[0].rows[d],f={};f.name=e.fieldName.value.toUpperCase();f.k=e.e.field;f.eb=e.e.longName;f.Qf=e.e.use;f.Wb=e.e.generatedBy=="always";f.ad=e.e.generatedBy=="always";f.description=e.qe.value;f.N=e.N.value;f.type=e.e.type;f.length=e.e.length;f.decPos=e.e.decPos;f.cg=e.e.ccsid;f.vf=e.e.key;if(a.grid)f.grid=e.bb.checked;if(a.search)f.search=e.mb.checked;if(e.db!=null)f.key=e.db.checked;if(a.details)f.na=
e.V.checked;if(a.view)f.view=e.qb.checked;if(a.edit&&e.d)f.edit=e.d.checked;if(a.edit)f.readOnly=e.h.checked;if(a.add&&e.M)f.add=e.M.checked;e=e.e.filevarname;var g=appgen.m[e];f.file=g.file;f.fullFile=g.fullFile;f.parentCorrel=g.correlation;f.mainfile=g.mainfile;if(e!="file"&&f.na)f.readOnly=true;c.push(f)}return c};
appgen.startGeneration=function(){function a(P){S=P;appgen.J(pui.getLanguageText("jumpstartMsg","generating app"));var I=Q("file").value.toUpperCase(),u=I;P="*LIBL";var G=u.split("/");if(G.length==2){P=G[0];u=G[1]}var z=Q("appType").value,E=Q("subfileType").value,F={view:Q("viewAction").checked,edit:Q("editAction").checked,add:Q("addAction").checked,Lb:Q("deleteAction").checked};if(z!="subfile")F={};var L=Q("combinedSeparate").value=="combined";if(Q("combinedSeparateRow").style.display=="none")L=
false;var Y=Q("title").value;G=u+"          ";G=G.substr(0,10);var fa=j+"          ";fa=fa.substr(0,10);var na=pui.DOCUMENT_ROOT,oa=pui.SERVER_ROOT,pa={"#title":Y,"#file":u,"#filexxxxx":G,"#fileCount":String(appgen.s.length+1),"#fullFile":I,"#fileLibrary":P,"#fileDescription":appgen.ve,"#longFile":appgen.mf,"#appType":z,"#subfileType":E,"#language":q,"#fixed":String(q==appgen.ja),"#view":String(F.view),"#edit":String(F.edit),"#add":String(F.add),"#delete":String(F.Lb),"#combined":String(L),"#library":C,
"#programSourceFile":d,"#program":f,"#displaySourceFile":k,"#dspf":j,"#dspfxxxxxx":fa,"#phpFile":appgen.filename(n),"#jsonFile":appgen.filename(D),"#htmlFile":appgen.filename(D),"#phpFullPath":n,"#phpFullDir":appgen.W(n),"#jsonFullPath":D,"#jsonFullDir":appgen.W(D),"#phpRelativePath":appgen.ba(n),"#phpRelativeDir":appgen.W(appgen.ba(n)),"#jsonRelativePath":appgen.ba(D),"#jsonRelativeDir":appgen.W(appgen.ba(D)),"#nodejsFile":appgen.filename(l),"#nodejsFullPath":l,"#nodejsFullDir":appgen.W(l),"#nodejsRelativePath":appgen.ba(l),
"#nodejsRelativeDir":appgen.W(appgen.ba(l)),"#rpg":String(r),"#php":String(s),"#nodejs":String(w),"#documentRoot":na,"#serverRoot":oa,"#osRelease":pui.OS_RELEASE};setTimeout(function(){var K={K:O,Nb:S,D:appgen.ac(),title:Y,sg:I,file:u,yb:z,Jd:E,$d:F,Jb:L,j:pa,language:q,Ia:s,Bd:r,jc:w};K.j["#fieldCount"]=String(K.D.length);K.j["#keyCount"]=String(appgen.qa(K).length);K.j["#gridCount"]=String(appgen.$a(K).length);K.j["#searchCount"]=String(appgen.bc(K).length);K.j["#viewCount"]=String(appgen.cc(K).length);
K.j["#addCount"]=String(appgen.Xb(K).length);K.j["#editCount"]=String(appgen.$b(K).length);K.j["#detailCount"]=String(appgen.Zb(K).length);appgen.Be(K);if(K.success){appgen.w||appgen.J(pui.getLanguageText("jumpstartMsg","creating x dspf",[appgen.X]));if(r){appgen.richDisplay=K.Ja;appgen.code={};appgen.code.z={};appgen.code.z.library=C;appgen.code.z.file=d;appgen.code.z.member=f;appgen.code.z.type="SQLRPGLE";appgen.code.z.objlib=C;appgen.code.z.obj=f;appgen.code.z.text=X("title");appgen.code.z.replace=
appgen.allowOverwrite?"Y":"N";appgen.code.z.compile="Y";appgen.files=appgen.nb(K.Hb);appgen.w?appgen.onRichDisplayCompile({success:true}):appgen.Hd()}if(s||w){var ga;ga=w?pui.getLanguageText("jumpstartMsg","creating pjs pgm"):pui.getLanguageText("jumpstartMsg","creating php script");var ba=function(){appgen.J(ga);appgen.files=appgen.nb(K.Hb);appgen.rb()};if(appgen.w)ba();else if(v){appgen.J(ga);appgen.files=appgen.nb(K.Xe,D);ba=appgen.nb(K.Hb);for(var ia in ba)appgen.files[ia]=ba[ia];appgen.rb()}else appgen.mc({dc:D,
code:K.Ja,replace:appgen.allowOverwrite?"Y":"N",jb:ba})}}else{appgen.g();alert(K.error)}},1)}var b=pui.getLanguageText("jumpstartMsg","provide valid names");if(appgen.aa==1)alert(pui.getLanguageText("jumpstartMsg","invalid chars",[b]));else if(appgen.aa==2)alert(pui.getLanguageText("jumpstartMsg","fields same name",[b]));else if(appgen.aa==3)alert(pui.getLanguageText("jumpstartMsg","long alias conflict"));else if(appgen.Xc)alert(pui.getLanguageText("jumpstartMsg","correls same name",[b]));else{appgen.wd=
false;b=Q("library");var c=Q("programSourceFile"),d=c.value.toUpperCase(),e=Q("program"),f=e.value.toUpperCase(),g=Q("displaySourceFile"),k=g.value.toUpperCase(),h=Q("displayFile"),j=h.value.toUpperCase(),m=Q("richDisplaySource"),p=Q("phpScript"),n=p.value,l=Q("pjsSource").value,q=Q("language").value,s=q==appgen.Ra,r=q==appgen.Ba||q==appgen.ja,w=q==appgen.ia,A=Q("designerLinkRow"),t;if(s){A=Q("viewDesignerLinkRow");t=Q("launchPHPLinkRow");Q("launchPHPLink");t.style.display="none"}else if(w)A=Q("designerLinkRowPJS");
A.style.display="none";var v=false;if(w){if(Q("UItype").value==appgen.Na){m=Q("htmlSourcePJS");v=true}else m=Q("rdfSourcePJS");b=Q("libraryPJS")}var C=b.value.toUpperCase(),D=m.value;if((r||w)&&C==""){alert(pui.getLanguageText("jumpstartMsg","library required"));b.focus()}else if(r&&d==""){alert(pui.getLanguageText("jumpstartMsg","pgm srcfile required"));c.focus()}else if(r&&f==""){alert(pui.getLanguageText("jumpstartMsg","rpg pgm name required"));e.focus()}else{if(appgen.w)D=j=k="";if(r&&k==""&&
!appgen.w){alert(pui.getLanguageText("jumpstartMsg","dsp srcfile required"));g.focus()}else if(r&&j==""&&!appgen.w){alert(pui.getLanguageText("jumpstartMsg","dspf name reqd"));h.focus()}else if((s||w)&&D==""&&!appgen.w){alert(pui.getLanguageText("jumpstartMsg","dspf name reqd"));m.focus()}else if(s&&n==""){alert(pui.getLanguageText("jumpstartMsg","php fname required"));p.focus()}else{b=Q("proxyName");if(w)if(b.value==""){alert(pui.getLanguageText("jumpstartMsg","pjs proxy required"));b.focus();return}else f=
b.value;if(w&&l==""){alert(pui.getLanguageText("jumpstartMsg","pjs pgm name required"));Q("pjsSource").focus()}else{b="rpgle";if(s)b="php";else if(w)b="js";appgen.allowOverwrite=Q("allowOverwrite").checked;appgen.replaceDSPF=appgen.allowOverwrite;var H=Q("template").value,O="",S={};appgen.J(pui.getLanguageText("jumpstartMsg","retr code template"));ha({url:R("PUI0009115.PGM"),params:{type:"appgen_code_template",template:H,language:b},method:"post",saveResponse:true,suppressAlert:true,handler:function(P){O=
P;if(appgen.w)a(null);else{appgen.J(pui.getLanguageText("jumpstartMsg","retrieving x dspf",[appgen.X]));P={url:R("PUI0009115.PGM"),method:"post",params:{type:"appgen_screen_template",template:H},saveResponse:true,suppressAlert:true,handler:a,onfail:function(){appgen.g();alert(pui.getLanguageText("jumpstartMsg","unable retrieve x dspf",[appgen.X]))}};if(v){P.params.type="appgen_code_template";P.params.language="html";ha(P)}else W(P)}},onfail:function(){appgen.g();alert(pui.getLanguageText("jumpstartMsg",
"retr template fail"))}})}}}}};appgen.W=function(a){a=a.split("/");a.pop();return a.join("/")};appgen.filename=function(a){return a.split("/").pop()};appgen.ba=function(a){var b=pui.DOCUMENT_ROOT;if(b.substr(b.length-1,1)=="/")b=b.substr(0,b.length-1);var c=b.length;a=a;if(a.substr(0,c)==b)a=a.substr(c);return a};
appgen.mc=function(a){var b=appgen.filename(a.dc),c=[];c.push({name:"path",value:a.dc});c.push({name:"replace",value:a.replace});c.push({name:"mkdirs",value:"Y"});c.push({name:"json",value:a.code,fileName:b});b=new pui.Wd;b.ce(c);b.send(R("PUI0001109.pgm"),function(d){var e,f={};if(d.Ea()!=200)e=d.ab();if(!e){f=eval("("+d.ra()+")");f.success||(e=f.errorText)}if(e){appgen.g();if(a.replace=="N"&&e.indexOf("Do you want to replace it?")>=0){if(window.confirm(e)){a.replace="Y";appgen.mc(a);return}}else pui.alert(e);
a.sf!=null&&a.eh()}else a.jb!=null&&a.jb()})};
appgen.rb=function(){var a=true;for(var b in appgen.files){a=false;for(var c="",d=appgen.files[b],e=0;e<d.length;e++){c+=d[e];if(e<d.length-1)c+="\n"}delete appgen.files[b];appgen.mc({dc:b,code:c,replace:appgen.allowOverwrite?"Y":"N",jb:appgen.rb});break}if(a){if(Q("language").value==appgen.ia&&!appgen.wd)return appgen.oe();c=Q("richDisplaySource").value;d=Q("viewDesignerLinkRow");e=Q("viewDesignerLink");a=Q("launchPHPLinkRow");b=Q("launchPHPLink");var f=Q("language").value==appgen.ia;if(f){c=Q("rdfSourcePJS").value;
d=Q("designerLinkRowPJS");e=Q("designerLinkPJS")}appgen.g();if(!appgen.w&&Q("UItype").value!=appgen.Na){appgen.ma=f?appgen.vb:appgen.Zd;e.href=appgen.ma+"?ifsfile="+encodeURIComponent(c);e.innerHTML=pui.getLanguageText("jumpstartText","open x dspf in y",[appgen.X,appgen.Xa]);d.style.display="";e.focus()}c=pui.DOCUMENT_ROOT;d=Q("phpScript").value;if(d.substr(0,c.length)==c){d=appgen.ba(d.substr(c.length));if(appgen.filename(d).toLowerCase()=="index.php")d=appgen.W(d);b.href=d;a.style.display=""}appgen.Yc()}};
appgen.Yc=function(){for(var a=pui.getLanguageText("jumpstartMsg","app generated");appgen.ob.length>0;)a+="\n\n"+appgen.ob.shift();alert(a)};
appgen.Ld=function(a){if(a.success!=true){appgen.g();a.msg=!appgen.allowOverwrite&&a.msg.indexOf("CPF7306")>=0?pui.getLanguageText("jumpstartMsg","halted rpg exists"):a.msg.replace(/\\n/g,"\n");alert(a.msg)}else{a=true;for(var b in appgen.files){a=false;var c=appgen.code.z.file,d=b,e=b.split(",");if(e.length>1){c=e[0];d=e[1]}c=U(c.substr(0,10));d=U(d.substr(0,10));e={};for(var f in appgen.code.z)e[f]=appgen.code.z[f];e.file=c;e.member=d;e.obj=d;f=appgen.files[b];c=1;for(d=0;d<f.length;d++){var g=
f[d].match(/^#srctype\((\w+)\)/),k=f[d].match(/^#srctext\((.+)\) *$/);if(f[d].substr(0,10)=="#nocompile")e.compile="N";else if(g!=null&&g.length==2)e.type=g[1];else if(k!=null&&k.length==2)e.text=k[1].substr(0,50);else{e["line"+c]=f[d];c+=1}}e.totallines=c-1;delete appgen.files[b];W({url:R("PUI0001116.PGM"),method:"post",async:true,suppressAlert:true,params:e,handler:appgen.Ld,onfail:function(){appgen.g();alert(pui.getLanguageText("jumpstartMsg","http error crtrpgpgm"))}});break}if(a){appgen.g();
if(!appgen.w){b=Q("designerLinkRow");a=Q("designerLink");a.href=appgen.ma+"?library="+encodeURIComponent(X("library").toUpperCase())+"&file="+encodeURIComponent(X("displaySourceFile").toUpperCase())+"&member="+encodeURIComponent(X("displayFile").toUpperCase());a.innerHTML=pui.getLanguageText("jumpstartText","open x dspf in y",[appgen.X,appgen.Xa]);b.style.display="";a.focus()}appgen.Yc()}}};
appgen.Hd=function(){var a=Q("library").value.toUpperCase(),b=Q("displaySourceFile").value.toUpperCase(),c=Q("displayFile").value.toUpperCase(),d=Q("title").value;Q("designerIFrame").src=appgen.ma+"?appgen=true&appgenlibrary="+encodeURIComponent(a)+"&appgenfile="+encodeURIComponent(b)+"&appgenmember="+encodeURIComponent(c)+"&appgentext="+encodeURIComponent(d)};
appgen.onRichDisplayCompile=function(a){if(a.success==true){appgen.J(pui.getLanguageText("jumpstartMsg","creating rpg pgm"));appgen.Ld(a)}else if(a.message.indexOf("Do you want to replace it?")>=0){appgen.g();if(window.confirm(a.message)){appgen.J(pui.getLanguageText("jumpstartMsg","creating x dspf",[appgen.X]));appgen.replaceDSPF=true;appgen.Hd()}}else{appgen.g();alert(a.message)}};
appgen.oe=function(){var a={objlib:X("libraryPJS"),obj:X("proxyName"),replace:appgen.allowOverwrite?"Y":"N"};W({url:R("PUI0001119.PGM"),method:"post",async:true,suppressAlert:true,params:a,handler:function(b){appgen.g();if(b.success!=true){b.msg=!appgen.allowOverwrite&&b.msg.indexOf("CPF2130")>=0?pui.getLanguageText("jumpstartMsg","proxy pgm exists"):b.msg.replace(/\\n/g,"\n");alert(b.msg)}else{appgen.wd=true;appgen.rb()}},onfail:function(){appgen.g();alert(pui.getLanguageText("jumpstartMsg","http error for proxy"))}})};
appgen.Be=function(a){if(appgen.hf&&appgen.qa(a).length==0){a.success=false;a.error=pui.getLanguageText("jumpstartMsg","select unique key")}else{a.success=true;a.error="";appgen.ob=[];if(!appgen.w){if(a.jc&&Q("UItype").value==appgen.Na){var b=a.K;a.K=a.Nb;a.Xe=appgen.Vb(a);a.K=b}else a.Ja=appgen.ze(a);if(!a.success)return}a.Hb=appgen.Vb(a);if(a.success)if(window.JSON==null||typeof window.JSON!="object"||typeof JSON.stringify!="function"){a.success=false;a.error=pui.getLanguageText("jumpstartMsg",
"fail json unsupported")}else if(a.Ja!=null)a.Ja=JSON.stringify(a.Ja)}};appgen.t=function(a,b){for(var c=[],d=0;d<a.D.length;d++){var e=a.D[d];if(b!=null&&typeof b=="function")b(e)&&c.push(e);else c.push(e)}return c};appgen.qa=function(a){return appgen.t(a,function(b){return b.key})};appgen.Oe=function(a){return appgen.t(a,function(b){return!b.key})};appgen.He=function(a){return appgen.t(a,function(b){return a.Ia?b.key:b.key&&!b.grid})};appgen.$a=function(a){return appgen.t(a,function(b){return b.grid})};
appgen.cc=function(a){return appgen.t(a,function(b){return b.view||b.na})};appgen.$b=function(a){return appgen.t(a,function(b){return b.edit||b.na||b.readOnly})};appgen.Pe=function(a){return appgen.t(a,function(b){return b.edit&&!b.readOnly})};appgen.Zb=function(a){return appgen.t(a,function(b){return b.na})};appgen.Xb=function(a){return appgen.t(a,function(b){return b.add})};appgen.bc=function(a){return appgen.t(a,function(b){return b.search})};
appgen.Ne=function(a){return appgen.t(a,function(b){return!b.Wb&&!b.ad})};appgen.Me=function(a){return appgen.t(a,function(b){return!b.Wb})};appgen.Ke=function(a){return appgen.t(a,function(b){return b.mainfile})};appgen.bd=function(a){return appgen.t(a,function(b){return b.grid||b.search||b.view||b.edit||b.readOnly||b.na||b.add||b.key})};
appgen.q=function(a,b){var c=[];for(var d in b)c.push(d);c.sort(function(j,m){return j<m?1:-1});if(typeof a=="string"){for(var e=0;e<c.length;e++){d=c[e];var f=appgen.Pb(b[d]);d=RegExp(d,"g");a=a.replace(d,f)}return a}else if(a instanceof Array)for(var g=0;g<a.length;g++)for(e=0;e<c.length;e++)if(typeof a[g]=="string"){d=c[e];f=appgen.Pb(b[d]);d=RegExp(d,"g");a[g]=a[g].replace(d,f)}else typeof a[g]=="object"&&a[g]!=null&&appgen.q(a[g],b);else if(typeof a=="object")for(g in a){for(e=0;e<c.length;e++){d=
c[e];f=appgen.Pb(b[d]);d=RegExp(d,"g");if(typeof a[g]=="string")a[g]=a[g].replace(d,f);if(typeof a[g]=="object"){a[g].fieldName=a[g].fieldName.replace(d,f);if(a[g].designValue!=null)a[g].designValue=a[g].designValue.replace(d,f)}}if(g.substr(0,17)=="user defined data"&&typeof a[g]=="string"&&a[g].substr(0,4)=="#if "){e=a[g].substr(4);delete a[g];var k;try{k=eval(e)}catch(h){alert(pui.getLanguageText("jumpstartMsg","if not valid on widget",[a.id]));k=true}if(k===false)return false}}};
appgen.Za=function(a){var b=a.name+"           ";b=b.substr(0,11);var c=String(a.k+" ".repeat(10)).substr(0,10);return{"#field":a.name,"#fieldLC":a.name.toLowerCase(),"#fieldxxxxx":b,"#dbfield":a.k,"#dbfieldLC":a.k.toLowerCase(),"#dbfieldxx":c,"#parentFile":a.file,"#parentFullFile":a.fullFile,"#parentCorrel":a.parentCorrel,"#coalesceVal":a.N,"#description":a.description,"#type":a.type,"#length":String(a.length),"#decimals":String(a.decPos),"#key":String(a.key),"#primaryKey":String(a.vf),"#grid":String(a.grid),
"#search":String(a.search),"#details":String(a.na),"#view":String(a.view),"#edit":String(a.edit),"#readOnly":String(a.readOnly),"#add":String(a.add),"#longName":String(a.eb),"#generatedAlways":String(a.Wb),"#generatedByDefault":String(a.ad),"#use":a.Qf}};appgen.Ge=function(a){return{"#curFile":a.file,"#curFullFile":a.fullFile,"#joined":String(a.gf),"#isMainfile":String(a.mainfile),"#curFileCorrel":a.correlation}};appgen.Je=function(a){return{"#clausestring":a}};
appgen.Pb=function(a){if(typeof a=="string")return a.replace(/\$/g,"$$$$")};appgen.overrideNEonclick=function(a){a=a||window.event;if(!M(a).checked){a=appgen.Yb();for(var b=Q("fieldList"),c=0;c<b.tBodies[0].rows.length;c++){var d=b.tBodies[0].rows[c];if(d.Va){if(a.details)d.V.checked=false;if(a.edit&&d.d)d.d.checked=false;if(a.add)d.M.checked=false}}}};
appgen.oa=function(a){a=a||window.event;for(a=M(a);a!=null;){if(a.sd)return;a=a.parentNode}appgen.n!=null&&appgen.n.F();pui.p!=null&&pui.p.F();appgen.Fa!=null&&appgen.Fa.F()};appgen.$c=function(a){var b="";switch(a.type){case "A":case "C":b="''";break;case "G":b="VARGRAPHIC('')";break;case "N":b="'0'";break;case "B":case "F":case "I":case "P":case "S":case "U":b="0";break;case "D":case "L":b="DATE('0001-01-01')";break;case "T":b="'00:00:00'";break;case "Z":b="'0001-01-01-00.00.00.000000'";break}return b};
appgen.zb=function(){for(var a=Q("fieldList").tBodies[0],b=0;b<a.rows.length;b++){var c=a.rows[b],d=appgen.f.we(c.e.filevarname);if(c.Ga||d){c.sc.innerHTML=c.Ga?appgen.uc:appgen.Xd;c.N.value=appgen.$c(c.e)}else if(!d&&!c.Ga)c.sc.innerHTML=""}};
appgen.modifyExtraFileList=function(a){a=a||window.event;if(appgen.n==null){appgen.n=new pui.designer.tc;appgen.n.za=true;appgen.n.wb=false;appgen.n.xb=false;appgen.n.La=true;appgen.n.Fd("uppercase");appgen.n.Ed(21);appgen.n.Cd(pui.getLanguageText("jumpstartText","extra db files"));appgen.n.gb=function(b){var c=$.Tf(b);if(c!=""){alert("File name "+c);b=false}else if(X("file").toUpperCase()==b.toUpperCase()){alert(pui.getLanguageText("jumpstartMsg","file already specified"));b=false}return b};appgen.n.ib=
function(b){appgen.s=b;appgen.Wc();appgen.Id();appgen.v()};appgen.n.hb=function(){V(document.body,"click",appgen.oa)}}appgen.n.Dd(appgen.s);T(document.body,"click",appgen.oa);appgen.n.show(a,500,50);N(a)};appgen.Id=function(){if(pui.fa()&&JSON&&JSON.stringify){for(var a=["appType","subfileType","combinedSeparate","language","template","file"],b=0;b<a.length;b++){var c=a[b];sessionStorage.setItem(c,X(c))}sessionStorage.setItem("xfiles_"+X("file").toUpperCase(),JSON.stringify(appgen.s))}};
appgen.lb=function(a){if(pui.fa())try{if(a=="xfiles"){var b=JSON.parse(sessionStorage.getItem(a+"_"+X("file").toUpperCase()));if(b!=null&&b.length>0&&appgen.s.length==0){appgen.s=b;appgen.Wc()}}else{b=["appType","subfileType","combinedSeparate","language","template","file"];for(var c=0;c<b.length;c++){var d=b[c];if(!a||a==d){var e=sessionStorage.getItem(d);e&&pui.qh(d,e)}}}}catch(f){}};
appgen.Wc=function(){appgen.Md=false;var a=Q("extraFiles"),b="";if(appgen.s.length>0){b="";for(var c=0;c<appgen.s.length;c++){if(c>0)b+=", ";b+=appgen.s[c];if(appgen.s[c].indexOf("/")>=0)appgen.Md=true}}else b="(none)";a.innerHTML=b;appgen.Qb(appgen.Md,pui.getLanguageText("jumpstartMsg","qualify warning"))};appgen.Qb=function(a,b){if(b==null)b="";Q("extraFilesWarningRow").style.display=a?"":"none";Q("extraFilesWarningText").innerHTML=b};
appgen.se=function(){appgen.Wa=false;var a={};for(var b in appgen.m)for(var c=appgen.m[b],d=0;d<c.fields.length;d++){var e=c.fields[d].field;if(a[e]){appgen.Wa=true;return}else a[e]=true}};
appgen.pb=function(){clearTimeout(appgen.Sf);var a=X("language"),b=a==appgen.Ba||a==appgen.ja;pui.designer.ye=true;appgen.aa=0;appgen.Sf=setTimeout(function(){for(var c={},d=Q("fieldList"),e=0;e<d.tBodies[0].rows.length;e++){var f=d.tBodies[0].rows[e].fieldName,g=f.parentNode,k=f.value.toUpperCase(),h=d.tBodies[0].rows[e].e.longName,j=d.tBodies[0].rows[e].e.field,m=$.Ma(k,"field"),p="";if(m!=""){pui.A(f,"warning");appgen.aa=1;p=m}else if(c[k]){pui.A(f,"warning");pui.A(c[k],"warning");appgen.aa=2;
p="The field name, "+k+", is already in use."}else if(b&&h!=j&&k==j){pui.A(f,"warning");appgen.aa=3;p=pui.getLanguageText("jumpstartMsg","long alias conflict")}else{pui.G(f,"warning");for(c[k]=f;g.childNodes.length>1;)g.removeChild(g.childNodes[1])}if(p.length>0){f=g.querySelector("span");if(f==null){f=document.createElement("span");f.className="warning";g.appendChild(f)}f.innerHTML=p}}},50)};
appgen.Oc=function(){appgen.Xc=false;for(var a={},b=document.querySelectorAll("#joinSelectionSection .section-body table"),c=0;c<b.length;c++){var d=b[c].Kb,e=d.value.toUpperCase();if(e=="")appgen.Wa?pui.A(d,"warning"):pui.G(d,"warning");else if(a[e]){pui.A(d,"warning");pui.A(a[e],"warning");appgen.Xc=true}else{pui.G(d,"warning");a[e]=d}}};
appgen.Dc=function(a){function b(n){M(n).dragDrop();return false}Q("joinSelectionSection").style.display="";var c=appgen.fc%3,d=Math.floor(appgen.fc/3);appgen.fc++;var e=document.createElement("table");e.style.position="absolute";e.style.width="200px";e.style.left=250*c+10+"px";e.style.top=200*d+25+"px";e.className="join-list";e.id="joinlist_"+a.varname;c=e.createCaption();c.innerHTML=a.fullFile+" &mdash; #"+a.varname;d=e.createTHead().insertRow(0);var f=d.insertCell(0);f.innerHTML="Field";f.style.width=
"70%";f=d.insertCell(1);f.innerHTML="Length / Type";f.style.width="";var g=document.createElement("tbody");e.appendChild(g);for(var k=a.fields,h=0;h<k.length;h++){d=g.insertRow(g.rows.length);d.id=a.varname+"_r"+h;d.o=a.varname;d.e=k[h];var j=k[h].key;f=d.insertCell(0);f.innerHTML=k[h].field+(j!=null?" (PK)":"");f=d.insertCell(1);j=String(k[h].length);j+=k[h].decPos!=null?","+String(k[h].decPos):k[h].type;f.innerHTML=j;d.draggable=true;d.ondragstart=appgen.ef;d.ondragend=appgen.bf;d.ondrop=appgen.ff;
d.ondragover=appgen.df;d.ondragleave=appgen.cf;if(pui.ie_mode<=9)d.onselectstart=b}d=g.insertRow(g.rows.length);f=d.insertCell(0);f.colSpan=2;f.className="correl";f.style.borderTopWidth="3px";f.style.borderTopStyle="solid";f.innerHTML=pui.getLanguageText("jumpstartText","correlation");var m=document.createElement("input");m.type="text";m.maxLength=10;m.size=15;m.jh=pui.getLanguageText("jumpstartText","none");m.value="";e.o=a.varname;m.onchange=function(){appgen.m[e.o].correlation=m.value.toUpperCase();
appgen.b();appgen.Oc()};f.appendChild(m);e.Kb=m;e.ua=[];document.querySelector("#joinSelectionSection .section-body").appendChild(e);var p=null;$.u(c,"mousedown",function(n){function l(t){var v=A+$.O(t)-r;if(v<0)v=0;if(v>1800)v=1800;t=w+$.ca(t)-s;if(t<0)t=0;if(t>3E3)t=3E3;e.style.top=v+"px";e.style.left=t+"px";for(v=0;v<e.ua.length;v++)e.ua[v].Qc();clearTimeout(p);p=setTimeout(appgen.Vc,5)}function q(){$.Y(document,"mousemove",l);$.Y(document,"mouseup",q)}$.I(n);var s=$.ca(n),r=$.O(n),w=parseInt(e.style.left),
A=parseInt(e.style.top);$.u(document,"mousemove",l);$.u(document,"mouseup",q)})};appgen.Vc=function(){var a=document.querySelector("#joinSelectionSection .section-body").scrollHeight;a-=3;if(a>2E3)a=2E3;var b=Q("joinsvg");b!=null&&b.setAttribute("height",a+"px")};
appgen.fe=function(){var a=Q("joinSelectionSection"),b=a.querySelector(".section-body");a=a.querySelector(".s-resizer");$.u(a,"mousedown",function(c){function d(j){j=g+$.O(j)-f;if(j<k)j=k;if(j>h)j=h;b.style.height=j+"px"}function e(){$.Y(document,"mousemove",d);$.Y(document,"mouseup",e)}$.I(c);var f=$.O(c),g=parseInt(b.style.height);if(typeof window.getComputedStyle=="function"){c=window.getComputedStyle(b);var k=parseInt(c.getPropertyValue("min-height"));if(isNaN(k)||k<300)k=300;var h=parseInt(c.getPropertyValue("max-height"));
if(isNaN(h)||h>2E3)h=2E3;$.u(document,"mousemove",d);$.u(document,"mouseup",e)}})};appgen.H=function(a){a=M(a);if(a.tagName=="TD")a=a.parentNode;if(a.tagName!="TR")return null;return a};
appgen.ff=function(a){$.I(a);var b=appgen.H(a);if(b){pui.G(b,"join_valid");var c;try{c=a.dataTransfer.getData("text/plain")}catch(d){c=appgen.cb}a=Q(c);if(!a)return false;c=b.o;var e=a.o;if(e==null||e==c)return false;if(appgen.f.contains(c)&&appgen.f.contains(e)){c=appgen.f.dd(c,e);if(c!=null){var f,g;if(b.o==c.ga){if(a.o==c.la){f=b;g=a}}else if(a.o==c.ga)if(b.o==c.la){f=a;g=b}if(f!=null&&g!=null)c.ne(f,g)===false&&c.Bc(f,g);else console.log("Failed to determine parent-child relationship.")}}else if(appgen.f.contains(c))appgen.f.Ec(b,
a);else appgen.f.contains(e)&&appgen.f.Ec(a,b);appgen.b()}};
appgen.df=function(a){if(appgen.cb!=null){var b=appgen.H(a);if(b){var c=Q(appgen.cb);if(c!=null){c=c.o;if(c!=null){var d=b.o;if(d!=c){var e=Q("joininfobox"),f=appgen.f.contains(c),g=appgen.f.contains(d);if(!f&&!g){e.style.visibility="visible";e.innerHTML=pui.getLanguageText("jumpstartMsg","join x y to main file",[c,d])}else{if(f&&g)if(appgen.f.dd(d,c)==null){e.style.visibility="visible";e.innerHTML=pui.getLanguageText("jumpstartMsg","one path main to child");return}e.style.visibility="hidden";$.I(a);
pui.A(b,"join_valid");a.dataTransfer.Rc="link"}}}}}}};appgen.cf=function(a){$.I(a);(a=appgen.H(a))&&pui.G(a,"join_valid")};appgen.ef=function(a){a=a||window.event;if(a.stopPropagation)a.stopPropagation();else{a.cancelBubble=true;a.returnValue=false}var b=appgen.H(a);if(b){appgen.cb=b.id;pui.A(b,"join_origin");try{a.dataTransfer.setData("text/plain",b.id)}catch(c){}}};appgen.bf=function(a){if(a=appgen.H(a)){pui.G(a,"join_origin");appgen.cb=null}Q("joininfobox").style.visibility="hidden"};
appgen.Ud=function(){var a=document.createElement("div"),b=document.createElement("div"),c=document.createElement("span"),d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("input"),k=document.createElement("input"),h=document.createElement("input"),j=document.createElement("label"),m=document.createElement("label"),p=document.createElement("label"),n=document.createElement("input"),l=document.createElement("input"),q=document.createElement("input"),
s=this,r=null,w=null;a.id="joinEditor";a.sd=true;a.style.zIndex=$.Nd;a.style.visibility="hidden";a.style.display="none";b.className="dialog-header";b.appendChild(c);f.className="dialog-body";g.type="radio";g.name="rdojointype";g.id="rdojointype1";g.value="INNER";g.checked=true;j.setAttribute("for",g.id);f.appendChild(g);f.appendChild(j);k.type="radio";k.name="rdojointype";k.id="rdojointype2";k.value="LEFT";m.setAttribute("for",k.id);f.appendChild(k);f.appendChild(m);h.type="radio";h.name="rdojointype";
h.id="rdojointype3";h.value="RIGHT";p.setAttribute("for",h.id);f.appendChild(h);f.appendChild(p);d.className="close-btn";d.onclick=function(){s.F()};d.appendChild(e);b.appendChild(d);n.style.right="165px";n.type="button";n.value=pui.getLanguageText("jumpstartText","modify");n.onclick=function(){r.qc(g.checked?g.value:k.checked?k.value:h.value);appgen.zb();appgen.b();s.F()};l.style.right="90px";l.type="button";l.value=pui.getLanguageText("jumpstartText","remove");l.onclick=function(){r.Af(w);if(r.i.length<
1){appgen.f.remove(r.la,w);appgen.pb();appgen.Oc();appgen.zb()}appgen.b();s.F()};q.style.right="15px";q.type="button";q.value=pui.getLanguageText("jumpstartText","cancel");q.onclick=function(){s.F()};d=document.createElement("p");d.appendChild(g);d.appendChild(j);f.appendChild(d);d=document.createElement("p");d.appendChild(k);d.appendChild(m);f.appendChild(d);d=document.createElement("p");d.appendChild(h);d.appendChild(p);f.appendChild(d);f.appendChild(n);f.appendChild(l);f.appendChild(q);a.appendChild(b);
a.appendChild(f);document.body.appendChild(a);$.u(b,"mousedown",function(A){function t(S){var P=O+$.O(S)-D;if(P<0)P=0;S=H+$.ca(S)-C;a.style.top=P+"px";a.style.left=S+"px"}function v(){$.Y(document,"mousemove",t);$.Y(document,"mouseup",v);a.style.filter="";a.style.opacity="";g.focus()}$.I(A);var C=$.ca(A),D=$.O(A),H=parseInt(a.style.left),O=parseInt(a.style.top);a.style.filter="alpha(opacity=85)";a.style.opacity=0.85;$.u(document,"mousemove",t);$.u(document,"mouseup",v)});this.Gf=function(A){w=A;r=
w.hc;var t=appgen.m[r.ga].fullFile,v=appgen.m[r.la].fullFile;c.innerHTML=pui.getLanguageText("jumpstartText","join props x to y",[t,A.ic,v,A.Gb]);j.innerHTML=pui.getLanguageText("jumpstartText","inner join label");m.innerHTML=pui.getLanguageText("jumpstartText","join label x y",[t,v]);p.innerHTML=pui.getLanguageText("jumpstartText","join label x y",[v,t]);if(r.type=="INNER"){g.checked=true;k.checked=false;h.checked=false}else if(r.type=="LEFT"){g.checked=false;k.checked=true;h.checked=false}else{g.checked=
false;k.checked=false;h.checked=true}};this.show=function(A){A=A||window.event;var t=document.documentElement?document.documentElement.scrollLeft:document.body.scrollLeft,v=document.documentElement?document.documentElement.scrollTop:document.body.scrollTop,C=document.body.offsetWidth;if(C==null)C=1E4;C-=325;if(C<0)C=0;var D=0;D+=A.pageX!=null?A.pageX:A.clientX+t;t=0;t+=A.pageY!=null?A.pageY:A.clientY+v;t-=100;if(t<0)t=0;if(D>C)D=C;a.style.left=D+"px";a.style.top=t+"px";a.style.visibility="visible";
a.style.display="";g.focus();T(document.body,"click",appgen.oa)};this.F=function(){a.style.visibility="hidden";a.style.display="none";w=r=null;V(document.body,"click",appgen.oa)}};
appgen.b=function(){var a=appgen.f.jd(),b="<pre>SELECT",c=appgen.ac();c=appgen.bd({D:c});for(var d=0;d<c.length;d++){var e=c[d];b+=(d>0?",":"")+"\n  ";b+=e.N?"COALESCE("+(e.parentCorrel?e.parentCorrel:e.file)+"."+e.k+", "+e.N+")":(e.parentCorrel?e.parentCorrel:e.file)+"."+e.k}b+="\n";for(d=0;d<a.length;d++){if(d>0)b+="\n";b+=a[d]}b+="</pre>";document.querySelector("#sqlpreview .section-body").innerHTML=b};
appgen.Sd=function(a,b,c){function d(j){var m=j.ya.offsetLeft+g.offsetLeft,p=j.ka.offsetLeft+k.offsetLeft;if(m<=p)m+=j.ya.offsetWidth;else p+=j.ka.offsetWidth;var n=j.ya.offsetTop+g.offsetTop;n+=Math.floor(j.ya.offsetHeight/2);var l=j.ka.offsetTop+k.offsetTop;l+=Math.floor(j.ka.offsetHeight/2);if(j.Q==null){j.Q=new appgen.Vd(f,m,n,p,l,h.type);j.Q.Hf(j);j.Q.te()}else j.Q.If(m,n,p,l)}function e(j){for(var m=0;m<j.length;)if(j[m]==h)j.splice(m,1);else m++}this.type="INNER";this.ga=b.o;this.la=c.o;var f=
a,g=b.parentNode.parentNode,k=c.parentNode.parentNode;this.i=[];var h=this;g.ua.push(h);k.ua.push(h);this.Bc=function(j,m){if(j.parentNode.parentNode==g&&m.parentNode.parentNode==k){var p=new appgen.Td(j,m);p.hc=h;h.i.push(p);d(p)}};h.Bc(b,c);this.Af=function(j){for(var m=0;m<h.i.length;)if(h.i[m]==j){j.U();h.i.splice(m,1);break}else m++};this.Qc=function(){for(var j=0;j<h.i.length;j++)d(h.i[j])};this.U=function(){if(h.i!=null){for(var j=0;j<h.i.length;j++)h.i[j].U();h.i=null}e(g.ua);e(k.ua);f=k=
g=null;h.ga=null;h=h.la=null};this.qc=function(j){h.type=j;for(var m=0;m<h.i.length;m++)h.i[m].Q.qc(j)};this.ne=function(j,m){for(var p=0;p<h.i.length;p++){var n=h.i[p];if(n.ya.id==j.id&&n.ka==m.id)return true}return false}};appgen.Td=function(a,b){this.Q=null;this.ya=a;this.ka=b;this.ic=a.e.field;this.Gb=b.e.field;this.hc=null;var c=this;this.U=function(){c.Q&&c.Q.U();c.Q=null;c.ya=null;c.ka=null;c=c.hc=null}};
appgen.Vd=function(a,b,c,d,e,f){function g(){var C=document.createElementNS(appgen.Sa,"circle");C.setAttribute("r",5);C.setAttribute("fill",appgen.ub);C.onclick=h;C.setAttribute("class","joinlink");return C}function k(){r.setAttribute("cx",n);r.setAttribute("cy",q);A.setAttribute("cx",l);A.setAttribute("cy",s);var C=n+","+q+" ";if(n<=l){C+=n+15+","+q+" ";C+=l-15+","+s+" "}else{C+=n-15+","+q+" ";C+=l+15+","+s+" "}C+=l+","+s;t.setAttribute("points",C);var D=Math.round((n+l)/2),H=Math.round((q+s)/2);
C=m=="LEFT"?D-6+","+(H-6)+" "+(D+18)+","+H+" "+(D-6)+","+(H+6):m=="RIGHT"?D-18+","+H+" "+(D+6)+","+(H-6)+" "+(D+6)+","+(H+6):D-6+","+(H-6)+" "+(D+6)+","+(H-6)+" "+(D+6)+","+(H+6)+" "+(D-6)+","+(H+6);w.setAttribute("points",C);C=Math.abs(q-s);C=Math.asin(C/Math.sqrt(Math.pow(n-l,2)+Math.pow(C,2)))*180/Math.PI;var O=0;if(n<l&&q<=s)O=C;else if(n>=l&&q<s)O=180-C;else if(n>l&&q>=s)O=180+C;else if(n<=l&&q>s)O=360-C;w.setAttribute("transform","rotate("+Math.round(O)+" "+D+" "+H+")")}function h(C){N(C);if(appgen.Fa==
null)appgen.Fa=new appgen.Ud;appgen.Fa.Gf(v);appgen.Fa.show(C)}var j=this,m=f==null?"INNER":f,p=a,n=b,l=d,q=c,s=e,r=null,w=null,A=null,t=null,v=null;this.Hf=function(C){v=C};this.te=function(){if(t==null){t=document.createElementNS(appgen.Sa,"polyline");t.setAttribute("stroke",appgen.ub);t.setAttribute("stroke-width","2");t.setAttribute("fill","none");t.onclick=h;t.setAttribute("class","joinlink");p.appendChild(t)}if(r==null){r=g();p.appendChild(r)}if(A==null){A=g();p.appendChild(A)}if(w==null){w=
document.createElementNS(appgen.Sa,"polygon");w.setAttribute("fill",appgen.Rd);w.setAttribute("stroke",appgen.ub);w.setAttribute("stroke-width",1);w.onclick=h;w.setAttribute("class","joinlink");p.appendChild(w)}k()};this.If=function(C,D,H,O){n=C;q=D;l=H;s=O;k()};this.setEnd=function(C,D){l=C;s=D;k()};this.qc=function(C){m=C;k()};this.U=function(){p.removeChild(r);p.removeChild(w);p.removeChild(A);p.removeChild(t);j=v=p=t=A=w=r=null}};
appgen.Qd=function(a){function b(h){for(;h.childNodes.length>0;)b(h.childNodes[0]);var j=h.getAttribute("fvn");if(h.P!=null){h.P.U();h.P=null;for(var m=Q("fieldList").tBodies[0],p=0;p<m.rows.length;)if(m.rows[p].e.filevarname==j)m.deleteRow(p);else p++;h.parentNode.removeChild(h);delete f[j]}}function c(h){return g==h?k:k.querySelector('div[fvn="'+h+'"]')}function d(h,j,m){var p=document.createElement("div");p.setAttribute("fvn",j);p.P=m;h.appendChild(p);return p}var e=this,f={},g=a;f[g]=false;var k=
d(document.body,g,null);k.style.display="none";this.contains=function(h){return f[h]!=null};this.Ec=function(h,j){var m=h.o,p=j.o;if(e.contains(m)){var n=c(m);if(n){m=new appgen.Sd(Q("joinsvg"),h,j);m.Qc();d(n,p,m);f[p]=false;appgen.td(appgen.m[p],true);appgen.pb();appgen.se();if(appgen.Wa){p=document.querySelectorAll("#joinSelectionSection .section-body table");for(n=0;n<p.length;n++)if(p[n].Kb.value==""){m="T"+n;p[n].Kb.value=m;appgen.m[p[n].o].correlation=m}}appgen.zb()}else console.log("Tree failed to find parent file:",
m)}};this.reset=function(){b(k)};this.remove=function(h){if(h!=g)if(e.contains(h)){var j=c(h);j?b(j):console.log("Tree failed to find child file:",h)}};this.dd=function(h,j){var m=c(h),p=c(j);if(!m||!p)return null;m=m.P;p=p.P;if(m!=null&&m.ga==j)return m;else if(p!=null&&p.ga==h)return p;return null};this.jd=function(){function h(p){var n=p.P;if(n==null){var l="FROM "+m;if(appgen.m.file.correlation.length>0)l+=" "+appgen.m.file.correlation;j.push(l)}else{var q=appgen.m[n.ga],s=appgen.m[n.la];l=n.type+
" JOIN "+s.fullFile;if(s.correlation.length>0)l+=" "+s.correlation+" ";j.push(l);l=n.i[0];q=q.correlation?q.correlation+".":"";s=s.correlation?s.correlation+".":"";j.push("  ON "+q+l.ic+" = "+s+l.Gb+" ");for(var r=1;r<n.i.length;r++){l=n.i[r];j.push(" AND "+q+l.ic+" = "+s+l.Gb+" ")}}for(r=0;r<p.childNodes.length;r++)h(p.childNodes[r])}var j=[],m=appgen.m.file.fullFile.toUpperCase();h(k);return j};this.we=function(h){h=c(h);if(h!=null){if(h.P!=null)if(h.P.type=="LEFT")return true;for(var j=0;j<h.childNodes.length;j++)if(h.childNodes[j].P.type==
"RIGHT")return true}return false}};
appgen.je=function(){var a=Q("appTypeFileSection"),b=document.createElement("div");b.className="section-heading";b.innerHTML=pui.getLanguageText("jumpstartText","hdg apptype file sel");a.appendChild(b);b=document.createElement("div");b.className="section-body";var c=document.createElement("div");c.className="form-row";var d=document.createElement("div");d.className="label";d.innerHTML=pui.getLanguageText("jumpstartText","app type");c.appendChild(d);var e=document.createElement("div"),f=document.createElement("select");
f.id="appType";f.className="dropdown";d=document.createElement("option");d.value="subfile";d.innerHTML=pui.getLanguageText("jumpstartText","apptype subfile");f.appendChild(d);d=document.createElement("option");d.value="data entry";d.innerHTML=pui.getLanguageText("jumpstartText","apptype data entry");f.appendChild(d);d=document.createElement("option");d.value="lookup";d.innerHTML=pui.getLanguageText("jumpstartText","apptype lookup");f.appendChild(d);d=document.createElement("option");d.value="webservice";
d.innerHTML=pui.getLanguageText("jumpstartText","apptype webservice");f.appendChild(d);e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";c.id="subfileTypeRow";d=document.createElement("div");d.className="label";d.innerHTML=pui.getLanguageText("jumpstartText","subf type");c.appendChild(d);e=document.createElement("div");f=document.createElement("select");f.id="subfileType";f.className="dropdown";d=document.createElement("option");d.value="loadall";
d.innerHTML=pui.getLanguageText("jumpstartText","subf type loadall");f.appendChild(d);d=document.createElement("option");d.value="paging";d.innerHTML=pui.getLanguageText("jumpstartText","subf type paging");f.appendChild(d);e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";c.id="actionsRow";d=document.createElement("div");d.className="label";d.innerHTML=pui.getLanguageText("jumpstartText","actions");c.appendChild(d);e=document.createElement("div");
f=document.createElement("input");f.id="viewAction";f.name="viewAction";f.type="checkbox";f.checked=true;e.appendChild(f);d=document.createElement("label");d.setAttribute("for","viewAction");d.innerHTML=pui.getLanguageText("jumpstartText","view");e.appendChild(d);c.appendChild(e);e=document.createElement("div");e.className="label";e.innerHTML="&nbsp;";c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.id="editAction";f.name="editAction";f.type="checkbox";f.checked=
true;e.appendChild(f);d=document.createElement("label");d.setAttribute("for","editAction");d.innerHTML=pui.getLanguageText("jumpstartText","edit");e.appendChild(d);c.appendChild(e);e=document.createElement("div");e.className="label";e.innerHTML="&nbsp;";c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.id="addAction";f.name="addAction";f.type="checkbox";f.checked=true;e.appendChild(f);d=document.createElement("label");d.setAttribute("for","addAction");d.innerHTML=
pui.getLanguageText("jumpstartText","add");e.appendChild(d);c.appendChild(e);e=document.createElement("div");e.className="label";e.innerHTML="&nbsp;";c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.id="deleteAction";f.name="deleteAction";f.type="checkbox";f.checked=true;e.appendChild(f);d=document.createElement("label");d.setAttribute("for","deleteAction");d.innerHTML=pui.getLanguageText("jumpstartText","delete");e.appendChild(d);c.appendChild(e);b.appendChild(c);
c=document.createElement("div");c.className="form-row";c.id="combinedSeparateRow";d=document.createElement("div");d.className="label";d.innerHTML=pui.getLanguageText("jumpstartText","view edit add");c.appendChild(d);e=document.createElement("div");f=document.createElement("select");f.id="combinedSeparate";f.className="dropdown";d=document.createElement("option");d.value="combined";d.innerHTML=pui.getLanguageText("jumpstartText","one combined scrn");f.appendChild(d);d=document.createElement("option");
d.value="separate";d.innerHTML=pui.getLanguageText("jumpstartText","separate scrn");f.appendChild(d);e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";c.id="actionsRow";d=document.createElement("div");d.className="label";d.innerHTML=pui.getLanguageText("jumpstartText","language");c.appendChild(d);e=document.createElement("div");f=document.createElement("select");f.id="language";f.className="dropdown";d=document.createElement("option");d.value=
"rpg free";d.innerHTML=pui.getLanguageText("jumpstartText","rpgle free all");f.appendChild(d);d=document.createElement("option");d.value="rpg free with fixed";d.innerHTML=pui.getLanguageText("jumpstartText","rpg free fixed c");f.appendChild(d);d=document.createElement("option");d.value="php";d.innerHTML=pui.getLanguageText("jumpstartText","php");f.appendChild(d);d=document.createElement("option");d.value="nodejs";d.innerHTML=pui.getLanguageText("jumpstartText","node.js");f.appendChild(d);e.appendChild(f);
d=document.createElement("span");d.className="warning";d.id="languageWarning";d.style.display="none";d.innerHTML=pui.getLanguageText("jumpstartMsg","rpg free not avail");f=document.createElement("a");f.href=pui.getLanguageText("jumpstartText","url use of rpg free");f.target="_blank";f.innerHTML=pui.getLanguageText("jumpstartText","more information");d.appendChild(f);e.appendChild(d);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";c.id="displayTypeRow";d=document.createElement("div");
d.className="label";d.innerHTML=pui.getLanguageText("jumpstartText","display type");c.appendChild(d);e=document.createElement("div");f=document.createElement("select");f.id="UItype";f.className="dropdown";d=document.createElement("option");d.value="dspf";d.innerHTML=pui.getLanguageText("jumpstartText","rich display file");f.appendChild(d);d=document.createElement("option");d.value="html";d.innerHTML=pui.getLanguageText("jumpstartText","html");f.appendChild(d);d=document.createElement("option");d.value=
"none";d.innerHTML=pui.getLanguageText("jumpstartText","none");f.appendChild(d);e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";d=document.createElement("div");d.className="label";d.innerHTML=pui.getLanguageText("jumpstartText","template");c.appendChild(d);e=document.createElement("div");f=document.createElement("select");f.id="template";f.className="dropdown";e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");
c.className="form-row";d=document.createElement("div");d.className="label";d.innerHTML=pui.getLanguageText("jumpstartText","database file");c.appendChild(d);e=document.createElement("div");f=document.createElement("input");f.id="file";f.type="text";f.className="textbox upper";f.maxLength=21;f.onkeyup=function(h){appgen.fileKeyUp(this,h)};e.appendChild(f);e.appendChild(document.createTextNode(" "));f=document.createElement("a");f.href="javascript:void(0)";f.className="libl-link";f.tabIndex="-1";f.onclick=
appgen.modifyLIBL;f.innerHTML=pui.getLanguageText("jumpstartText","modify libl");e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";c.id="liblWarningRow";c.style.display="none";d=document.createElement("div");d.className="label";d.innerHTML="&nbsp;";c.appendChild(d);e=document.createElement("div");d=document.createElement("span");d.id="liblWarning";d.className="warning";d.style.display="none";d.innerHTML=pui.getLanguageText("jumpstartMsg","qualify warning");
e.appendChild(d);d=document.createElement("span");d.id="sqlindexWarning";d.className="warning";e.appendChild(d);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="extraFilesRow";d=document.createElement("div");d.className="label";f=document.createElement("a");f.href="javascript:void(0)";f.onclick=appgen.modifyExtraFileList;f.className="extrafile-link";f.tabIndex="-1";f.innerHTML=pui.getLanguageText("jumpstartText","extra db files");d.appendChild(f);c.appendChild(d);e=document.createElement("div");
e.id="extraFiles";e.innerHTML=pui.getLanguageText("jumpstartText","none");c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";c.id="extraFilesWarningRow";c.style.display="none";d=document.createElement("div");d.className="label";d.innerHTML="&nbsp;";c.appendChild(d);e=document.createElement("div");d=document.createElement("span");d.className="warning";d.id="extraFilesWarningText";e.appendChild(d);c.appendChild(e);b.appendChild(c);c=document.createElement("div");
c.className="form-row";d=document.createElement("div");d.className="label";d.innerHTML=pui.getLanguageText("jumpstartText","app title");c.appendChild(d);e=document.createElement("div");f=document.createElement("input");f.id="title";f.type="text";f.className="textbox";e.appendChild(f);d=document.createElement("span");d.className="warning";d.id="title_message";d.innerHTML=pui.getLanguageText("jumpstartMsg","provide app title");d.style.display="none";e.appendChild(d);c.appendChild(e);b.appendChild(c);
c=document.createElement("div");c.className="form-row";d=document.createElement("div");d.className="label";d.innerHTML="&nbsp;";c.appendChild(d);e=document.createElement("div");f=document.createElement("input");f.id="retrieveFieldsButton";f.type="button";f.className="button";f.value=pui.getLanguageText("jumpstartText","retrieve fields");f.onclick=appgen.retrieveFields;f.disabled=true;e.appendChild(f);c.appendChild(e);b.appendChild(c);a.appendChild(b);a=Q("joinSelectionSection");b=document.createElement("div");
b.className="section-heading";b.innerHTML=pui.getLanguageText("jumpstartText","join selection");a.appendChild(b);b=document.createElement("div");b.className="section-body";e=document.createElement("div");e.className="help";e.innerHTML=pui.getLanguageText("jumpstartMsg","join instructions");b.appendChild(e);c=document.createElement("p");c.id="joininfobox";b.appendChild(c);try{var g=document.createElementNS(appgen.Sa,"svg");g.setAttribute("width","100%");g.setAttribute("height","100%");g.id="joinsvg";
b.appendChild(g)}catch(k){e.innerHTML='<p class="warning">'+pui.getLanguageText("jumpstartMsg","join unsupported IE8")+"</p>"}a.appendChild(b);b=document.createElement("div");b.className="s-resizer";b.innerHTML="&nbsp;";a.appendChild(b);a=Q("fieldSelectionSection");b=document.createElement("div");b.className="section-heading";b.innerHTML=pui.getLanguageText("jumpstartText","field selection");e=document.createElement("div");e.className="move-button-wrap";f=document.createElement("input");f.type="checkbox";
f.id="overrideNonEdit";f.name="overrideNonEdit";f.onclick=appgen.overrideNEonclick;e.appendChild(f);d=document.createElement("label");d.setAttribute("for","overrideNonEdit");d.innerHTML="Override Non-Editable";e.appendChild(d);f=document.createElement("button");f.id="moveUpButton";f.className="move-up-button";f.onclick=appgen.moveUp;f.disabled=true;g=document.createElement("img");g.src="/profoundui/proddata/images/dspfdesigner/icons16x16/move-up.gif";g.alt=pui.getLanguageText("jumpstartText","move field up");
f.appendChild(g);f.appendChild(document.createTextNode(pui.getLanguageText("jumpstartText","move field up")));e.appendChild(f);f=document.createElement("button");f.id="moveDownButton";f.className="move-down-button";f.onclick=appgen.moveDown;f.disabled=true;g=document.createElement("img");g.src="/profoundui/proddata/images/dspfdesigner/icons16x16/move-down.gif";g.alt=pui.getLanguageText("jumpstartText","move field down");f.appendChild(g);f.appendChild(document.createTextNode(pui.getLanguageText("jumpstartText",
"move field down")));e.appendChild(f);b.appendChild(e);a.appendChild(b);b=document.createElement("div");b.className="section-body";e=document.createElement("table");e.id="fieldList";e.className="field-list";e.appendChild(document.createElement("thead"));e.appendChild(document.createElement("tbody"));b.appendChild(e);a.appendChild(b);a=Q("sqlpreview");b=document.createElement("div");b.className="section-heading";b.innerHTML=pui.getLanguageText("jumpstartText","sql preview using std");a.appendChild(b);
b=document.createElement("div");b.className="section-body";a.appendChild(b);a=Q("codeGenerationSection");b=document.createElement("div");b.className="section-heading";b.innerHTML=pui.getLanguageText("jumpstartText","code generation");a.appendChild(b);b=document.createElement("div");b.className="section-body";f=document.createElement("input");f.type="checkbox";f.id="allowOverwrite";f.name="allowOverwrite";f.checked=true;b.appendChild(f);d=document.createElement("label");d.setAttribute("for","allowOverwrite");
d.innerHTML=pui.getLanguageText("jumpstartText","overwrite existing");b.appendChild(d);a.appendChild(b);b=document.createElement("div");b.className="section-body";b.id="rpgSection";c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className="label";e.innerHTML=pui.getLanguageText("jumpstartText","library");c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="text";f.id="library";f.className="textbox upper";f.maxLength="10";
e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className="label";e.innerHTML=pui.getLanguageText("jumpstartText","pgm src file");c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="text";f.id="programSourceFile";f.className="textbox upper";f.maxLength="10";f.value="QRPGLESRC";e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className=
"form-row";e=document.createElement("div");e.className="label";e.innerHTML=pui.getLanguageText("jumpstartText","rpg pgm name");c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="text";f.id="program";f.className="textbox upper";f.maxLength="10";e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className="label";e.innerHTML=pui.getLanguageText("jumpstartText","dsp src file");
c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="text";f.id="displaySourceFile";f.className="textbox upper";f.maxLength="10";f.value="QDDSSRC";e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className="label";e.innerHTML=pui.getLanguageText("jumpstartText","dsp file name");c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="text";
f.id="displayFile";f.className="textbox upper";f.maxLength="10";e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className="label";e.innerHTML="&nbsp;";c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="button";f.className="button";f.value=pui.getLanguageText("jumpstartText","generate app");f.onclick=appgen.startGeneration;e.appendChild(f);c.appendChild(e);b.appendChild(c);
c=document.createElement("div");c.className="form-row";c.id="designerLinkRow";c.style.display="none";e=document.createElement("div");e.className="label";e.innerHTML="&nbsp;";c.appendChild(e);e=document.createElement("div");f=document.createElement("a");f.id="designerLink";f.className="designer-link";f.target="_blank";f.innerHTML=pui.getLanguageText("jumpstartText","open x dspf in y",[pui.getLanguageText("jumpstartText","rich"),pui.getLanguageText("jumpstartText","visual")]);e.appendChild(f);c.appendChild(e);
b.appendChild(c);a.appendChild(b);b=document.createElement("div");b.className="section-body";b.id="phpSection";c=document.createElement("div");c.className="form-row";b.appendChild(c);c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className="label";e.innerHTML=pui.getLanguageText("jumpstartText","rich dspf view");c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="text";f.id="richDisplaySource";f.className="wide-textbox";
f.value=pui.DOCUMENT_ROOT+"/profoundui/userdata/php/myapp/screens.json";e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className="label";e.innerHTML=pui.getLanguageText("jumpstartText","main php script");c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="text";f.id="phpScript";f.className="wide-textbox";f.value=pui.DOCUMENT_ROOT+"/profoundui/userdata/php/myapp/index.php";
e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className="label";e.innerHTML="&nbsp;";c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="button";f.className="button";f.value=pui.getLanguageText("jumpstartText","generate app");f.onclick=appgen.startGeneration;e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";c.id=
"viewDesignerLinkRow";c.style.display="none";e=document.createElement("div");e.className="label";e.innerHTML="&nbsp;";c.appendChild(e);e=document.createElement("div");f=document.createElement("a");f.id="viewDesignerLink";f.className="designer-link";f.target="_blank";f.innerHTML=pui.getLanguageText("jumpstartText","open x dspf in y",[pui.getLanguageText("jumpstartText","rich"),pui.getLanguageText("jumpstartText","visual")]);e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");
c.className="form-row";c.id="launchPHPLinkRow";c.style.display="none";e=document.createElement("div");e.className="label";e.innerHTML="&nbsp;";c.appendChild(e);e=document.createElement("div");f=document.createElement("a");f.id="launchPHPLink";f.className="designer-link";f.target="_blank";f.innerHTML=pui.getLanguageText("jumpstartText","launch php script");e.appendChild(f);c.appendChild(e);b.appendChild(c);a.appendChild(b);b=document.createElement("div");b.className="section-body";b.id="pjsSection";
c=document.createElement("div");c.className="form-row";b.appendChild(c);c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className="label";g=document.createElement("abbr");g.title=pui.getLanguageText("jumpstartText","pjs library explain");g.innerHTML=pui.getLanguageText("jumpstartText","library");e.appendChild(g);c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="text";f.id="libraryPJS";f.className="textbox upper";f.maxLength=
"10";e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className="label";g=document.createElement("abbr");g.title=pui.getLanguageText("jumpstartText","proxy name explain");g.innerHTML=pui.getLanguageText("jumpstartText","proxy name");e.appendChild(g);c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="text";f.id="proxyName";f.className="textbox upper";f.maxLength="10";e.appendChild(f);
c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className="label";e.innerHTML=pui.getLanguageText("jumpstartText","rich dspf view");c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="text";f.id="rdfSourcePJS";f.className="wide-textbox";e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className=
"label";e.innerHTML=pui.getLanguageText("jumpstartText","html dsp view");c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="text";f.id="htmlSourcePJS";f.className="wide-textbox";e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className="label";e.innerHTML=pui.getLanguageText("jumpstartText","main nodejs file");c.appendChild(e);e=document.createElement("div");f=document.createElement("input");
f.type="text";f.id="pjsSource";f.className="wide-textbox";e.appendChild(f);c.appendChild(e);b.appendChild(c);c=document.createElement("div");c.className="form-row";e=document.createElement("div");e.className="label";e.innerHTML="&nbsp;";c.appendChild(e);e=document.createElement("div");f=document.createElement("input");f.type="button";f.className="button";f.value=pui.getLanguageText("jumpstartText","generate app");f.onclick=appgen.startGeneration;e.appendChild(f);c.appendChild(e);b.appendChild(c);
c=document.createElement("div");c.className="form-row";c.id="designerLinkRowPJS";c.style.display="none";e=document.createElement("div");e.className="label";e.innerHTML="&nbsp;";c.appendChild(e);e=document.createElement("div");f=document.createElement("a");f.id="designerLinkPJS";f.className="designer-link";f.target="_blank";f.innerHTML=pui.getLanguageText("jumpstartText","open x dspf in y",[pui.getLanguageText("jumpstartText","rich"),pui.getLanguageText("jumpstartText","visual")]);e.appendChild(f);
c.appendChild(e);b.appendChild(c);a.appendChild(b);Q("waitMessage").innerHTML=pui.getLanguageText("jumpstartMsg","please wait")};
appgen.ie=function(a){var b=Q("fieldList"),c=document.createElement("tr"),d,e=a.edit?2:1,f;if(a.grid){d=document.createElement("td");d.className="checkbox-column header";d.innerHTML=pui.getLanguageText("jumpstartText","grid")+"<br>";f=document.createElement("input");f.type="checkbox";T(f,"click",function(g){for(var k=0;k<b.tBodies[0].rows.length;k++)b.tBodies[0].rows[k].bb.checked=M(g).checked;appgen.b()});d.appendChild(f);d.rowSpan=e;c.appendChild(d)}if(a.search){d=document.createElement("td");d.className=
"checkbox-column header";d.innerHTML=pui.getLanguageText("jumpstartText","search")+"<br>";f=document.createElement("input");f.type="checkbox";T(f,"click",function(g){for(var k=0;k<b.tBodies[0].rows.length;k++)b.tBodies[0].rows[k].mb.checked=M(g).checked;appgen.b()});d.appendChild(f);d.rowSpan=e;c.appendChild(d)}if(a.details){d=document.createElement("td");d.className="checkbox-column header";d.innerHTML=pui.getLanguageText("jumpstartText","detail screen")+"<br>";f=document.createElement("input");
f.type="checkbox";T(f,"click",function(g){g=M(g).checked;for(var k=0;k<b.tBodies[0].rows.length;k++){var h=b.tBodies[0].rows[k];if(h.Va!==true||Q("overrideNonEdit").checked)h.V.checked=g}appgen.b()});d.appendChild(f);d.rowSpan=e;c.appendChild(d)}if(a.view){d=document.createElement("td");d.className="checkbox-column header";d.innerHTML=(Q("appType").value=="webservice"?pui.getLanguageText("jumpstartText","use field"):pui.getLanguageText("jumpstartText","view screen"))+"<br>";f=document.createElement("input");
f.type="checkbox";T(f,"click",function(g){for(var k=0;k<b.tBodies[0].rows.length;k++)b.tBodies[0].rows[k].qb.checked=M(g).checked;appgen.b()});d.appendChild(f);d.rowSpan=e;c.appendChild(d)}if(a.edit){d=document.createElement("td");d.className="header";d.innerHTML=pui.getLanguageText("jumpstartText","edit screen");d.colSpan="2";c.appendChild(d)}if(a.add){d=document.createElement("td");d.className="checkbox-column header";d.innerHTML=pui.getLanguageText("jumpstartText","add screen")+"<br>";f=document.createElement("input");
f.type="checkbox";f.checked=true;T(f,"click",function(g){g=M(g).checked;for(var k=0;k<b.tBodies[0].rows.length;k++){var h=b.tBodies[0].rows[k];if(h.Va!==true||Q("overrideNonEdit").checked)if(h.M)h.M.checked=g}appgen.b()});d.appendChild(f);d.rowSpan=e;c.appendChild(d)}d=document.createElement("td");d.className="field-column header";d.innerHTML=pui.getLanguageText("jumpstartText","db field");d.rowSpan=e;c.appendChild(d);d=document.createElement("td");d.className="field-column header";d.rowSpan=e;f=
document.createElement("abbr");f.title=pui.getLanguageText("jumpstartText","field explain");f.innerHTML=pui.getLanguageText("jumpstartText","field");d.appendChild(f);c.appendChild(d);d=document.createElement("td");d.className="header";d.innerHTML=pui.getLanguageText("jumpstartText","description");d.rowSpan=e;c.appendChild(d);d=document.createElement("td");d.className="length-type-column header";d.innerHTML=pui.getLanguageText("jumpstartText","length type");d.rowSpan=e;c.appendChild(d);d=document.createElement("td");
d.className="header null-column";d.rowSpan=e;f=document.createElement("abbr");f.title=pui.getLanguageText("jumpstartText","null explain");f.innerHTML=pui.getLanguageText("jumpstartText","null?");d.appendChild(f);c.appendChild(d);if(a.coal){d=document.createElement("td");d.className="header coalesce-column";d.rowSpan=e;f=document.createElement("abbr");f.title=pui.getLanguageText("jumpstartText","coalesce explain");f.innerHTML=pui.getLanguageText("jumpstartText","coalesce value");d.appendChild(f);c.appendChild(d)}d=
document.createElement("td");d.id="primaryKeyHeading";d.className="key-column header";d.innerHTML=pui.getLanguageText("jumpstartText","primary key");d.rowSpan=e;c.appendChild(d);if(a.key||a.grid){d=document.createElement("td");d.className="key-column header";d.rowSpan=e;f=document.createElement("abbr");f.title=pui.getLanguageText("jumpstartMsg","unique col help");f.innerHTML=pui.getLanguageText("jumpstartText","unique key");d.appendChild(f);c.appendChild(d)}b.tHead.appendChild(c);if(a.edit){c=document.createElement("tr");
d=document.createElement("td");d.className="checkbox-column header";d.innerHTML=pui.getLanguageText("jumpstartText","edit")+"<br>";f=document.createElement("input");f.type="checkbox";c.d=f;T(f,"click",function(g){if((g=M(g).checked)&&c.h.checked)c.h.checked=false;for(var k=0;k<b.tBodies[0].rows.length;k++){var h=b.tBodies[0].rows[k];if(h.Va!==true||Q("overrideNonEdit").checked){if(h.d)h.d.checked=g;if(g&&h.h.checked)h.h.checked=false}}appgen.b()});d.appendChild(f);c.appendChild(d);d=document.createElement("td");
d.className="checkbox-column header";d.innerHTML=pui.getLanguageText("jumpstartText","read only")+"<br>";f=document.createElement("input");f.type="checkbox";c.h=f;T(f,"click",function(g){if((g=M(g).checked)&&c.d.checked)c.d.checked=false;for(var k=0;k<b.tBodies[0].rows.length;k++){var h=b.tBodies[0].rows[k];h.h.checked=g;if(h.d)if(g&&h.d.checked)h.d.checked=false}appgen.b()});d.appendChild(f);c.appendChild(d);b.tHead.appendChild(c)}};appgen.Vb=function(a){var b;if(typeof a.K=="string"){b=a.K.split("\r\n");if(b.length<=1)b=a.K.split("\n")}else b=a.K;appgen.zf(b);appgen.q(b,a.j);for(var c=appgen.yd(a,b);!c;)c=appgen.yd(a,b);for(c=appgen.xd(a,b);!c;)c=appgen.xd(a,b);for(c=appgen.zd(a,b);!c;)c=appgen.zd(a,b);try{appgen.xf(b)}catch(d){a.success=false;a.error=d;return b}appgen.wf(b);return b};
appgen.zf=function(a){for(var b=["##","#if","#else","#endif","#newfile","#for","#endfor"],c=a.length-1;c>=0;c-=1)if(typeof a[c]=="string"){var d=U(a[c]);if(d.substr(0,2)=="//"){var e=d.substr(2);e=U(e);for(var f=0;f<b.length;f++){var g=b[f];if(e.substr(0,g.length)==g){d=e;a[c]=d;break}}}d.substr(0,2)=="##"&&a.splice(c,1)}};
appgen.yd=function(a,b){var c=[];for(var d in appgen.m){var e=appgen.m[d];e.gf=appgen.f.contains(d);c.push(e)}var f=appgen.f.jd();for(d=0;d<b.length;d++)if(typeof b[d]=="string"){var g=U(b[d]);g=g.split(" ");e=null;var k=appgen.Za,h=false,j=false,m=false,p=false,n=false,l=false;if(g.length>=4&&g[0]=="#for"&&g[1]=="each"&&g[3]=="field"){for(var q=4;q<g.length;q++){if(g[q]=="inMain")h=true;if(g[q]=="chosen")j=true;if(g[q]=="inGrid")m=true;if(g[q]=="nonKey")p=true;if(g[q]=="inDetail")n=true;if(g[q]==
"inEditNonRO")l=true}switch(g[2]){case "grid":e=appgen.$a(a);break;case "view":e=appgen.cc(a);break;case "edit":e=appgen.$b(a);break;case "detail":case "details":e=appgen.Zb(a);break;case "add":e=appgen.Xb(a);break;case "key":e=appgen.qa(a);break;case "search":e=appgen.bc(a);break;case "nonGenerated":e=appgen.Ne(a);break;case "nonGeneratedAlways":e=appgen.Me(a);break;default:break}}else if(g.length>=3&&g[0]=="#for"&&g[1]=="each")if(g[2]=="field"){e=a.D;for(q=3;q<g.length;q++){if(g[q]=="inMain")h=
true;if(g[q]=="chosen")j=true;if(g[q]=="inGrid")m=true;if(g[q]=="nonKey")p=true;if(g[q]=="inDetail")n=true;if(g[q]=="inEditNonRO")l=true}}else if(g[2]=="file"){e=c;k=appgen.Ge}else if(g[2]=="fromclause"){e=f;k=appgen.Je}if(e!=null){if(h)e=appgen.Ke({D:e});if(j)e=appgen.bd({D:e});if(m)e=appgen.$a({D:e});if(p)e=appgen.Oe({D:e});if(n)e=appgen.Zb({D:e});if(l)e=appgen.Pe({D:e});for(q=d+1;q<b.length;q++)if(typeof b[q]=="string"){g=U(b[q]);if(g=="#endfor"){c=appgen.Lc(b,d+1,q-1);b.splice(d,q-d+1);for(q=
0;q<e.length;q++){g=k(e[q]);g["#index"]=String(q+1);g["#first"]=String(q==0);g["#last"]=String(q==e.length-1);f=appgen.Lc(c);appgen.q(f,g);for(g=0;g<f.length;g++){b.splice(d,0,f[g]);d++}}return false}}a.success=false;a.error=pui.getLanguageText("jumpstartMsg","missing endfor");return true}}return true};
appgen.xd=function(a,b){for(var c=null,d=0;d<b.length;d++)if(typeof b[d]=="string"){var e=U(b[d]);if(e=="#else"){c=d;break}}if(c==null)return true;var f=null,g=null,k=0;for(d=c-1;d>=0;d-=1)if(typeof b[d]=="string"){e=U(b[d]);var h=e.split(" ");if(h[0]=="#if")if(k==0){f=d;h.splice(0,1);g=h.join(" ");break}else k-=1;e=="#endif"&&k++}if(f==null){a.success=false;a.error=pui.getLanguageText("jumpstartMsg","else missing if");return true}b.splice(c,1,"          #endif","          #if !("+g+")");return false};
appgen.zd=function(a,b){for(var c=null,d=0;d<b.length;d++)if(typeof b[d]=="string"){var e=U(b[d]);if(e=="#endif"){c=d;break}}if(c==null)return true;var f=null,g=null;for(d=c-1;d>=0;d-=1)if(typeof b[d]=="string"){e=U(b[d]);e=e.split(" ");if(e[0]=="#if"){f=d;e.splice(0,1);g=e.join(" ");break}}if(f==null){a.success=false;a.error=pui.getLanguageText("jumpstartMsg","endif missing if");return true}d=false;try{d=eval(g)}catch(k){a.success=false;a.error=pui.getLanguageText("jumpstartMsg","invalid if expr",
[g])}if(d!=true)b.splice(f,c-f+1);else{b.splice(c,1);b.splice(f,1)}return false};appgen.Lc=function(a,b,c){if(b==null)b=0;if(c==null)c=a.length-1;var d=[];for(b=b;b<=c;b++){var e;if(typeof a[b]=="object"&&a[b]!=null){e={};for(var f in a[b])if(a[b][f]!=null)if(typeof a[b][f]=="object"){e[f]={};for(var g in a[b][f])e[f][g]=a[b][f][g]}else e[f]=a[b][f]}else e=a[b];d.push(e)}return d};
appgen.nb=function(a,b){var c=Q("language").value,d=c==appgen.Ba||c==appgen.ja;if(d)e=appgen.code.z.member;else{var e=c==appgen.Ra?Q("phpScript").value:Q("pjsSource").value;if(b!=null)e=b;var f=appgen.W(e)}c={};for(var g=0;g<a.length;g++){var k=a[g];if(U(k).toLowerCase().substr(0,9)=="#newfile ")e=d?U(U(k).substr(9)):f+"/"+U(U(k).substr(9));else{if(c[e]==null)c[e]=[];c[e].push(k)}}d=[];for(var h in c){for(f=c[h];f.length>=1&&U(f[0])=="";)f.splice(0,1);f.length==0&&d.push(h)}for(g=0;g<d.length;g++){h=
d[g];delete c[h]}return c};
appgen.xf=function(a){function b(n,l){for(var q=l.indexOf(n+" ");q>=0;){l=l.replace(n+" ",n);q=l.indexOf(n+" ")}return l}function c(n,l,q){for(var s=1,r=false,w=false,A=false,t=-1,v=q+n.length+1;v<l.length;v++)if(!r&&!w&&!A)if(l[v]==")"){s--;if(s==0){t=v;break}}else if(l[v]=="(")s++;else if(l[v]=='"')w=true;else if(l[v]=="'")r=true;else{if(l[v]=="/")A=true}else if(r)if(l[v]=="\\")v++;else{if(l[v]=="'")r=false}else if(w)if(l[v]=="\\")v++;else{if(l[v]=='"')w=false}else if(A)if(l[v]=="\\")v++;else if(l[v]==
"/")A=false;if(t<n.length+1)throw pui.getLanguageText("jumpstartMsg","macro no end paren",[n]);else try{var C=eval(l.substring(q+n.length+1,t));l=n=="#eval"?l.substring(0,q)+C+l.substring(t+1):C}catch(D){n=pui.getLanguageText("jumpstartMsg","macro exception",[n]);n+=typeof D=="object"&&D!=null&&D.message!=null?D.message:D;throw n;}return l}for(var d=0;d<a.length;){var e=a[d];if(typeof e!="string")d++;else{var f=false,g="#evalQ";e=b(g,e);var k=e.indexOf(g+"(");if(k>=0)try{c(g,e,k);f=true}catch(h){throw pui.getLanguageText("jumpstartMsg",
"tplt exception info",[h,a[d]]);}else{g="#tpltError";e=b(g,e);k=e.indexOf(g+"(");if(k>=0){try{e=c(g,e,k)}catch(j){throw pui.getLanguageText("jumpstartMsg","tplt exception info",[j,a[d]]);}throw e;}else{g="#tpltNotice";e=b(g,e);k=e.indexOf(g+"(");if(k>=0)try{e=c(g,e,k);f=true;appgen.Fc(e)}catch(m){throw pui.getLanguageText("jumpstartMsg","tplt exception info",[m,a[d]]);}else{g="#eval";e=b(g,e);for(k=e.indexOf(g+"(");k>=0;)try{e=c(g,e,k);a[d]=e;k=e.indexOf(g+"(")}catch(p){throw pui.getLanguageText("jumpstartMsg",
"tplt exception info",[p,a[d]]);}}}}if(f)a.splice(d,1);else d++}}};appgen.Fc=function(a){pui.Ca(appgen.ob,a)==-1&&appgen.ob.push(a)};appgen.wf=function(a){for(var b=0,c,d,e;b<a.length;){c=a[b];if(typeof c!="string")b++;else{for(d=a[b];d.charAt(0)==" ";)d=d.replace(d.charAt(0),"");d=d;e=false;if(d.substr(0,8)=="#append "){d=c.indexOf("#append ");c=c.substr(d+8);a[b]=c.substr(0,d)+c;e=true}if(e&&b>0&&typeof a[b-1]=="string"){d=a[b-1];d=d.replace(/[\n\r]+$/g,"");a[b-1]=d+c;a.splice(b,1)}else b++}}};appgen.ze=function(a){var b=a.Nb,c=b.formats;if(c[0].items==null&&c[0].content!=null){appgen.X=pui.getLanguageText("jumpstartText","universal");appgen.Xa=pui.getLanguageText("jumpstartText","universal");appgen.ma=appgen.Yd;return appgen.Ae(a)}else{appgen.X=pui.getLanguageText("jumpstartText","rich");appgen.Xa=pui.getLanguageText("jumpstartText","visual");appgen.ma=appgen.vb}var d=b.keywords,e=a.$d,f={},g=b["canvas width"]!=null;appgen.q(d,a.j);appgen.Kc(d,a.j);switch(a.yb){case "data entry":f.Add=
true;break;case "lookup":f.Prompt=true;f.View=true;break;case "webservice":a.success=false;a.error=pui.getLanguageText("jumpstartMsg","ws apptype needs ws tplt");return;case "subfile":default:f.Ctl=true;if(a.Jb)f.Edit=true;else{if(e.view)f.View=true;if(e.edit)f.Edit=true;if(e.add)f.Add=true}if(e.Lb)f.Delete=true}f.Message=true;for(d=c.length-1;d>=0;d-=1){var k=c[d].screen["record format name"];f[k]!=true&&c.splice(d,1)}for(d=c.length-1;d>=0;d-=1){f=c[d];var h=f.screen;k=h["record format name"];appgen.q(h,
a.j);var j=f.items,m=null,p=null;f=null;for(var n=[],l=[],q=h=null,s=null,r=null,w=[],A=j.length-1;A>=0;A-=1){var t=j[A];if(appgen.q(t,a.j)===false)j.splice(A,1);else{t.id=="btnAdd"&&k=="Ctl"&&e.add!=true&&j.splice(A,1);var v=t.value;if(typeof v=="string"&&v.indexOf("#description")>=0){m=appgen.Z(t);j.splice(A,1)}if(typeof v=="object"&&v.fieldName=="#field"){p=appgen.Z(t);j.splice(A,1)}v=t["field type"];if(t.grid==null)switch(v){case "grid":f=t;break;case "button":case "css button":case "graphic button":case "hyperlink":case "styled button":l.push(t);
break;case "panel":case "css panel":if(g){r=t;j.splice(A,1)}else n.push(t);break;case "tab panel":n.push(t);break;case "layout":v=t.template;if(v=="css panel"||v=="simple container")n.push(t);break;default:break}else switch(t.id.toLowerCase()){case "viewicon":case "viewbutton":case "viewlink":h=t;w.push(t);break;case "editicon":case "editbutton":case "editlink":q=t;w.push(t);break;case "deleteicon":case "deletebutton":case "deletelink":s=t;w.push(t);break;default:break}}}a.items=j;a.ta=g;if(f!=null&&
p!=null){a.c=f;a.L=p;a.Db=l;a.Ha=n;a.l=appgen.$a(a);a.j["#pageSize"]=String(Number(f["number of rows"])-1);if(a.l.length==0){a.success=false;a.error=pui.getLanguageText("jumpstartMsg","did not sel grid flds");return}if(appgen.bc(a).length==0){a.success=false;a.error=pui.getLanguageText("jumpstartMsg","did not sel srch flds");return}if(h!=null&&q!=null&&s!=null){j=Math.abs(parseInt(h.left)-parseInt(q.left));m=Math.abs(parseInt(h.left)-parseInt(s.left));if(m<j)j=m;a.nd=j;e.view!=true&&appgen.lc(h,a);
e.edit!=true&&appgen.lc(q,a);e.Lb!=true&&appgen.lc(s,a)}appgen.Df(a);if(a.Jd=="paging"){f["default sort order"]={fieldName:"iconAscend",customTrue:"Ascending",customFalse:"Descending",dataType:"indicator",formatting:"Indicator",indFormat:"Custom Values"};f["initial sort field"]={fieldName:"iconField",dataLength:"25",trimLeading:"false",trimTrailing:"true",blankFill:"false",rjZeroFill:"false",dataType:"char",formatting:"Text",textTransform:"none"};f["field name sort response"]={fieldName:"sortField",
dataLength:"25",trimLeading:"false",trimTrailing:"true",blankFill:"false",rjZeroFill:"false",dataType:"char",formatting:"Text",textTransform:"none"};f["page down response"]={fieldName:"PageDown",dataType:"indicator",formatting:"Indicator",indFormat:"1 / 0"};f["page up response"]={fieldName:"PageUp",dataType:"indicator",formatting:"Indicator",indFormat:"1 / 0"};f["page up condition"]={fieldName:"EnableUp",dataType:"indicator",formatting:"Indicator",indFormat:"true / false"};f["page down condition"]=
{fieldName:"EnableDown",dataType:"indicator",formatting:"Indicator",indFormat:"true / false"};f["initial page number"]={fieldName:"PageNo",dataLength:"5",decPos:"0",numSep:"false",zeroBalance:"false",numBlankFill:"false",zeroFill:"false",curSym:"",dataType:"zoned",formatting:"Number",negNum:"-999.00",units:""};f.scrollbar="none";f["show paging controls"]="true";f["show page number"]="true";f["csv export"]!=null&&delete f["csv export"];f["export with headings"]!=null&&delete f["export with headings"];
f["export option"]!=null&&delete f["export option"];f["export file name"]!=null&&delete f["export file name"]}}else if(m!=null&&p!=null){a.l=[];if(k=="Prompt")a.l=appgen.qa(a);if(k=="View")a.l=appgen.cc(a);if(k=="Edit")a.l=appgen.$b(a);if(k=="Add")a.l=appgen.Xb(a);a.re=m;a.L=p;a.Db=l;a.Ha=n;if(a.l.length==0){a.success=false;a.error=pui.getLanguageText("jumpstartMsg","did not sel x flds",[k]);if(k=="Prompt")a.error=pui.getLanguageText("jumpstartMsg","no lookup key flds");return}a.formatName=k;a.ud=
r;appgen.Cf(a)}if(a.Ia){if(k=="Edit"||k=="Delete")appgen.be(a);a.yb=="subfile"&&w.length>0&&appgen.ae(a,w)}}a.yb=="lookup"&&appgen.Ad(b,"View",pui.getLanguageText("jumpstartText","detail fmtname"),pui.getLanguageText("jumpstartText","record details"));a.Jb&&appgen.Ad(b,"Edit",pui.getLanguageText("jumpstartText","detail fmtname"),pui.getLanguageText("jumpstartText","record details"));return b};
appgen.Ad=function(a,b,c,d){a=a.formats;for(var e=0;e<a.length;e++){var f=a[e].screen;if(f["record format name"]==b){f["record format name"]=c;f.description=d;break}}};
appgen.Df=function(a){appgen.fb=1;var b=0,c=a.c["column headings"].split(",");c=c[c.length-1];for(var d=parseInt(a.c.width),e=parseInt(a.c.width),f=parseInt(a.L.column),g=appgen.He(a),k=0;k<a.l.length;k++){var h=a.l[k],j=appgen.Za(h);j["#index"]=k+1;j["#first"]=String(k==0);j["#last"]=String(k==a.l.length-1);var m=h.length*10;if(k==a.l.length-1&&a.Jd=="loadall")m+=23;if(m>400)m=400;if(m<50)m=50;if(!a.ta)if(k==0){var p=a.c["column widths"].split(",");a.c.width=parseInt(a.c.width)-parseInt(p[p.length-
1])+m+"px";p.pop();p.push(String(m));a.c["column widths"]=p.join(",");a.c["number of columns"]=String(f+k+1);m=a.c["column headings"].split(",");m.pop();m.push(appgen.q(c,j));a.c["column headings"]=m.join(",")}else{a.c.width=parseInt(a.c.width)+m+"px";a.c["column widths"]+=","+String(m);a.c["number of columns"]=String(f+k+1);a.c["column headings"]+=","+appgen.q(c,j)}m=appgen.Z(a.L);appgen.q(m,j);if(a.Bd||a.jc)appgen.Tb(h,m.value,a.items,a.l);a.Ia&&appgen.kb(m,h);a.ta||(m.column=String(f+k));if(a.ta){appgen.ea(m,
"top",b);if(k>0)a.c["row height"]=String(Number(a.c["row height"])+20);j=parseInt(parseInt(a.c.height)/Number(a.c["row height"]));if(j<1)j=1;a.c["number of rows"]=String(j)}a.items.push(m);if(k==0&&g.length>0)for(j=0;j<g.length;j++){var n=g[j];p=appgen.Z(a.L);var l=appgen.Za(n);appgen.q(p,l);if(a.Ia){appgen.kb(p,n);p.value.fieldName="Key"+p.value.fieldName;p.value.designValue="["+p.value.fieldName+"]";p["field type"]="textbox";p.visibility="hidden";p.width="20px";p.left="-50px";p.id="Key"+p.id+"_Hidden";
p["css class"]!=null&&delete p["css class"];a.items.push(p)}else{n="user defined data";if(j>0)n+=" "+(j+1);m[n]={};for(var q in p.value)m[n][q]=p.value[q]}}b+=20;if(h.key||!h.mainfile)switch(m["field type"]){case "textbox":m["field type"]="output field";m.width!=null&&delete m.width;if(m["css class"]=="input")m["css class"]="outputField";break}}b=parseInt(a.c.width)-d;for(k=0;k<a.Ha.length;k++){c=a.Ha[k];parseInt(c.top)<parseInt(a.c.top)&&parseInt(c.top)+parseInt(c.height)>parseInt(a.c.top)+e&&parseInt(c.left)<
parseInt(a.c.left)&&parseInt(c.left)+parseInt(c.width)>parseInt(a.c.left)+d&&appgen.ea(c,"width",b)}};
appgen.Cf=function(a){appgen.fb=1;var b=0,c=25;if(a.ta)c=35;for(var d=0;d<a.l.length;d++){var e=a.l[d],f=appgen.Za(e);f["#index"]=d+1;f["#first"]=String(d==0);f["#last"]=String(d==a.l.length-1);var g=appgen.Z(a.L),k=appgen.Z(a.re);appgen.q(g,f);if(a.Bd||a.jc)appgen.Tb(e,g.value,a.items,a.l);a.Ia&&appgen.kb(g,e);appgen.q(k,f);appgen.ea(g,"top",b);appgen.ea(k,"top",b);var h=g["field type"];if(a.ta&&a.ud!=null){var j=appgen.Z(a.ud);appgen.ea(j,"top",b);var m="all";if(d==a.l.length-1){m="top";if(d==0)m=
null}else if(d==0)m="bottom";if(m!=null)j["straight edge"]=m;appgen.q(j,f);a.items.push(j)}if(!a.ta)if(h=="textbox"||h=="date field"||h=="password field"){f=e.length*10;if(f>400)f=400;if(f<50)f=50;g.width=f+"px"}if(e.readOnly==true&&a.formatName=="Edit")if(h=="textbox"||h=="date field"||h=="password field"||h=="combo box"||h=="select box"){g["field type"]="output field";g.width!=null&&delete g.width;if(g["css class"]=="input")g["css class"]="outputField"}else{g["read only"]="true";g.disabled="true"}if(a.Jb)if(h==
"textbox"||h=="date field"||h=="password field"){g["read only"]={fieldName:"ViewMode",customTrue:"",customFalse:"",dataType:"indicator",formatting:"Indicator",indFormat:"true / false"};e="css class";for(h=1;g[e]!=null;){h++;e="css class "+h}g[e]={fieldName:"ViewMode",customTrue:"PR",customFalse:"",dataType:"indicator",formatting:"Indicator",indFormat:"Custom Values"}}else g.disabled={fieldName:"ViewMode",customTrue:"",customFalse:"",dataType:"indicator",formatting:"Indicator",indFormat:"true / false"};
a.items.push(k);a.items.push(g);b+=c}b-=c;for(d=0;d<a.Db.length;d++){c=a.Db[d];parseInt(c.top)>parseInt(a.L.top)&&appgen.ea(c,"top",b)}for(d=0;d<a.Ha.length;d++){c=a.Ha[d];parseInt(c.top)<parseInt(a.L.top)&&parseInt(c.top)+parseInt(c.height)>parseInt(a.L.top)&&appgen.ea(c,"height",b)}};appgen.ea=function(a,b,c){a[b]=parseInt(a[b])+c+"px"};
appgen.Z=function(a){var b={};for(var c in a){var d=a[c];if(typeof d=="object"){b[c]={};for(var e in d){var f=d[e];if(typeof f=="object")f=JSON.parse(JSON.stringify(f));b[c][e]=f}}else b[c]=d}return b};
appgen.lc=function(a,b){for(var c=b.c,d=a.column,e=0,f=false,g=b.items.length-1;g>=0;g-=1){var k=b.items[g];if(k==a){b.items.splice(g,1);f=true}else if(k.column==d){e++;if(parseInt(k.left)>parseInt(a.left))k.left=parseInt(k.left)-b.nd+"px"}}if(f){d=c["column widths"].split(",");f=parseInt(d[0]);g=f-b.nd;if(g<50)g=50;d[0]=String(g);c["column widths"]=d.join(",");c.width=parseInt(c.width)+g-f+"px"}if(e==0){c["number of columns"]=String(parseInt(c["number of columns"])-1);d=c["column widths"].split(",");
d.splice(0,1);c["column widths"]=d.join(",");e=c["column headings"].split(",");e.splice(0,1);c["column headings"]=e.join(",");b.L.column=String(parseInt(b.L.column)-1)}};
appgen.kb=function(a,b){var c=a.value;if(typeof c=="object")if(c.dataType=="reference"){var d={fieldName:c.fieldName,dataLength:b.length,trimLeading:"false",trimTrailing:"true",blankFill:"false",rjZeroFill:"false",dataType:"char",formatting:"Text",textTransform:"none",designValue:c.designValue};if(b.decPos!=null)d={fieldName:c.fieldName,dataLength:b.length,decPos:b.decPos,numSep:"false",zeroBalance:"false",numBlankFill:"false",zeroFill:"false",curSym:"",dataType:"zoned",formatting:"Number",negNum:"-999.00",
units:"",designValue:c.designValue};if(typeof d.dataLength=="number")d.dataLength=String(d.dataLength);if(typeof d.decPos=="number")d.decPos=String(d.decPos);a.value=d}};appgen.be=function(a){for(var b=appgen.qa(a),c=0;c<b.length;c++){var d=b[c],e={id:"Key"+d.name+"_Hidden","field type":"textbox",value:{fieldName:"Key"+d.name,dataType:"reference",designValue:"[Key"+d.name+"]"},left:"-50px",top:"-50px",width:"20px",visibility:"hidden"};appgen.kb(e,d);a.items.push(e)}};
appgen.ae=function(a,b){for(var c=appgen.qa(a),d={},e=0;e<c.length;e++){var f=c[e],g="Key"+f.name;d[g]={fieldName:g,designValue:"["+g+"]"};if(f.type=="P"||f.type=="S"||f.type=="F"){d[g].dataLength=f.length;d[g].decPos=f.decPos;d[g].numSep="false";d[g].numBlankFill="false";d[g].zeroFill="false";d[g].curSym="";d[g].dataType=f.type!="F"?"zoned":"floating";d[g].formatting="Number";d[g].negNum="-999.00";d[g].units=""}else if(f.type=="L"){d[g].dataType="date";d[g].formatting="Date";d[g].dateFormat="Y-m-d";
d[g].locale="en_US"}else if(f.type=="T"){d[g].dataType="time";d[g].formatting="Time";d[g].timeFormat="H.i.s";d[g].locale="en_US"}else if(f.type=="Z"){d[g].dataType="timestamp";d[g].formatting="Time Stamp";d[g].timeStampFormat="Y-m-d-H.i.s.uu";d[g].locale="en_US"}else{d[g].dataLength=f.length;d[g].trimLeading="false";d[g].trimTrailing="true";d[g].blankFill="false";d[g].rjZeroFill="false";d[g].dataType="char";d[g].formatting="Text";d[g].textTransform="none"}}for(e=0;e<b.length;e++){f=b[e];if(f["destination url"]&&
f["destination url"]!=""){for(var k=1,h="";f["destination parameter name"+h]&&f["destination parameter name"+h]!="";)h=" "+ ++k;h=c.length+(k-1);f["destination parameters"]=h+" parameter";if(h>1)f["destination parameters"]+="s";for(g in d){h="destination parameter name";var j="destination parameter value";if(k>1){h+=" "+k;j+=""+k}f[h]=g;f[j]=d[g];k++}}}};appgen.Ac=function(a,b){if(b.keywords==null)b.keywords=[];b.keywords.push(a)};
appgen.Tb=function(a,b,c,d){a.mainfile||(b.refField=a.k+" "+a.fullFile);if(a.k!=a.eb)if(a.mainfile)if(a.name==a.eb){b.longName=a.name;b.fieldName=a.k}else{if(a.name!=a.k){b.fieldName=appgen.md(c,d);b.refField=a.k;if(a.name.length>10)b.longName=a.name;else appgen.Ac("ALIAS("+a.name+")",b)}}else if(a.name==a.eb){b.longName=a.name;b.fieldName=a.k}else{if(a.name!=a.k){b.fieldName=appgen.md(c,d);appgen.Ac("ALIAS("+a.name+")",b)}}else if(a.name!=a.k)if(a.mainfile)if(a.name.length>10){b.fieldName=a.k;b.longName=
a.name}else b.refField=a.k;else if(a.name.length>10){b.fieldName=a.k;b.longName=a.name}};appgen.md=function(a,b){for(var c={},d=0;d<a.length;d++)if(a[d].value!=null&&a[d].value.fieldName!=null)c[a[d].value.fieldName]=true;else if(a[d]["bound field"]!=null&&a[d]["bound field"].fieldName!=null)c[a[d]["bound field"].fieldName]=true;for(d=0;d<b.length;d++){c[b[d].name]=true;c[b[d].k]=true}for(d="FIELD00001";c[d]!=null;){appgen.fb++;d="FIELD"+"0".repeat(4-Math.floor(Math.log(appgen.fb)*Math.LOG10E))+String(appgen.fb)}return d};
appgen.Kc=function(a,b){var c=0;if(a!=null)for(;c<a.length;){var d=a[c].match(/PUISRCTEXT\((.*)\)/i);if(d!=null&&d.length==2){b.title=d[1];a.splice(c,1)}else c++}};appgen.Ae=function(a){var b=a.Nb,c=b.formats,d=b.keywords;appgen.Fc(pui.getLanguageText("jumpstartMsg","udf tplt puimapp"));appgen.q(d,a.j);appgen.Kc(d,a.j);d=a.K;for(var e=c.length-1;e>=0;e-=1){var f=c[e];appgen.q(f.screen,a.j);a.K=f.content;var g=appgen.Vb(a);appgen.xe(g,a.D);f.content=g}a.K=d;return b};
appgen.xe=function(a,b){function c(h,j){for(var m=0;m<j.length;m++)if(j[m].name==h)return j[m]}for(var d=[],e=0,f=0,g=0;g<a.length;g++)if(typeof a[g]=="string"){var k=a[g].length;if(a[g].substring(k-1)=="\n"){f++;e=0}else e+=k}else if(typeof a[g]=="object"&&a[g]!=null){a[g].row=f;a[g]["from column"]=e;e+=a[g]["bound field"].fieldName.length+2;a[g]["to column"]=e;d.push(a[g])}for(g=0;g<d.length;g++){e=c(d[g]["bound field"].fieldName,b);e!=null&&appgen.Tb(e,d[g]["bound field"],d,b)}};if(pui.jumpstartMsg==null)pui.jumpstartMsg={};if(pui.jumpstartText==null)pui.jumpstartText={};pui.getLanguageText=function(a,b,c){var d=pui.language||"en_US",e=pui[a][d][b];if(typeof e=="undefined")if(d!="en_US")e=pui[a].en_US[b];else console.log("Missing dict,msgid:",a,b);if(c!=null)for(a=1;a<=c.length;a++)e=e.replace("&"+a,c[a-1]);return e};pui.Mc=function(a,b,c){if(pui[a][c]==null)pui[a][c]={};for(var d in pui[a][b])pui[a][c][d]=pui[a][b][d]};
pui.B=function(a,b){pui.Mc("jumpstartMsg",a,b);pui.Mc("jumpstartText",a,b)};pui.jumpstartMsg.en_US={};pui.jumpstartMsg.en_US["app generated"]="Application Generated.";pui.jumpstartMsg.en_US["creating x dspf"]="Creating &1 Display File. Please wait...";pui.jumpstartMsg.en_US["dspf name reqd"]="Display File Name is required.";pui.jumpstartMsg.en_US["retrieving x dspf"]="Retrieving &1 Display File template. Please wait...";pui.jumpstartMsg.en_US["unable retrieve x dspf"]="Unable to retrieve &1 Display File template.";
pui.jumpstartMsg.en_US["creating rpg pgm"]="Creating RPG Program. Please wait...";pui.jumpstartMsg.en_US["creating pjs pgm"]="Creating ProfoundJS Program. Please wait...";pui.jumpstartMsg.en_US["creating php script"]="Creating PHP Script. Please wait...";pui.jumpstartMsg.en_US["halted rpg exists"]="Generation halted: RPG source member already exists.";pui.jumpstartMsg.en_US["proxy pgm exists"]="Proxy program object already exists.";pui.jumpstartMsg.en_US["http error for proxy"]="HTTP communications error occurred while trying to create the proxy program.";
pui.jumpstartMsg.en_US["tplt exception info"]="&1\nSource line (after pre-processing):\n&2";pui.jumpstartMsg.en_US["macro exception"]="Caught exception in &1 macro:\n";pui.jumpstartMsg.en_US["macro no end paren"]="Failed to find end parenthesis for &1 macro.";pui.jumpstartMsg.en_US["udf tplt puimapp"]="Hint: To configure Universal Display File programs to use the Web Connector, modify the PUIMAPP file in the Profound UI installation library.";pui.jumpstartMsg.en_US["loading libl"]="Loading Library List...";
pui.jumpstartMsg.en_US["saving libl"]="Saving Library List...";pui.jumpstartMsg.en_US["server invalid resp"]="Server response is invalid.";pui.jumpstartMsg.en_US["dbf required"]="Database file name is required.";pui.jumpstartMsg.en_US["retr fields"]="Retrieving fields. Please wait...";pui.jumpstartMsg.en_US["unable retr fld"]="Unable to retrieve field listing:\n";pui.jumpstartMsg.en_US["sql idx cannot use"]="&1 is an SQL Index and cannot be used.";pui.jumpstartMsg.en_US["fld no edit"]='This field cannot be edited. Check "Override Non-Editable" to use it anyway.';
pui.jumpstartMsg.en_US["provide valid names"]="Please provide unique, valid names for each.";pui.jumpstartMsg.en_US["invalid chars"]="One or more field names contain invalid characters. &1";pui.jumpstartMsg.en_US["fields same name"]="One or more fields have the same name. &1";pui.jumpstartMsg.en_US["correls same name"]="One or more table correlations have the same name. &1";pui.jumpstartMsg.en_US["long alias conflict"]="A field's name cannot be the short DB field name when a long alias exists.";
pui.jumpstartMsg.en_US["library required"]="Library is required.";pui.jumpstartMsg.en_US["pgm srcfile required"]="Program Source File is required.";pui.jumpstartMsg.en_US["rpg pgm name required"]="RPG Program Name is required.";pui.jumpstartMsg.en_US["dsp srcfile required"]="Display Source File is required.";pui.jumpstartMsg.en_US["php fname required"]="A PHP script filename is required.";pui.jumpstartMsg.en_US["pjs proxy required"]="A name for the ProfoundJS proxy object is required.";
pui.jumpstartMsg.en_US["pjs pgm name required"]="A ProfundJS program filename is required.";pui.jumpstartMsg.en_US["retr code template"]="Retrieving code template. Please wait...";pui.jumpstartMsg.en_US["retr template fail"]="Unable to retrieve code template.";pui.jumpstartMsg.en_US["generating app"]="Generating application. Please wait...";pui.jumpstartMsg.en_US["http error crtrpgpgm"]="HTTP communications error occurred while trying to create the RPG program.";
pui.jumpstartMsg.en_US["select unique key"]="You must select a unique key.";pui.jumpstartMsg.en_US["fail json unsupported"]="Application not generated.  Native JSON parsing is not supported by your browser.";pui.jumpstartMsg.en_US["if not valid on widget"]='#if expression not valid on Rich Display File widget "&1".';pui.jumpstartMsg.en_US["file already specified"]="File already specified.";pui.jumpstartMsg.en_US["join x y to main file"]="Connect #&1 or #&2 to the main #file before joining them together.";
pui.jumpstartMsg.en_US["one path main to child"]="Only one path from the main #file may exist to each child file.";pui.jumpstartMsg.en_US["missing endfor"]="#for loop missing matching #endfor in code template.";pui.jumpstartMsg.en_US["else missing if"]="#else missing matching #if statement in code template.";pui.jumpstartMsg.en_US["endif missing if"]="#endif missing matching #if statement in code template.";pui.jumpstartMsg.en_US["invalid if expr"]="Invalid expression in code template:\n#if &1";
pui.jumpstartMsg.en_US["did not sel grid flds"]="You did not select any grid fields.";pui.jumpstartMsg.en_US["did not sel srch flds"]="You did not select any search fields.";pui.jumpstartMsg.en_US["did not sel x flds"]="You did not select any fields for the &1 screen.";pui.jumpstartMsg.en_US["no lookup key flds"]="A lookup application cannot be created because this file does not have any key fields.";pui.jumpstartMsg.en_US["join unsupported IE8"]="Join Selection is unsupported for Internet Explorer 8.";
pui.jumpstartMsg.en_US["qualify warning"]="Qualifying file names here will qualify file names in the generated source code.";pui.jumpstartMsg.en_US["provide app title"]="Please provide an application title.";pui.jumpstartMsg.en_US["join instructions"]="Drag a field from one table to another to create an inner join. Click the square to change the join type. Fields from extra files cannot appear in a generated grid, detail, or edit page without a join.";pui.jumpstartMsg.en_US["unique col help"]="At least one key is required when View, Edit, Add, or Delete are checked. Templates using input-capable subfiles also need keys.";
pui.jumpstartMsg.en_US["rpg oa not avail"]="RPG OA is not available on &1. JumpStart's RPGLE templates will not work on this system.";pui.jumpstartMsg.en_US["rpg free not avail"]="RPGLE Free (All Specs) is not available on your IBM i system. ";pui.jumpstartMsg.en_US["please wait"]="Please wait...";pui.jumpstartMsg.en_US["ws apptype needs ws tplt"]="When generating a Webservice Application Type, please choose a Universal Display File (webservice) template.";pui.jumpstartText.en_US={};
pui.jumpstartText.en_US["no screen template"]="(No Screen Template)";pui.jumpstartText.en_US["hdg apptype file sel"]="Application Type and File Selection";pui.jumpstartText.en_US["open x dspf in y"]="Open &1 Display in &2 Designer";pui.jumpstartText.en_US["library list"]="Library List";pui.jumpstartText.en_US["read only"]="Read Only";pui.jumpstartText.en_US.ro="RO";pui.jumpstartText.en_US["extra db files"]="Extra Database Files";pui.jumpstartText.en_US.correlation="Correlation: ";
pui.jumpstartText.en_US.none="(none)";pui.jumpstartText.en_US.modify="Modify";pui.jumpstartText.en_US.remove="Remove";pui.jumpstartText.en_US.cancel="Cancel";pui.jumpstartText.en_US["join props x to y"]="Join Properties - &1.&2 to &3.&4";pui.jumpstartText.en_US["inner join label"]="Only include rows where joined fields from both tables are equal.";pui.jumpstartText.en_US["join label x y"]="Include all rows from '&1' and only matching rows from '&2'";pui.jumpstartText.en_US.universal="Universal";
pui.jumpstartText.en_US.rich="Rich";pui.jumpstartText.en_US.visual="Visual";pui.jumpstartText.en_US["record details"]="Record Details";pui.jumpstartText.en_US.detail="Detail";pui.jumpstartText.en_US["detail fmtname"]="Detail";pui.jumpstartText.en_US["app type"]="Application Type:";pui.jumpstartText.en_US["apptype subfile"]="Subfile";pui.jumpstartText.en_US["apptype data entry"]="Data Entry";pui.jumpstartText.en_US["apptype lookup"]="Lookup";pui.jumpstartText.en_US["apptype webservice"]="Webservice";
pui.jumpstartText.en_US["subf type"]="Subfile Type:";pui.jumpstartText.en_US["subf type loadall"]="Load All";pui.jumpstartText.en_US["subf type paging"]="Page at a Time";pui.jumpstartText.en_US.actions="Actions:";pui.jumpstartText.en_US.view="View";pui.jumpstartText.en_US.edit="Edit";pui.jumpstartText.en_US.add="Add";pui.jumpstartText.en_US["delete"]="Delete";pui.jumpstartText.en_US["view edit add"]="View/Edit/Add:";pui.jumpstartText.en_US["one combined scrn"]="One Combined Screen";
pui.jumpstartText.en_US["separate scrn"]="Separate Screens";pui.jumpstartText.en_US.language="Language:";pui.jumpstartText.en_US["rpgle free all"]="RPGLE Free (All Specs)";pui.jumpstartText.en_US["rpg free fixed c"]="RPGLE Free (C Specs Only)";pui.jumpstartText.en_US.php="PHP";pui.jumpstartText.en_US["node.js"]="Node.js";pui.jumpstartText.en_US["url use of rpg free"]="http://www.profoundlogic.com/docs/display/PUI/Use+of+RPG+Free";pui.jumpstartText.en_US["more information"]="More information.";
pui.jumpstartText.en_US["display type"]="Display Type:";pui.jumpstartText.en_US["rich display file"]="Rich Display File";pui.jumpstartText.en_US.html="HTML";pui.jumpstartText.en_US.template="Template:";pui.jumpstartText.en_US["database file"]="Database File:";pui.jumpstartText.en_US["modify libl"]="Modify Library List";pui.jumpstartText.en_US["extra db files"]="Extra Database Files:";pui.jumpstartText.en_US["app title"]="Application Title:";pui.jumpstartText.en_US["retrieve fields"]="Retrieve Fields";
pui.jumpstartText.en_US["join selection"]="Join Selection";pui.jumpstartText.en_US["field selection"]="Field Selection";pui.jumpstartText.en_US["move field up"]="Move Field Up";pui.jumpstartText.en_US["move field down"]="Move Field Down";pui.jumpstartText.en_US.grid="Grid";pui.jumpstartText.en_US.search="Search";pui.jumpstartText.en_US["detail screen"]="Detail Screen";pui.jumpstartText.en_US["view screen"]="View Screen";pui.jumpstartText.en_US["edit screen"]="Edit Screen";
pui.jumpstartText.en_US["add screen"]="Add Screen";pui.jumpstartText.en_US["use field"]="Use Field";pui.jumpstartText.en_US["db field"]="DB Field";pui.jumpstartText.en_US["field explain"]="The field name used in the generated display file and code sources.";pui.jumpstartText.en_US.field="Field";pui.jumpstartText.en_US.description="Description";pui.jumpstartText.en_US["length type"]="Length/Type";pui.jumpstartText.en_US["null explain"]="Is the field null-capable by definition (DEF) or because of the join type (JOIN).";
pui.jumpstartText.en_US["null?"]="Null?";pui.jumpstartText.en_US["coalesce explain"]="Value to use for this field when the value returned from the database is null.";pui.jumpstartText.en_US["coalesce value"]="Coalesce Value";pui.jumpstartText.en_US["primary key"]="Primary Key";pui.jumpstartText.en_US["unique key"]="Unique Key";pui.jumpstartText.en_US["sql preview using std"]="SQL Preview &mdash; (using Standard template)";pui.jumpstartText.en_US["code generation"]="Code Generation";
pui.jumpstartText.en_US["overwrite existing"]="Overwrite existing source members or IFS files.";pui.jumpstartText.en_US.library="Library:";pui.jumpstartText.en_US["pgm src file"]="Program Source File:";pui.jumpstartText.en_US["rpg pgm name"]="RPG Program Name:";pui.jumpstartText.en_US["dsp src file"]="Display Source File:";pui.jumpstartText.en_US["dsp file name"]="Display File Name:";pui.jumpstartText.en_US["generate app"]="Generate Application";pui.jumpstartText.en_US["rich dspf view"]="Rich Display File (View):";
pui.jumpstartText.en_US["main php script"]="Main PHP Script File:";pui.jumpstartText.en_US["launch php script"]="Launch PHP Script";pui.jumpstartText.en_US["pjs library explain"]="Library to where the proxy program will be written.";pui.jumpstartText.en_US["proxy name explain"]="Name to use for the proxy program object.";pui.jumpstartText.en_US["proxy name"]="Proxy Name";pui.jumpstartText.en_US["html dsp view"]="HTML Display (View):";pui.jumpstartText.en_US["main nodejs file"]="Main Node.js File:";
pui.B("en_US","en_UK");pui.B("en_US","de_DE");pui.B("en_US","pt_PT");pui.B("pt_PT","pt_BR");pui.B("en_US","es_ES");pui.B("es_ES","es_MX");pui.B("en_US","fr_FR");pui.B("en_US","fr_CA");pui.B("en_US","it_IT");pui.B("en_US","he_IL");pui.B("en_US","nl_NL");pui.B("en_US","jp_JP");var $={};$.bi=600;$.Wh=701;$.ci=700;$.Sh=750;$.gi=775;$.ei=800;$.Yh=900;$.di=10100;$.ai=10100;$.Zh=10100;$.Qh=10110;$.Nd=10120;$.Vh=10120;$.$h=10120;$.Uh=10130;$.Th=10140;$.Rh=10150;$.Xh=10160;$.fi=10170;$.u=function(a,b,c){if(a!=null)window.addEventListener?a.addEventListener(b,c,false):a.attachEvent("on"+b,c)};$.Y=function(a,b,c){window.removeEventListener?a.removeEventListener(b,c,false):a.detachEvent("on"+b,c)};
$.I=function(a){if(!a)a=window.event;if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}if(a.preventDefault){a.cancelBubble=true;a.preventDefault()}};
$.ca=function(a){var b=0;if(window.event!=null){if(window.event.clientX!=null)b+=window.event.clientX;if(document.documentElement!=null&&document.documentElement.scrollLeft!=null)b+=document.documentElement.scrollLeft;if(document.body!=null&&document.body.scrollLeft!=null)b+=document.body.scrollLeft}else if(a!=null){if(a.clientX!=null)b+=a.clientX;if(a.scrollX!=null)b+=a.scrollX}return b};
$.O=function(a){var b=0;if(window.event!=null){if(window.event.clientY!=null)b+=window.event.clientY;if(document.documentElement!=null&&document.documentElement.scrollTop!=null)b+=document.documentElement.scrollTop;if(document.body!=null&&document.body.scrollTop!=null)b+=document.body.scrollTop}else if(a!=null){if(a.clientY!=null)b+=a.clientY;if(a.scrollY!=null)b+=a.scrollY}return b};
$.Ue=function(a){var b;if(!a)a=window.event;if(a.target)b=a.target;else if(a.srcElement)b=a.srcElement;if(b.nodeType==3)b=b.parentNode;return b};
$.Xg=function(a,b){if(b==null)b=true;var c="{"+(b?" ":""),d=0;for(var e in a){pValue=a[e];if(!(typeof pValue=="object"&&pValue.constructor!=Array)){d++;if(typeof pValue=="boolean")pValueStr=String(pValue);if(typeof pValue=="object"&&pValue.constructor==Array){pValueStr="[";for(var f=0;f<pValue.length;f++){var g=pValue[f];if(typeof g=="number")g=String(g);else{g=g.replace(/\\/g,"\\\\");g=g.replace(/"/g,'\\"');g='"'+g+'"'}if(f!=0)pValueStr+=",";pValueStr+=g}pValueStr+="]"}else{pValueStr=String(pValue);
pValueStr=pValueStr.replace(/\\/g,"\\\\");pValueStr=pValueStr.replace(/"/g,'\\"');pValueStr='"'+pValueStr+'"'}if(d>1)c+=","+(b?" ":"");c+='"'+e+'":'+(b?" ":"")+pValueStr}}c+=(b?" ":"")+"}";return c};
$.Ma=function(a,b){if(a==null||a==""||a=="[Unnamed Screen]"||a=="[Unnamed Format]")return"cannot be blank.";var c=a.substr(0,1),d=a.substr(a.length-1,1);if(c==='"'&&d==='"'&&b!="field"&&b!="format"){if(a.length<3)return"cannot be blank.";for(c=1;c<a.length-1;c++){d=a.substr(c,1);if(d==="*"||d==="?"||d==="'"||d==='"'||d==="/")return"contains invalid characters."}}else{c=c.toUpperCase();if((c<"A"||c>"Z")&&c!="#"&&c!="@"&&c!="$")return"must start with an alpha character.";for(c=1;c<a.length;c++){d=a.substr(c,
1);d=d.toUpperCase();if((d<"A"||d>"Z")&&(d<"0"||d>"9")&&d!="#"&&d!="@"&&d!="$"&&d!="_"&&(d!="."||b=="field"||b=="format"))return"contains invalid characters."}}if(a.length>10){c=true;if(pui.viewdesigner)if(b=="field"||b=="format")c=false;if(pui.designer.ye)if(b=="field"&&a.length<=30)c=false;if(c)return"is too long."}return""};
$.Tf=function(a,b){if(b==null)b="library";var c=false;if(b=="*LIBL"){b="library";c=true}var d=a.split("/");if(d.length>2)return"has too many parts.";if(d.length==1)return $.Ma(d[0],"object");if(d.length==2)return $.Ma(d[0],"library")!=""&&(d[0]!="*LIBL"||!c)?"contains an invalid qualified "+b+" name.":$.Ma(d[1],"object");return"is invalid."};$.alert=function(a){pui.alert(a)};$.uf=function(a){(new Image).src=a};$.lh=function(a,b,c){for(var d=0;d<b.length;d++){var e=a+b[d];if(c!=null)e+=c;$.uf(e)}};
$.eg=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b};$.Kg=function(){if(pui.viewdesigner)return false;if(pui.ah)return false;if(pui.me)return false;if(pui.sa==null)return false;for(var a=0;a<pui.sa.length;a++)if(pui.sa[a]=="ALLINONE")return true;return false};
$.gd=function(a){for(var b=[],c="",d=0;d<pui.sa.length;d++){var e=pui.sa[d],f=e.split("(");e=f[0];if(e=="REF"&&f.length>=2){a=f[1].split(")")[0];a=U(a.toUpperCase());d=a.split(" ");if(d.length>1){a=d[0];for(e=1;e<d.length;e++)if(d[e].length>0){c=d[e];break}}break}}b.push(a);c.length>0&&b.push(c);return b};
$.zh=function(){pui.yf=[];if(pui.sa!=null){var a="";a=$.gd("");var b=a[0],c=a.length==2?a[1]:"";if(b!=""){b=b.split("/");if(b.length==2){a=b[0];b=b[1]}else{b=b[0];a=""}if(b!=""){var d=new pui.Ajax(R("PUI0009101.PGM",null,true));d.async=true;d.method="post";d.postData="file="+encodeURIComponent(b);d.postData+="&library="+encodeURIComponent(a);d.postData+="&context=dspf";if(c.length>0)d.postData+="&rcdfmt="+c;d.suppressAlert=true;d.onready=function(){var e,f;if(d.Ea()!=200)f="HTTP "+d.Ea()+" - "+d.ld()+
".";else{try{e=eval("("+d.ra()+")")}catch(g){f="The server response is missing or invalid."}if(f==null&&e.success!=true)f=e.errorText}if(f!=null)console.log("Unable to retrieve field listing:\n"+f);else pui.yf=e.fields};pui.oh!=true&&d.send()}}}};
$.fg=function(a,b,c){var d=document.createElement("div");d.style.position="absolute";d.style.width="16px";d.style.height="18px";d.style.fontSize="0px";d.style.overflow="hidden";d.style.backgroundImage="url('"+pui.normalizeURL("/profoundui/proddata/images/icons/")+a+".gif')";d.style.backgroundRepeat="no-repeat";d.style.cursor="pointer";d.title=b;d.style.color="white";d.style.padding="0px";d.onmousedown=function(e){$.I(e)};c.appendChild(d);return d};
$.ih=function(a){var b="",c="",d="",e="",f="",g="";b=["M","A","X","W","N","D","I","Y","S","F","L","T","Z"];a=a.split(" ");pui.sa!=null&&$.gd("");for(var k=0;k<a.length;k++){var h=a[k],j=h.substr(0,1);if(h.indexOf("'")!=-1){if((j=h.split("'").join(""))&&pui.Ca(b,j)!=-1)if(e=="")e=h}else if(j>="0"&&j<="9"||j=="-"||j=="+")if(d==""&&e=="D")d=h;else if(c=="")c=h;else{if(d=="")d=h}else if(g=="")g=h;else if(f=="")f=h}b=g+" "+f;return{ref:b,Ug:c,jg:d,fh:e,file:f,field:g}};pui.designer.tc=function(){function a(){var r=false;if(f.selectedIndex<0)r=true;j.disabled=r;if(!r&&f.options.length<2)r=true;m.disabled=r;p.disabled=r}this.vd=this.gb=this.hb=this.ib=null;this.za=false;this.xb=this.wb=true;this.La=false;var b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("input");document.createElement("input");var f=document.createElement("select"),g=document.createElement("div"),k=document.createElement("div"),
h=document.createElement("input"),j=document.createElement("input"),m=document.createElement("input"),p=document.createElement("input"),n=document.createElement("input"),l=document.createElement("input"),q=this;b.style.width="305px";b.style.border="2px solid #336699";b.style.position="absolute";b.style.top="50px";b.style.left="50px";b.style.padding="0px";b.style.zIndex=$.Nd;b.style.visibility="hidden";b.style.display="none";b.style.height="222px";b.style.overflow="hidden";$.u(document,"mousedown",
function(r){for(r=$.Ue(r);r!=null;){if(r==b)return;r=r.parentNode}});c.innerHTML="Edit List";c.style.fontSize="12px";c.style.fontFamily="Arial";c.style.backgroundColor="#6699cc";c.style.padding="3px";c.style.cursor="move";c.style.fontWeight="bold";c.style.color="#ffffff";c.style.position="absolute";c.style.left="0px";c.style.top="0px";c.style.whiteSpace="normal";c.style.width="100%";if(typeof c.style.MozUserSelect!="undefined")c.style.MozUserSelect="none";d.style.overflow="auto";d.style.height="202px";
d.style.backgroundColor="#ffffff";d.style.padding="0px";d.style.position="absolute";d.style.left="0px";d.style.top="20px";d.style.whiteSpace="normal";d.style.width="100%";var s=null;s=pui.ee(b,c,d,function(){q.F()});g.style.position="absolute";g.style.left="10px";g.style.top="10px";g.style.fontFamily="Trebuchet MS";g.style.fontSize="13px";g.innerHTML="Specify items to add to the list:";e.style.position="absolute";e.style.left="10px";e.style.top="30px";e.style.width="200px";e.style.fontFamily="Arial";
e.style.fontSize="12px";e.onkeydown=function(r){if(!r)r=window.event;var w=r.keyCode;if(w==13){e.value==""&&!n.disabled?n.onclick():h.onclick();N(r)}w==27&&l.onclick();if(w==37||w==38||w==39||w==40||w==46)r.cancelBubble=true};h.style.position="absolute";h.style.left="215px";h.style.top="30px";h.style.width="75px";h.style.fontFamily="Arial";h.style.fontSize="11px";h.type="button";h.value="Add";h.onclick=function(){if(typeof q.gb=="function"){var r=q.gb(e.value);if(r===false){e.focus();return}else e.value=
r}if(!q.wb&&U(e.value)==""){pui.alert("Item cannot be blank.");e.value="";e.focus()}else{if(!q.xb){r=false;var w=e.value;if(q.La)w=w.toUpperCase();for(var A=0;A<f.options.length;A++){var t=f.options[A].value;if(q.La)t=t.toUpperCase();if(w==t){r=true;break}}if(r){pui.alert("This item already exists in the list.");e.focus();return}}if(q.La)e.value=e.value.toUpperCase();f.options[f.options.length]=new Option(e.value,e.value);f.selectedIndex=f.options.length-1;e.value="";e.focus();n.disabled=false;a()}};
k.style.position="absolute";k.style.left="10px";k.style.top="60px";k.style.fontFamily="Trebuchet MS";k.style.fontSize="13px";k.innerHTML="List:";f.style.position="absolute";f.style.left="10px";f.style.top="80px";f.style.width="200px";f.style.fontFamily="Arial";f.style.fontSize="12px";f.size=5;f.onclick=function(){if(f.selectedIndex>=0){e.value=f.options[f.selectedIndex].value;e.focus()}a()};f.onchange=function(){a()};f.ondblclick=function(){q.vd!=null&&f.selectedIndex>=0&&q.vd(f.options[f.selectedIndex].value)};
j.style.position="absolute";j.style.left="215px";j.style.top="80px";j.style.width="75px";j.style.fontFamily="Arial";j.style.fontSize="11px";j.type="button";j.value="Remove";j.onclick=function(){x=f.selectedIndex;f.remove(x);if(x>=f.options.length)x-=1;if(x>=0)f.selectedIndex=x;a();n.disabled=false;e.focus()};m.style.position="absolute";m.style.left="215px";m.style.top="105px";m.style.width="75px";m.style.fontFamily="Arial";m.style.fontSize="11px";m.type="button";m.value="Move Up";m.onclick=function(){var r=
f.selectedIndex;if(r!=0){var w=f.options[r-1].text,A=f.options[r-1].value;f.options[r-1].text=f.options[r].text;f.options[r-1].value=f.options[r].value;f.options[r].text=w;f.options[r].value=A;f.selectedIndex=r-1;n.disabled=false;e.focus()}};p.style.position="absolute";p.style.left="215px";p.style.top="130px";p.style.width="75px";p.style.fontFamily="Arial";p.style.fontSize="11px";p.type="button";p.value="Move Down";p.onclick=function(){var r=f.selectedIndex;if(!(r>=f.options.length-1)){var w=f.options[r+
1].text,A=f.options[r+1].value;f.options[r+1].text=f.options[r].text;f.options[r+1].value=f.options[r].value;f.options[r].text=w;f.options[r].value=A;f.selectedIndex=r+1;n.disabled=false;e.focus()}};n.style.position="absolute";n.style.left="135px";n.style.top="170px";n.style.width="75px";n.style.fontFamily="Arial";n.style.fontSize="11px";n.type="button";n.value="OK";n.onclick=function(){if(q.ib!=null){var r;r=q.za?[]:"";for(var w=0;w<f.options.length;w++)if(q.za)r.push(f.options[w].value);else{if(w>
0)r+=",";r+=f.options[w].value}q.ib(r)}q.F()};l.style.position="absolute";l.style.left="215px";l.style.top="170px";l.style.width="75px";l.style.fontFamily="Arial";l.style.fontSize="11px";l.type="button";l.value="Cancel";l.onclick=function(){q.F()};d.appendChild(e);d.appendChild(g);d.appendChild(h);d.appendChild(f);d.appendChild(k);d.appendChild(j);d.appendChild(m);d.appendChild(p);d.appendChild(n);d.appendChild(l);b.appendChild(c);b.appendChild(d);document.body.appendChild(b);$.u(c,"mousedown",function(r){function w(H){var O=
D+$.O(H)-v;if(O<0)O=0;H=C+$.ca(H)-t;b.style.top=O+"px";b.style.left=H+"px"}function A(){$.Y(document,"mousemove",w);$.Y(document,"mouseup",A);b.style.filter="";b.style.opacity="";e.focus()}var t=$.ca(r),v=$.O(r),C=parseInt(b.style.left),D=parseInt(b.style.top);b.style.filter="alpha(opacity=85)";b.style.opacity=0.85;$.u(document,"mousemove",w);$.u(document,"mouseup",A)});this.Dd=function(r){f.options.length=0;if(q.za||r!=null&&r!=""){r=q.za?r:r.split(",");for(var w=0;w<r.length;w++)f.options[f.options.length]=
new Option(r[w],r[w])}e.value="";a()};this.Fd=function(r){e.style.textTransform=r};this.Ed=function(r){e.maxLength=r};this.show=function(r,w,A){var t=document.body.offsetWidth,v=document.body.offsetHeight;if(t==null)t=1E4;if(v==null)v=1E4;t-=325;v-=240;if(t<0)t=0;if(v<0)v=0;if(w==null||A==null){var C=$.ca(r);r=$.O(r);r-=100;if(r>v)r=v;if(r<0)r=0;if(C>t)C=t;b.style.left=C+"px";b.style.top=r+"px"}if(w!=null)b.style.left=w+"px";if(A!=null)b.style.top=A+"px";b.style.visibility="visible";b.style.display=
"";n.disabled=true;e.focus()};this.F=function(){b.style.visibility="hidden";b.style.display="none";q.hb!=null&&q.hb()};this.Og=function(){return b.style.visibility=="hidden"};this.Cd=function(r){if(s!=null)s.innerHTML=r;else c.innerHTML=r};this.yh=function(r){g.innerHTML=r}};
